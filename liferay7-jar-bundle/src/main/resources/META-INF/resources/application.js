define(["element-query","valamis-jq-plugins","backbone.service","backbone.modal","backbone.marionette.modal","jquery-ui","jquery.fileupload","nestedSortable","settingsHelper","backbone.marionette","backbone","jquery","lodash","toastr","backbone.radio","underscore","moment","humanize-duration"],function(b,n,f,o,h,r,j,a,l,q,i,g,p,m,k,d,e,c){return function(s){function u(w){if(t[w]){return t[w].exports}var v=t[w]={exports:{},id:w,loaded:!1};return s[w].call(v.exports,v,v.exports,u),v.loaded=!0,v.exports}var t={};return u.m=s,u.c=t,u.p="",u(0)}([function(t,s,w){function u(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(s,"__esModule",{value:!0}),w(1),w(2),w(3),w(4),w(5),w(6),w(7),w(8),w(9);var x=w(10),v=u(x);s["default"]=v["default"]},function(t,s){t.exports=b},function(t,s){t.exports=n},function(t,s){t.exports=f},function(t,s){t.exports=o},function(t,s){t.exports=h},function(t,s){t.exports=r},function(t,s){t.exports=j},function(t,s){t.exports=a},function(t,s){t.exports=l},function(t,s,u){(function(N,V,z){function y(ae){return ae&&ae.__esModule?ae:{"default":ae}}function F(ae,af){if(!(ae instanceof af)){throw new TypeError("Cannot call a class as a function")}}function Q(ae,af){if(!ae){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !af||"object"!=typeof af&&"function"!=typeof af?ae:af}function T(af,ae){if("function"!=typeof ae&&null!==ae){throw new TypeError("Super expression must either be null or a function, not "+typeof ae)}af.prototype=Object.create(ae&&ae.prototype,{constructor:{value:af,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(af,ae):af.__proto__=ae)}Object.defineProperty(s,"__esModule",{value:!0});var W,C,X=function(){function ae(ai,ag){for(var af=0;af<ag.length;af++){var ah=ag[af];ah.enumerable=ah.enumerable||!1,ah.configurable=!0,"value" in ah&&(ah.writable=!0),Object.defineProperty(ai,ah.key,ah)}}return function(ah,af,ag){return af&&ae(ah.prototype,af),ag&&ae(ah,ag),ah}}(),x=function aa(af,ai,ah){null===af&&(af=Function.prototype);var aj=Object.getOwnPropertyDescriptor(af,ai);if(void 0===aj){var ag=Object.getPrototypeOf(af);return null===ag?void 0:aa(ag,ai,ah)}if("value" in aj){return aj.value}var ae=aj.get;if(void 0!==ae){return ae.call(ah)}},ad=u(13),P=u(32),I=y(P),A=u(35),E=y(A),M=u(36),L=y(M),v=u(37),w=y(v),ac=u(38),Z=y(ac),O=u(46),ab=y(O),K=u(50),J=y(K),H=u(45),Y=y(H),B=u(51),S=y(B),G=u(53),D=y(G),R=function(ae){function af(){return F(this,af),Q(this,(af.__proto__||Object.getPrototypeOf(af)).apply(this,arguments))}return T(af,ae),X(af,[{key:"start",value:function(ag){V._babelPolyfill||u(161),this.language=ag.language,this.permissions=ag.permissions,L["default"].init({language:ag.language,permissions:ag.permissions}),w["default"].init(),x(af.prototype.__proto__||Object.getPrototypeOf(af.prototype),"start",this).call(this)}}]),af}(N.Application),U=(W=(0,ad.mixin)({region:"#learningPathsAppRegion"}),W(C=function(af){function ae(){return F(this,ae),Q(this,(ae.__proto__||Object.getPrototypeOf(ae)).apply(this,arguments))}return T(ae,af),X(ae,[{key:"start",value:function(ai,an){var ak=this,ag=function(ao){return""+(0,J["default"])().resourcePath+"i18n/learningPaths_"+ao+".properties"},am=E["default"].getUserLocale(),al="en",ah=ag(am),aj=ag(al);I["default"].loadProperties(ah,aj,function(ao){x(ae.prototype.__proto__||Object.getPrototypeOf(ae.prototype),"start",ak).call(ak,{language:ao,permissions:(0,J["default"])().permissions})},function(ao){console.error("Can't load locale resources (user or default)")})}},{key:"onStart",value:function(){var ai=this;this.getRegion().reset(),this.notifyService&&_.isFunction(this.notifyService.destroy)&&this.notifyService.destroy(),this.modalService&&_.isFunction(this.modalService.destroy)&&this.modalService.destroy(),window.hasOwnProperty("elementQuery")&&elementQuery.init();var ag=new D["default"]();this.notifyService=new Z["default"](),this.modalService=new ab["default"]({region:ag.getRegion("modals")});var aj=this;this.openLpId=void 0;var ah=z.Router.extend({routes:{"":"index","learning-path/:id":"openedByLink"},index:function(){},openedByLink:function(ak){aj.openLpId=ak}});this.router=new ah(),z.History.started||z.history.start(),this.activities=new S["default"](),this.activities.fetch().then(function(){ai.showView(ag)},function(){Y["default"].channel("notify").trigger("notify","error","failedLabel")})}}]),ae}(R))||C);s["default"]=new U()}).call(s,u(11),function(){return this}(),u(12))},function(t,s){t.exports=q},function(t,s){t.exports=i},function(t,M,u){function s(N){return N&&N.__esModule?N["default"]:N}Object.defineProperty(M,"__esModule",{value:!0});var F=u(14);M.override=s(F);var v=u(17);M.deprecate=s(v),M.deprecated=s(v);var E=u(18);M.suppressWarnings=s(E);var C=u(19);M.memoize=s(C);var I=u(20);M.autobind=s(I);var H=u(21);M.readonly=s(H);var z=u(22);M.enumerable=s(z);var A=u(23);M.nonenumerable=s(A);var x=u(24);M.nonconfigurable=s(x);var y=u(25);M.debounce=s(y);var B=u(26);M.throttle=s(B);var G=u(27);M.decorate=s(G);var w=u(28);M.mixin=s(w),M.mixins=s(w);var K=u(16);M.lazyInitialize=s(K);var J=u(29);M.time=s(J);var D=u(30);M.extendDescriptor=s(D);var L=u(31);M.applyDecorators=s(L)},function(t,J,v){function y(K,L){if(!(K instanceof L)){throw new TypeError("Cannot call a class as a function")}}function C(K){return K.hasOwnProperty("value")?"data":K.hasOwnProperty("get")||K.hasOwnProperty("set")?"accessor":"data"}function I(L,M,K){K.assert(L.length===M.length)}function u(M,P,K){var O=typeof M.value,N=typeof P.value;if("undefined"===O&&"undefined"===N&&K.error("descriptor values are both undefined. (class properties are are not currently supported)'"),O!==N){var L="function"===N&&void 0===O;(L||void 0!==O)&&K.error('value types do not match. {parent} is "'+O+'", {child} is "'+N+'"')}switch(N){case"function":I(M.value,P.value,K);break;default:K.error('Unexpected error. Please file a bug with: {parent} is "'+O+'", {child} is "'+N+'"')}}function w(P,Q,L){var N="function"==typeof P.get,M="function"==typeof Q.get,K="function"==typeof P.set,O="function"==typeof Q.set;(N||M)&&(!N&&K&&L.error("{parent} is setter but {child} is getter"),!M&&O&&L.error("{parent} is getter but {child} is setter"),I(P.get,Q.get,L)),(K||O)&&(!K&&N&&L.error("{parent} is getter but {child} is setter"),!O&&M&&L.error("{parent} is setter but {child} is getter"),I(P.set,Q.set,L))}function F(M,O,K){var N=C(M),L=C(O);switch(N!==L&&K.error('descriptor types do not match. {parent} is "'+N+'", {child} is "'+L+'"'),L){case"data":u(M,O,K);break;case"accessor":w(M,O,K)}}function E(T,Q){var N=!0,K=!1,R=void 0;try{for(var S,O=G[Symbol.iterator]();!(N=(S=O.next()).done);N=!0){var P=S.value,M=P(Q);if(M in T){return M}}}catch(L){K=!0,R=L}finally{try{!N&&O["return"]&&O["return"]()}finally{if(K){throw R}}}return null}function A(Q,N,P){P.key=N;var R=Object.getPrototypeOf(Q),O=Object.getOwnPropertyDescriptor(R,N),M=new x(R,Q,O,P);if(void 0===O){var L=E(R,N),K=L?'\n\n  Did you mean "'+L+'"?':"";M.error("No descriptor matching {child} was found on the prototype chain."+K)}return F(O,P,M),P}function D(){for(var K=arguments.length,L=Array(K),M=0;M<K;M++){L[M]=arguments[M]}return(0,s.decorate)(A,L)}Object.defineProperty(J,"__esModule",{value:!0});var H=function(){function K(O,M){for(var L=0;L<M.length;L++){var N=M[L];N.enumerable=N.enumerable||!1,N.configurable=!0,"value" in N&&(N.writable=!0),Object.defineProperty(O,N.key,N)}}return function(N,L,M){return L&&K(N.prototype,L),M&&K(N,M),N}}();J["default"]=D;var s=v(15),z="{child} does not properly override {parent}",B=/^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/,x=function(){function K(L,N,O,M){y(this,K),this.parentKlass=L,this.childKlass=N,this.parentDescriptor=O,this.childDescriptor=M}return H(K,[{key:"_getTopic",value:function(L){return void 0===L?null:"value" in L?L.value:"get" in L?L.get:"set" in L?L.set:void 0}},{key:"_extractTopicSignature",value:function(L){switch(typeof L){case"function":return this._extractFunctionSignature(L);default:return this.key}}},{key:"_extractFunctionSignature",value:function(L){var M=this;return L.toString().replace(B,function(O,N,P){return void 0===N&&(N=M.key),N+P})}},{key:"key",get:function(){return this.childDescriptor.key}},{key:"parentNotation",get:function(){return this.parentKlass.constructor.name+"#"+this.parentPropertySignature}},{key:"childNotation",get:function(){return this.childKlass.constructor.name+"#"+this.childPropertySignature}},{key:"parentTopic",get:function(){return this._getTopic(this.parentDescriptor)}},{key:"childTopic",get:function(){return this._getTopic(this.childDescriptor)}},{key:"parentPropertySignature",get:function(){return this._extractTopicSignature(this.parentTopic)}},{key:"childPropertySignature",get:function(){return this._extractTopicSignature(this.childTopic)}}]),H(K,[{key:"assert",value:function(M){var L=arguments.length<=1||void 0===arguments[1]?"":arguments[1];M!==!0&&this.error(z+L)}},{key:"error",value:function(M){var L=this;throw M=M.replace("{parent}",function(N){return L.parentNotation}).replace("{child}",function(N){return L.childNotation}),new SyntaxError(M)}}]),K}(),G=[function(K){return K.toLowerCase()},function(K){return K.toUpperCase()},function(K){return K+"s"},function(K){return K.slice(0,-1)},function(K){return K.slice(1,K.length)}];t.exports=J["default"]},function(v,N,w){function u(P){return P&&P.__esModule?P:{"default":P}}function x(P){if(Array.isArray(P)){for(var R=0,Q=Array(P.length);R<P.length;R++){Q[R]=P[R]}return Q}return Array.from(P)}function y(P,Q){if(!(P instanceof Q)){throw new TypeError("Cannot call a class as a function")}}function K(U,P,R){var S=R[P];if(S){var T={};for(var Q in S){T[Q]=S[Q]}T.value=T.initializer?T.initializer.call(U):void 0,Object.defineProperty(U,P,T)}}function O(S){if(!S||!S.hasOwnProperty){return !1}for(var R=["value","initializer","get","set"],Q=0,P=R.length;Q<P;Q++){if(S.hasOwnProperty(R[Q])){return !0}}return !1}function E(P,Q){return O(Q[Q.length-1])?P.apply(void 0,x(Q).concat([[]])):function(){return P.apply(void 0,A.call(arguments).concat([Q]))}}function L(P){return P.hasOwnProperty(F)===!1&&B(P,F,{value:new I()}),P[F]}function D(Q){var P={};return C(Q).forEach(function(R){return P[R]=G(Q,R)}),P}function H(P){return function(Q){return Object.defineProperty(this,P,{configurable:!0,writable:!0,enumerable:!0,value:Q}),Q}}Object.defineProperty(N,"__esModule",{value:!0});var A=Array.prototype.slice,t=function(){function P(U,X,V){for(var S=0;S<X.length;S++){var Q=X[S],Y=Q.decorators,W=Q.key;if(delete Q.key,delete Q.decorators,Q.enumerable=Q.enumerable||!1,Q.configurable=!0,("value" in Q||Q.initializer)&&(Q.writable=!0),Y){for(var T=0;T<Y.length;T++){var R=Y[T];if("function"!=typeof R){throw new TypeError("The decorator for method "+Q.key+" is of the invalid type "+typeof R)}Q=R(U,W,Q)||Q}if(void 0!==Q.initializer){V[W]=Q;continue}}Object.defineProperty(U,W,Q)}}return function(T,R,S,U,Q){return R&&P(T.prototype,R,U),S&&P(T,S,Q),T}}();N.isDescriptor=O,N.decorate=E,N.metaFor=L,N.getOwnPropertyDescriptors=D,N.createDefaultSetter=H;var M=w(16),J=u(M),B=Object.defineProperty,G=Object.getOwnPropertyDescriptor,z=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,I=function(){function Q(){y(this,Q),K(this,"debounceTimeoutIds",P),K(this,"throttleTimeoutIds",P),K(this,"throttlePreviousTimestamps",P)}var P={};return t(Q,[{key:"debounceTimeoutIds",decorators:[J["default"]],initializer:function(){return{}},enumerable:!0},{key:"throttleTimeoutIds",decorators:[J["default"]],initializer:function(){return{}},enumerable:!0},{key:"throttlePreviousTimestamps",decorators:[J["default"]],initializer:function(){return{}},enumerable:!0}],null,P),Q}(),F="function"==typeof Symbol?Symbol("__core_decorators__"):"__core_decorators__",C=s?function(P){return z(P).concat(s(P))}:z;N.getOwnKeys=C},function(v,u,x){function t(E,A,D){var z=D.configurable,y=D.enumerable,B=D.initializer,C=D.value;return{configurable:z,enumerable:y,get:function(){if(this!==E){var F=B?B.call(this):C;return Object.defineProperty(this,A,{configurable:z,enumerable:y,writable:!0,value:F}),F}},set:(0,s.createDefaultSetter)(A)}}function w(){for(var y=arguments.length,z=Array(y),A=0;A<y;A++){z[A]=arguments[A]}return(0,s.decorate)(t,z)}Object.defineProperty(u,"__esModule",{value:!0}),u["default"]=w;var s=x(15);v.exports=u["default"]},function(u,w,t){function x(I,J,B,G){var E=A(G,2),F=E[0],C=void 0===F?s:F,D=E[1],K=void 0===D?{}:D;if("function"!=typeof B.value){throw new SyntaxError("Only functions can be marked as deprecated")}var H=I.constructor.name+"#"+J;return K.url&&(C+="\n\n    See "+K.url+" for more details.\n\n"),v({},B,{value:function(){return console.warn("DEPRECATION "+H+": "+C),B.value.apply(this,arguments)}})}function y(){for(var B=arguments.length,C=Array(B),D=0;D<B;D++){C[D]=arguments[D]}return(0,z.decorate)(x,C)}Object.defineProperty(w,"__esModule",{value:!0});var A=function(){function B(G,F){var J=[],C=!0,I=!1,H=void 0;try{for(var K,E=G[Symbol.iterator]();!(C=(K=E.next()).done)&&(J.push(K.value),!F||J.length!==F);C=!0){}}catch(D){I=!0,H=D}finally{try{!C&&E["return"]&&E["return"]()}finally{if(I){throw H}}}return J}return function(C,D){if(Array.isArray(C)){return C}if(Symbol.iterator in Object(C)){return B(C,D)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=Object.assign||function(E){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var B in D){Object.prototype.hasOwnProperty.call(D,B)&&(E[B]=D[B])}}return E};w["default"]=y;var z=t(15),s="This function will be removed in future versions.";u.exports=w["default"]},function(t,v,s){function z(){}function A(E,F,C){var D=console.warn;console.warn=z;var B=F.apply(E,C);return console.warn=D,B}function w(D,B,C){return u({},C,{value:function(){return A(this,C.value,arguments)}})}function x(){for(var B=arguments.length,C=Array(B),D=0;D<B;D++){C[D]=arguments[D]}return(0,y.decorate)(w,C)}Object.defineProperty(v,"__esModule",{value:!0});var u=Object.assign||function(E){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var B in D){Object.prototype.hasOwnProperty.call(D,B)&&(E[B]=D[B])}}return E};v["default"]=x;var y=s(15);t.exports=v["default"]},function(t,w,s){function u(F,D,E){return D in F?Object.defineProperty(F,D,{value:E,enumerable:!0,configurable:!0,writable:!0}):F[D]=E,F}function C(D,E){return E===Object(E)?E:D[E]||(D[E]={})}function B(H,I,G,E,D){var F=I.apply(H,G);return E[D]=F,F}function A(F){var D=void 0,E=void 0;return F.value?(D=F.value,E="value"):F.get?(D=F.get,E="get"):F.set&&(D=F.set,E="set"),{fn:D,wrapKey:E}}function x(G,J,D){console.warn("DEPRECATION: @memoize is deprecated and will be removed shortly. Use @decorate with lodash's memoize helper.\n\n  https://github.com/jayphelps/core-decorators.js#decorate");var K=A(D),I=K.fn,H=K.wrapKey,L=new WeakMap(),E=Object.create(null),M=Object.create(null),F=0;return v({},D,u({},H,function(){for(var T=arguments.length,S=Array(T),N=0;N<T;N++){S[N]=arguments[N]}for(var O="0",R=0,Q=S.length;R<Q;R++){var V=S[R],P=C(M,V),U=L.get(P);void 0===U&&(U=++F,L.set(P,U)),O+=U}return E[O]||B(this,I,arguments,E,O)}))}function z(){for(var D=arguments.length,F=Array(D),E=0;E<D;E++){F[E]=arguments[E]}return(0,y.decorate)(x,F)}Object.defineProperty(w,"__esModule",{value:!0});var v=Object.assign||function(G){for(var E=1;E<arguments.length;E++){var F=arguments[E];for(var D in F){Object.prototype.hasOwnProperty.call(F,D)&&(G[D]=F[D])}}return G};w["default"]=z;var y=s(15);t.exports=w["default"]},function(v,w,u){function C(F){if(Array.isArray(F)){for(var H=0,G=Array(F.length);H<F.length;H++){G[H]=F[H]}return G}return Array.from(F)}function A(G,F){return G.bind?G.bind(F):function(){return G.apply(F,arguments)}}function B(H,G){if("undefined"==typeof WeakMap){throw new Error("Using @autobind on "+G.name+"() requires WeakMap support due to its use of super."+G.name+"()\n      See https://github.com/jayphelps/core-decorators.js/issues/20")}s||(s=new WeakMap()),s.has(H)===!1&&s.set(H,new WeakMap());var F=s.get(H);return F.has(G)===!1&&F.set(G,A(G,H)),F.get(G)}function E(L){var I=(0,z.getOwnPropertyDescriptors)(L.prototype),H=!0,F=!1,N=void 0;try{for(var O,K=(0,z.getOwnKeys)(I)[Symbol.iterator]();!(H=(O=K.next()).done);H=!0){var M=O.value,J=I[M];"function"==typeof J.value&&"constructor"!==M&&t(L.prototype,M,D(L.prototype,M,J))}}catch(G){F=!0,N=G}finally{try{!H&&K["return"]&&K["return"]()}finally{if(F){throw N}}}}function D(L,H,K){var J=K.value,G=K.configurable,F=K.enumerable;if("function"!=typeof J){throw new SyntaxError("@autobind can only be used on functions, not: "+J)}var I=L.constructor;return{configurable:G,enumerable:F,get:function(){if(this===L){return J}if(this.constructor!==I&&Object.getPrototypeOf(this).constructor===I){return J}if(this.constructor!==I&&H in this.constructor.prototype){return B(this,J)}var M=A(J,this);return t(this,H,{configurable:!0,writable:!0,enumerable:!1,value:M}),M},set:(0,z.createDefaultSetter)(H)}}function x(F){return 1===F.length?E.apply(void 0,C(F)):D.apply(void 0,C(F))}function y(){for(var F=arguments.length,G=Array(F),H=0;H<F;H++){G[H]=arguments[H]}return 0===G.length?function(){return x(arguments)}:x(G)}Object.defineProperty(w,"__esModule",{value:!0}),w["default"]=y;var z=u(15),t=Object.defineProperty,s=void 0;v.exports=w["default"]},function(w,v,x){function u(A,y,z){return z.writable=!1,z}function t(){for(var y=arguments.length,z=Array(y),A=0;A<y;A++){z[A]=arguments[A]}return(0,s.decorate)(u,z)}Object.defineProperty(v,"__esModule",{value:!0}),v["default"]=t;var s=x(15);w.exports=v["default"]},function(w,v,x){function u(A,y,z){return z.enumerable=!0,z}function t(){for(var y=arguments.length,z=Array(y),A=0;A<y;A++){z[A]=arguments[A]}return(0,s.decorate)(u,z)}Object.defineProperty(v,"__esModule",{value:!0}),v["default"]=t;var s=x(15);w.exports=v["default"]},function(w,u,x){function t(A,y,z){return z.enumerable=!1,z}function v(){for(var y=arguments.length,z=Array(y),A=0;A<y;A++){z[A]=arguments[A]}return(0,s.decorate)(t,z)}Object.defineProperty(u,"__esModule",{value:!0}),u["default"]=v;var s=x(15);w.exports=u["default"]},function(v,u,w){function t(A,y,z){return z.configurable=!1,z}function x(){for(var y=arguments.length,z=Array(y),A=0;A<y;A++){z[A]=arguments[A]}return(0,s.decorate)(t,z)}Object.defineProperty(u,"__esModule",{value:!0}),u["default"]=x;var s=w(15);v.exports=u["default"]},function(t,v,s){function w(I,J,B,G){var E=z(G,2),F=E[0],H=void 0===F?A:F,D=E[1],C=void 0!==D&&D,K=B.value;if("function"!=typeof K){throw new SyntaxError("Only functions can be debounced")}return u({},B,{value:function(){var Q=this,P=(0,x.metaFor)(this),N=P.debounceTimeoutIds,O=N[J],L=C&&!O,M=arguments;clearTimeout(O),N[J]=setTimeout(function(){delete N[J],C||K.apply(Q,M)},H),L&&K.apply(this,M)}})}function y(){for(var B=arguments.length,C=Array(B),D=0;D<B;D++){C[D]=arguments[D]}return(0,x.decorate)(w,C)}Object.defineProperty(v,"__esModule",{value:!0});var z=function(){function B(G,F){var J=[],C=!0,I=!1,H=void 0;try{for(var K,E=G[Symbol.iterator]();!(C=(K=E.next()).done)&&(J.push(K.value),!F||J.length!==F);C=!0){}}catch(D){I=!0,H=D}finally{try{!C&&E["return"]&&E["return"]()}finally{if(I){throw H}}}return J}return function(C,D){if(Array.isArray(C)){return C}if(Symbol.iterator in Object(C)){return B(C,D)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=Object.assign||function(E){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var B in D){Object.prototype.hasOwnProperty.call(D,B)&&(E[B]=D[B])}}return E};v["default"]=y;var x=s(15),A=300;t.exports=v["default"]},function(t,v,s){function w(H,I,B,F){var D=z(F,2),E=D[0],G=void 0===E?A:E,C=D[1],K=void 0===C?{}:C,J=B.value;if("function"!=typeof J){throw new SyntaxError("Only functions can be throttled")}return K.leading!==!1&&(K.leading=!0),K.trailing!==!1&&(K.trailing=!0),u({},B,{value:function(){var Q=this,N=(0,x.metaFor)(this),T=N.throttleTimeoutIds,M=N.throttlePreviousTimestamps,S=T[I],P=M[I]||0,L=Date.now(),R=arguments;P||K.leading!==!1||(P=L);var O=G-(L-P);O<=0?(clearTimeout(S),delete T[I],M[I]=L,J.apply(this,R)):S||K.trailing===!1||(T[I]=setTimeout(function(){M[I]=K.leading===!1?0:Date.now(),delete T[I],J.apply(Q,R)},O))}})}function y(){for(var B=arguments.length,C=Array(B),D=0;D<B;D++){C[D]=arguments[D]}return(0,x.decorate)(w,C)}Object.defineProperty(v,"__esModule",{value:!0});var z=function(){function B(G,F){var J=[],C=!0,I=!1,H=void 0;try{for(var K,E=G[Symbol.iterator]();!(C=(K=E.next()).done)&&(J.push(K.value),!F||J.length!==F);C=!0){}}catch(D){I=!0,H=D}finally{try{!C&&E["return"]&&E["return"]()}finally{if(I){throw H}}}return J}return function(C,D){if(Array.isArray(C)){return C}if(Symbol.iterator in Object(C)){return B(C,D)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=Object.assign||function(E){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var B in D){Object.prototype.hasOwnProperty.call(D,B)&&(E[B]=D[B])}}return E};v["default"]=y;var x=s(15),A=300;t.exports=v["default"]},function(x,w,z){function s(A){if(Array.isArray(A)){for(var C=0,B=Array(A.length);C<A.length;C++){B[C]=A[C]}return B}return Array.from(A)}function u(A){return Array.isArray(A)?A:Array.from(A)}function v(H,L,A,F){var D=u(F),E=D[0],I=D.slice(1),M=A.configurable,C=A.enumerable,J=A.writable,N=A.get,G=A.set,K=A.value,B=!!N;return{configurable:M,enumerable:C,get:function(){var O=B?N.call(this):K,P=E.call.apply(E,[this,O].concat(s(I)));if(B){return P}var Q={configurable:M,enumerable:C};return Q.value=P,Q.writable=J,Object.defineProperty(this,L,Q),P},set:B?G:(0,t.createDefaultSetter)()}}function y(){for(var A=arguments.length,B=Array(A),C=0;C<A;C++){B[C]=arguments[C]}return(0,t.decorate)(v,B)}Object.defineProperty(w,"__esModule",{value:!0}),w["default"]=y;var t=z(15);x.exports=w["default"]},function(u,v,t){function x(C){return"[object Symbol]"===Object.prototype.toString.call(C)&&"object"==typeof C}function A(D,C){if(x(D)){do{if(C===Object.prototype){return"undefined"!=typeof C[D]}if(C.hasOwnProperty(D)){return !0}}while(C=y(C));return !1}return D in C}function z(K,J){if(!J.length){throw new SyntaxError("@mixin() class "+K.name+" requires at least one mixin as an argument")}for(var F=0,D=J.length;F<D;F++){var H=(0,w.getOwnPropertyDescriptors)(J[F]),G=!0,C=!1,N=void 0;try{for(var M,I=(0,w.getOwnKeys)(H)[Symbol.iterator]();!(G=(M=I.next()).done);G=!0){var L=M.value;A(L,K.prototype)||s(K.prototype,L,H[L])}}catch(E){C=!0,N=E}finally{try{!G&&I["return"]&&I["return"]()}finally{if(C){throw N}}}}}function B(){for(var D=arguments.length,C=Array(D),E=0;E<D;E++){C[E]=arguments[E]}return"function"==typeof C[0]?z(C[0],[]):function(F){return z(F,C)}}Object.defineProperty(v,"__esModule",{value:!0}),v["default"]=B;var w=t(15),s=Object.defineProperty,y=Object.getPrototypeOf;u.exports=v["default"]},function(t,w,s){function y(K,M,D,I){var F=C(I,2),G=F[0],J=void 0===G?null:G,E=F[1],H=void 0===E?B:E,L=D.value;if(null===J&&(J=K.constructor.name+"."+M),"function"!=typeof L){throw new SyntaxError("@time can only be used on functions, not: "+L)}return v({},D,{value:function(){var N=J+"-"+z;z++,H.time(N);try{return L.apply(this,arguments)}finally{H.timeEnd(N)}}})}function u(){for(var D=arguments.length,E=Array(D),F=0;F<D;F++){E[F]=arguments[F]}return(0,A.decorate)(y,E)}Object.defineProperty(w,"__esModule",{value:!0});var C=function(){function D(I,H){var L=[],E=!0,K=!1,J=void 0;try{for(var M,G=I[Symbol.iterator]();!(E=(M=G.next()).done)&&(L.push(M.value),!H||L.length!==H);E=!0){}}catch(F){K=!0,J=F}finally{try{!E&&G["return"]&&G["return"]()}finally{if(K){throw J}}}return L}return function(E,F){if(Array.isArray(E)){return E}if(Symbol.iterator in Object(E)){return D(E,F)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=Object.assign||function(G){for(var E=1;E<arguments.length;E++){var F=arguments[E];for(var D in F){Object.prototype.hasOwnProperty.call(F,D)&&(G[D]=F[D])}}return G};w["default"]=u;var A=s(15),x={},B={time:console.time?console.time.bind(console):function(D){x[D]=new Date()},timeEnd:console.timeEnd?console.timeEnd.bind(console):function(F){var E=new Date(),D=E-x[F];delete x[F],console.log(F+": "+D+"ms")}};w.defaultConsole=B;var z=0},function(w,u,x){function t(C,A,B){var D=Object.getPrototypeOf(C),z=Object.getOwnPropertyDescriptor(D,A);return v({},z,{value:B.value,initializer:B.initializer,get:B.get||z.get,set:B.set||z.set})}function y(){for(var z=arguments.length,A=Array(z),B=0;B<z;B++){A[B]=arguments[B]}return(0,s.decorate)(t,A)}Object.defineProperty(u,"__esModule",{value:!0});var v=Object.assign||function(C){for(var A=1;A<arguments.length;A++){var B=arguments[A];for(var z in B){Object.prototype.hasOwnProperty.call(B,z)&&(C[z]=B[z])}}return C};u["default"]=y;var s=x(15);w.exports=u["default"]},function(u,t){function w(A,E){var B=A.prototype;for(var D in E){for(var z=E[D],C=0,x=z.length;C<x;C++){var y=z[C];s(B,D,y(B,D,v(B,D)))}}return A}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=w;var s=Object.defineProperty,v=Object.getOwnPropertyDescriptor;u.exports=t["default"]},function(t,s,u){(function(A){function z(C){return C&&C.__esModule?C:{"default":C}}function B(C,D){if(!(C instanceof D)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(s,"__esModule",{value:!0});var y=function(){function C(G,E){for(var D=0;D<E.length;D++){var F=E[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value" in F&&(F.writable=!0),Object.defineProperty(G,F.key,F)}}return function(F,D,E){return D&&C(F.prototype,D),E&&C(F,E),F}}(),w=u(34),x=z(w),v=function(){function C(){B(this,C)}return y(C,[{key:"loadProperties",value:function(G,I,D,E){var J=this,H=function(Q){var P=function(S){var R=S;return 0===x["default"].trim(S).indexOf("#")&&(R=S.substr(0,S.indexOf("#"))),x["default"].trim(R)},N=function(S){var R={},T=S.indexOf("=");return T>=0?(R.key=x["default"].trim(S.substr(0,T)),R.value=x["default"].trim(S.substr(T+1)),R):null},M={},L=Q.split(/\r\n|\n|\r/g);for(var O in L){var K=N(P(L[O]));K&&(M[K.key]=K.value)}return M},F=function(L,K){var M=void 0,O=void 0;if(L){if(K){O=H(K),M=H(L);for(var N in M){O[N]&&""!=O[N]&&(M[N]=O[N])}D.call(J,M)}else{M=H(L),D.call(J,M)}}else{K?(O=H(K),D.call(J,O)):E.call(J)}};I==G?this.getResourse(I).done(function(K){F(K,null)}).fail(function(){F(null,null)}):this.getResourse(I).done(function(K){J.getResourse(G).done(function(L){F(K,L)}).fail(function(){F(K,null)})}).fail(function(){J.getResourse(G).done(function(K){F(null,K)}).fail(function(){F(null,null)})})}},{key:"getResourse",value:function(D){return A.ajax({type:"get",url:D,dataType:"text"})}}]),C}();s["default"]=new v()}).call(s,u(33))},function(t,s){t.exports=g},function(t,s){t.exports=p},function(u,s){function w(x,y){if(!(x instanceof y)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function x(B,z){for(var y=0;y<z.length;y++){var A=z[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value" in A&&(A.writable=!0),Object.defineProperty(B,A.key,A)}}return function(A,y,z){return y&&x(A.prototype,y),z&&x(A,z),A}}(),v=function(){function x(){w(this,x)}return t(x,null,[{key:"getUserLocale",value:function(){var z=Liferay.ThemeDisplay.getLanguageId(),y=z.indexOf("_");return y>0&&(z=z.substr(0,y)),z}},{key:"getUserLanguageId",value:function(){return Liferay.ThemeDisplay.getLanguageId()}},{key:"authToken",value:function(){return Liferay.authToken}},{key:"courseId",value:function(){return parseInt(Liferay.ThemeDisplay.getScopeGroupId())}},{key:"plId",value:function(){return parseInt(Liferay.ThemeDisplay.getPlid())}},{key:"userId",value:function(){return parseInt(Liferay.ThemeDisplay.getUserId())}},{key:"pathMain",value:function(){return Liferay.ThemeDisplay.getPathMain()}}]),x}();s["default"]=v},function(t,s,u){(function(B){function z(C){return C&&C.__esModule?C:{"default":C}}function A(C,D){if(!(C instanceof D)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(s,"__esModule",{value:!0}),s["default"]=void 0;var x=function(){function C(G,E){for(var D=0;D<E.length;D++){var F=E[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value" in F&&(F.writable=!0),Object.defineProperty(G,F.key,F)}}return function(F,D,E){return D&&C(F.prototype,D),E&&C(F,E),F}}(),v=u(34),w=z(v),y=function(){function C(){A(this,C)}return x(C,null,[{key:"init",value:function(D){D=D||{},B.Renderer.render=function(G,H,E){if(w["default"].extend(H,{language:D.language}),w["default"].extend(H,{permissions:D.permissions}),!G){throw new B.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."})}var F=w["default"].isFunction(G)?G:B.TemplateCache.get(G);return F(H)}}}]),C}();s["default"]=y}).call(s,u(11))},function(t,s,u){(function(C){function D(E){return E&&E.__esModule?E:{"default":E}}function x(E,F){if(!(E instanceof F)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(s,"__esModule",{value:!0}),s["default"]=void 0;var v=function(){function E(I,G){for(var F=0;F<G.length;F++){var H=G[F];H.enumerable=H.enumerable||!1,H.configurable=!0,"value" in H&&(H.writable=!0),Object.defineProperty(I,H.key,H)}}return function(H,F,G){return F&&E(H.prototype,F),G&&E(H,G),H}}(),y=u(34),w=D(y),B=u(35),z=D(B),A=function(){function E(){x(this,E)}return v(E,null,[{key:"init",value:function(){var F=C.sync;C.sync=function(M,I,H){var L=this,J=z["default"].authToken(),G=z["default"].plId(),K={layoutId:G,"X-VALAMIS-Layout-Id":G,"X-VALAMIS-Course-Id":z["default"].courseId()};return H.data||"read"===M||(H.contentType="application/json",H.data=JSON.stringify(I.toJSON())),"read"!=M&&w["default"].extend(K,{"X-CSRF-Token":J}),H.beforeSend=function(N){w["default"].each(K,function(P,O){N.setRequestHeader(O,P)})},new Promise(function(O,N){F.apply(L,[M,I,H]).then(function(){O.apply(void 0,arguments)},function(){N.apply(void 0,arguments)})})}}}]),E}();s["default"]=A}).call(s,u(12))},function(t,s,u){(function(A,z){function F(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(s,"__esModule",{value:!0});var C=u(10),w=F(C),B=u(39),E=F(B),D=u(40),v=F(D),x=u(45),y=(F(x),A.Object.extend({channelName:"notify",radioEvents:{notify:"notify",confirm:"confirm"},notify:function(L,K,H,M){function J(N){switch(N){case"success":return E["default"].success;case"warning":return E["default"].warning;case"error":return E["default"].error;case"clear":return E["default"].clear;case"info":default:return E["default"].info}}var G=J(L);H=H||{},_.extend(H,{positionClass:"toast-top-right"}),E["default"].options.positionClass||H&&H.positionClass||_.extend(H,{positionClass:"toast-top-right"}),z("#toast-container").children().length>0&&(E["default"].options.hideDuration=0,E["default"].clear(),E["default"].options.hideDuration=1000);var I=w["default"].language[K]||K;G(I,M,H)},confirm:function(G,I,K){var H=new v["default"](G);H.on("confirmed",function(){H.destroy(),_.isFunction(I)&&I()}),H.on("declined",function(){H.destroy(),_.isFunction(K)&&K()});var J=w["default"].language[this.options.title]||this.options.title;E["default"].info(H.render().$el,J,{positionClass:"toast-center",timeOut:"0",showDuration:"0",hideDuration:"0",extendedTimeOut:"0"})}}));s["default"]=y}).call(s,u(11),u(33))},function(t,s){t.exports=m},function(t,s,u){(function(z){function w(A){return A&&A.__esModule?A:{"default":A}}Object.defineProperty(s,"__esModule",{value:!0});var x=u(41),y=w(x),v=z.View.extend({template:y["default"],ui:{confirm:".js-confirmation",decline:".js-decline"},events:{"click @ui.confirm":"confirm","click @ui.decline":"decline"},templateContext:function(){return{message:this.options.message||"",showDontSaveButton:!!this.options.showDontSaveButton}},confirm:function(){this.trigger("confirmed",this)},decline:function(){this.trigger("declined",this)},onRender:function(){return this.$el}});s["default"]=v}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="confirmation-question">'),x.b(x.v(x.f("message",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b("<div>"),x.b("\n"+y),x.b("    <button class='js-confirmation confirmation btn-primary'>"),x.b(x.v(x.d("language.yesLabel",A,z,0))),x.b("</button>"),x.b("\n"+y),x.s(x.f("showDontSaveButton",A,z,1),A,z,0,178,270,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('    <button class="js-decline decline btn-primary">'),B.b(B.v(B.d("language.dontSaveLabel",D,C,0))),B.b("</button>"),B.b("\n"+y)}),A.pop()),x.b("    <button>"),x.b(x.v(x.d("language.cancelLabel",A,z,0))),x.b("</button>"),x.b("\n"+y),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="confirmation-question">{{message}}</div>\n<div>\n    <button class=\'js-confirmation confirmation btn-primary\'>{{language.yesLabel}}</button>\n    {{#showDontSaveButton}}\n    <button class="js-decline decline btn-primary">{{language.dontSaveLabel}}</button>\n    {{/showDontSaveButton}}\n    <button>{{language.cancelLabel}}</button>\n</div>',t);return w.render.apply(w,arguments)}},function(u,t,v){var s=v(43);s.Template=v(44).Template,s.template=s.Template,u.exports=s},function(t,s,u){!function(I){function N(S){"}"===S.n.substr(S.n.length-1)&&(S.n=S.n.substring(0,S.n.length-1))}function M(S){return S.trim?S.trim():S.replace(/^\s*|\s*$/g,"")}function R(S,W,U){if(W.charAt(U)!=S.charAt(0)){return !1}for(var V=1,T=S.length;V<T;V++){if(W.charAt(U+V)!=S.charAt(V)){return !1}}return !0}function w(Z,W,T,Y){var S=[],X=null,U=null,V=null;for(U=T[T.length-1];Z.length>0;){if(V=Z.shift(),U&&"<"==U.tag&&!(V.tag in B)){throw new Error("Illegal content in < super tag.")}if(I.tags[V.tag]<=I.tags["$"]||y(V,Y)){T.push(V),V.nodes=w(Z,V.tag,T,Y)}else{if("/"==V.tag){if(0===T.length){throw new Error("Closing tag without opener: /"+V.n)}if(X=T.pop(),V.n!=X.n&&!D(V.n,X.n,Y)){throw new Error("Nesting error: "+X.n+" vs. "+V.n)}return X.end=V.i,S}"\n"==V.tag&&(V.last=0==Z.length||"\n"==Z[0].tag)}S.push(V)}if(T.length>0){throw new Error("missing closing tag: "+T.pop().n)}return S}function y(V,T){for(var U=0,S=T.length;U<S;U++){if(T[U].o==V.n){return V.tag="#",!0}}}function D(W,U,T){for(var V=0,S=T.length;V<S;V++){if(T[V].c==W&&T[V].o==U){return !0}}}function C(U){var S=[];for(var T in U){S.push('"'+Q(T)+'": function(c,p,t,i) {'+U[T]+"}")}return"{ "+S.join(",")+" }"}function K(U){var T=[];for(var S in U.partials){T.push('"'+Q(S)+'":{name:"'+Q(U.partials[S].name)+'", '+K(U.partials[S])+"}")}return"partials: {"+T.join(",")+"}, subs: "+C(U.subs)}function Q(S){return S.replace(P,"\\\\").replace(G,'\\"').replace(J,"\\n").replace(F,"\\r").replace(L,"\\u2028").replace(v,"\\u2029")}function E(S){return ~S.indexOf(".")?"d":"f"}function H(U,T){var V="<"+(T.prefix||""),S=V+U.n+z++;return T.partials[S]={name:U.n,partials:{}},T.code+='t.b(t.rp("'+Q(S)+'",c,p,"'+(U.indent||"")+'"));',S}function x(T,S){S.code+="t.b(t.t(t."+E(T.n)+'("'+Q(T.n)+'",c,p,0)));'}function O(S){return"t.b("+S+");"}var A=/\S/,G=/\"/g,J=/\n/g,F=/\r/g,P=/\\/g,L=/\u2028/,v=/\u2029/;I.tags={"#":1,"^":2,"<":3,"$":4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},I.scan=function(ac,W){function ag(){ak.length>0&&(ad.push({tag:"_t",text:new String(ak)}),ak="")}function V(){for(var an=!0,am=af;am<ad.length;am++){if(an=I.tags[ad[am].tag]<I.tags._v||"_t"==ad[am].tag&&null===ad[am].text.match(A),!an){return !1}}return an}function ae(ap,am){if(ag(),ap&&V()){for(var ao,an=af;an<ad.length;an++){ad[an].text&&((ao=ad[an+1])&&">"==ao.tag&&(ao.indent=ad[an].text.toString()),ad.splice(an,1))}}else{am||ad.push({tag:"\n"})}aa=!1,af=ad.length}function Z(aq,an){var ap="="+ah,am=aq.indexOf(ap,an),ao=M(aq.substring(aq.indexOf("=",an)+1,am)).split(" ");return ab=ao[0],ah=ao[ao.length-1],am+ap.length-1}var aj=ac.length,T=0,Y=1,S=2,U=T,X=null,al=null,ak="",ad=[],aa=!1,ai=0,af=0,ab="{{",ah="}}";for(W&&(W=W.split(" "),ab=W[0],ah=W[1]),ai=0;ai<aj;ai++){U==T?R(ab,ac,ai)?(--ai,ag(),U=Y):"\n"==ac.charAt(ai)?ae(aa):ak+=ac.charAt(ai):U==Y?(ai+=ab.length-1,al=I.tags[ac.charAt(ai+1)],X=al?ac.charAt(ai+1):"_v","="==X?(ai=Z(ac,ai),U=T):(al&&ai++,U=S),aa=ai):R(ah,ac,ai)?(ad.push({tag:X,n:M(ak),otag:ab,ctag:ah,i:"/"==X?aa-ab.length:ai+ah.length}),ak="",ai+=ah.length-1,U=T,"{"==X&&("}}"==ah?ai++:N(ad[ad.length-1]))):ak+=ac.charAt(ai)}return ae(aa,!0),ad};var B={_t:!0,"\n":!0,"$":!0,"/":!0};I.stringify=function(U,T,S){return"{code: function (c,p,i) { "+I.wrapMain(U.code)+" },"+K(U)+"}"};var z=0;I.generate=function(S,V,T){z=0;var U={code:"",subs:{},partials:{}};return I.walk(S,U),T.asString?this.stringify(U,V,T):this.makeTemplate(U,V,T)},I.wrapMain=function(S){return'var t=this;t.b(i=i||"");'+S+"return t.fl();"},I.template=I.Template,I.makeTemplate=function(V,U,S){var T=this.makePartials(V);return T.code=new Function("c","p","i",this.wrapMain(V.code)),new this.template(T,U,this,S)},I.makePartials=function(U){var S,T={subs:{},partials:U.partials,name:U.name};for(S in T.partials){T.partials[S]=this.makePartials(T.partials[S])}for(S in U.subs){T.subs[S]=new Function("c","p","t","i",U.subs[S])}return T},I.codegen={"#":function(T,S){S.code+="if(t.s(t."+E(T.n)+'("'+Q(T.n)+'",c,p,1),c,p,0,'+T.i+","+T.end+',"'+T.otag+" "+T.ctag+'")){t.rs(c,p,function(c,p,t){',I.walk(T.nodes,S),S.code+="});c.pop();}"},"^":function(T,S){S.code+="if(!t.s(t."+E(T.n)+'("'+Q(T.n)+'",c,p,1),c,p,1,0,0,"")){',I.walk(T.nodes,S),S.code+="};"},">":H,"<":function(V,T){var S={partials:{},code:"",subs:{},inPartial:!0};I.walk(V.nodes,S);var U=T.partials[H(V,T)];U.subs=S.subs,U.partials=S.partials},"$":function(U,T){var S={subs:{},code:"",partials:T.partials,prefix:U.n};I.walk(U.nodes,S),T.subs[U.n]=S.code,T.inPartial||(T.code+='t.sub("'+Q(U.n)+'",c,p,i);')},"\n":function(T,S){S.code+=O('"\\n"'+(T.last?"":" + i"))},_v:function(T,S){S.code+="t.b(t.v(t."+E(T.n)+'("'+Q(T.n)+'",c,p,0)));'},_t:function(T,S){S.code+=O('"'+Q(T.text)+'"')},"{":x,"&":x},I.walk=function(W,U){for(var V,T=0,S=W.length;T<S;T++){V=I.codegen[W[T].tag],V&&V(W[T],U)}return U},I.parse=function(T,U,S){return S=S||{},w(T,"",[],S.sectionTags||[])},I.cache={},I.cacheKey=function(T,S){return[T,!!S.asString,!!S.disableLambda,S.delimiters,!!S.modelGet].join("||")},I.compile=function(X,T){T=T||{};var V=I.cacheKey(X,T),W=this.cache[V];if(W){var U=W.partials;for(var S in U){delete U[S].instance}return W}return W=this.generate(this.parse(this.scan(X,T.delimiters),X,T),X,T),this.cache[V]=W}}(s)},function(t,s,u){!function(E){function w(I,J,H){var K;return J&&"object"==typeof J&&(void 0!==J[I]?K=J[I]:H&&J.get&&"function"==typeof J.get&&(K=J.get(I))),K}function C(Q,J,L,H,K,O){function I(){}function M(){}I.prototype=Q,M.prototype=Q.subs;var P,N=new I();N.subs=new M(),N.subsText={},N.buf="",H=H||{},N.stackSubs=H,N.subsText=O;for(P in J){H[P]||(H[P]=J[P])}for(P in H){N.subs[P]=H[P]}K=K||{},N.stackPartials=K;for(P in L){K[P]||(K[P]=L[P])}for(P in K){N.partials[P]=K[P]}return N}function z(H){return String(null===H||void 0===H?"":H)}function y(H){return H=z(H),A.test(H)?H.replace(D,"&amp;").replace(x,"&lt;").replace(v,"&gt;").replace(G,"&#39;").replace(F,"&quot;"):H}E.Template=function(K,J,I,H){K=K||{},this.r=K.code||this.r,this.c=I,this.options=H||{},this.text=J||"",this.partials=K.partials||{},this.subs=K.subs||{},this.buf=""},E.Template.prototype={r:function(J,I,H){return""},v:y,t:z,render:function(J,I,H){return this.ri([J],I||{},H)},ri:function(J,I,H){return this.r(J,I,H)},ep:function(K,I){var H=this.partials[K],J=I[H.name];if(H.instance&&H.base==J){return H.instance}if("string"==typeof J){if(!this.c){throw new Error("No compiler available.")}J=this.c.compile(J,this.options)}if(!J){return null}if(this.partials[K].base=J,H.subs){I.stackText||(I.stackText={});for(key in H.subs){I.stackText[key]||(I.stackText[key]=void 0!==this.activeSub&&I.stackText[this.activeSub]?I.stackText[this.activeSub]:this.text)}J=C(J,H.subs,H.partials,this.stackSubs,this.stackPartials,I.stackText)}return this.partials[K].instance=J,J},rp:function(L,K,J,H){var I=this.ep(L,J);return I?I.ri(K,J,H):""},rs:function(K,J,L){var H=K[K.length-1];if(!B(H)){return void L(K,J,this)}for(var I=0;I<H.length;I++){K.push(H[I]),L(K,J,this),K.pop()}},s:function(N,I,L,J,O,H,K){var M;return(!B(N)||0!==N.length)&&("function"==typeof N&&(N=this.ms(N,I,L,J,O,H,K)),M=!!N,!J&&M&&I&&I.push("object"==typeof N?N:I[I.length-1]),M)},d:function(O,P,L,I){var Q,N=O.split("."),H=this.f(N[0],P,L,I),M=this.options.modelGet,J=null;if("."===O&&B(P[P.length-2])){H=P[P.length-1]}else{for(var K=1;K<N.length;K++){Q=w(N[K],H,M),void 0!==Q?(J=H,H=Q):H=""}}return !(I&&!H)&&(I||"function"!=typeof H||(P.push(J),H=this.mv(H,P,L),P.pop()),H)},f:function(M,O,K,I){for(var H=!1,N=null,P=!1,L=this.options.modelGet,J=O.length-1;J>=0;J--){if(N=O[J],H=w(M,N,L),void 0!==H){P=!0;break}}return P?(I||"function"!=typeof H||(H=this.mv(H,O,K)),H):!I&&""},ls:function(L,H,J,M,I){var K=this.options.delimiters;return this.options.delimiters=I,this.b(this.ct(z(L.call(H,M)),H,J)),this.options.delimiters=K,!1},ct:function(J,H,I){if(this.options.disableLambda){throw new Error("Lambda features disabled.")}return this.c.compile(J,this.options).render(H,I)},b:function(H){this.buf+=H},fl:function(){var H=this.buf;return this.buf="",H},ms:function(I,O,M,J,H,L,Q){var N,K=O[O.length-1],P=I.call(K);return"function"==typeof P?!!J||(N=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(P,K,M,N.substring(H,L),Q)):P},mv:function(L,J,K){var I=J[J.length-1],H=L.call(I);return"function"==typeof H?this.ct(z(H.call(I)),I,K):H},sub:function(I,K,J,H){var L=this.subs[I];L&&(this.activeSub=I,L(K,J,this,H),this.activeSub=!1)}};var D=/&/g,x=/</g,v=/>/g,G=/\'/g,F=/\"/g,A=/[&<>\"\']/,B=Array.isArray||function(H){return"[object Array]"===Object.prototype.toString.call(H)}}(s)},function(t,s){t.exports=k},function(t,s,u){(function(C){function G(I){return I&&I.__esModule?I:{"default":I}}function z(I,J){if(!(I instanceof J)){throw new TypeError("Cannot call a class as a function")}}function D(I,J){if(!I){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !J||"object"!=typeof J&&"function"!=typeof J?I:J}function F(J,I){if("function"!=typeof I&&null!==I){throw new TypeError("Super expression must either be null or a function, not "+typeof I)}J.prototype=Object.create(I&&I.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(J,I):J.__proto__=I)}Object.defineProperty(s,"__esModule",{value:!0});var B,A,y=function(){function I(M,K){for(var J=0;J<K.length;J++){var L=K[J];L.enumerable=L.enumerable||!1,L.configurable=!0,"value" in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(L,J,K){return J&&I(L.prototype,J),K&&I(L,K),L}}(),E=u(13),H=u(47),w=G(H),x=u(45),v=(G(x),B=(0,E.mixin)({channelName:"modal",radioEvents:{open:"open","open:as:modal":"openAsModal",close:"close",submit:"submit"}}),B(A=function(J){function I(K){z(this,I);var L=D(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,arguments));if(K||(K={}),!K.region){throw Error("Modal region is not defined")}return L.modalRegion=K.region,L}return F(I,J),y(I,[{key:"open",value:function(K){this.modalRegion.show(K)}},{key:"openAsModal",value:function(K,M){var N=Object.assign({},M,{contentView:K}),L=new w["default"](N);this.modalRegion.show(L)}},{key:"close",value:function(K){this.modalRegion.destroy(K)}},{key:"submit",value:function(K,L){}}]),I}(C.Object))||A);s["default"]=v}).call(s,u(11))},function(t,s,u){(function(B){function z(C){return C&&C.__esModule?C:{"default":C}}Object.defineProperty(s,"__esModule",{value:!0});var A=u(48),y=z(A),x=u(49),w=z(x),v=B.Modal.extend({template:w["default"],className:"val-modal",submitEl:".js-submit-button",cancelEl:".modal-close",clickOutside:function(){},checkKey:function(D){var C={esc:27};if(this.active){switch(D.keyCode){case C.esc:return this.triggerCancel()}}},initialize:function(C){this.header=C.header,this.isSimple=C.isSimple,this.contentView=C.contentView,this.customClassName=C.customClassName,C.template&&(this.template=C.template),C.submit&&(this.submit=C.submit),C.beforeSubmit&&(this.beforeSubmit=C.beforeSubmit),C.beforeCancel&&(this.beforeCancel=C.beforeCancel),C.onDestroy&&(this.onDestroy=C.onDestroy)},onRender:function(){this.customClassName&&this.$el.addClass(this.customClassName),this.$(".modal-content").html(this.contentView.render().el),this.$(".js-modal-header").html(this.header),this.isSimple&&this.$(".js-modal-topbar").addClass("hidden")},onShow:function(){this.contentView.onShow&&y["default"].isFunction(this.contentView.onShow)&&this.contentView.onShow()}});s["default"]=v}).call(s,u(12))},function(t,s){t.exports=d},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="bbm-modal__topbar js-modal-topbar" style="margin-bottom: 0px;">'),x.b("\n"+y),x.b('    <h3 class="bbm-modal__title js-modal-header">'),x.b(x.v(x.f("header",A,z,0))),x.b("</h3>"),x.b("\n"),x.b("\n"+y),x.b('    <div class="modal-close val-icon-exit"></div>'),x.b("\n"+y),x.b("</div>"),x.b("\n"+y),x.b('<div class="bbm-modal__section modal-content">'),x.b("\n"),x.b("\n"+y),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="bbm-modal__topbar js-modal-topbar" style="margin-bottom: 0px;">\n    <h3 class="bbm-modal__title js-modal-header">{{header}}</h3>\n\n    <div class="modal-close val-icon-exit"></div>\n</div>\n<div class="bbm-modal__section modal-content">\n\n</div>',t);return w.render.apply(w,arguments)}},function(u,t){function s(){return learningPathsAppOptions}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s},function(t,s,u){(function(B){function x(C){return C&&C.__esModule?C:{"default":C}}Object.defineProperty(s,"__esModule",{value:!0});var A=u(52),z=x(A),y=u(50),w=x(y),v=z["default"].extend({model:B.Model,initialize:function(C){this.url=""+(0,w["default"])().endpoint.liferayActivities,z["default"].prototype.initialize.apply(this,arguments)},getGoalData:function(){return _.map(this.filter({selected:!0}),function(C){return{goalType:"activity",activityName:C.get("activityName"),count:C.get("count")||1}})}});s["default"]=v}).call(s,u(12))},function(t,y,s){function G(H){return H&&H.__esModule?H:{"default":H}}function A(H,I){if(!(H instanceof I)){throw new TypeError("Cannot call a class as a function")}}function D(H,I){if(!H){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !I||"object"!=typeof I&&"function"!=typeof I?H:I}function E(I,H){if("function"!=typeof H&&null!==H){throw new TypeError("Super expression must either be null or a function, not "+typeof H)}I.prototype=Object.create(H&&H.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(I,H):I.__proto__=H)}Object.defineProperty(y,"__esModule",{value:!0}),y["default"]=void 0;var w=function(){function H(L,J){for(var I=0;I<J.length;I++){var K=J[I];K.enumerable=K.enumerable||!1,K.configurable=!0,"value" in K&&(K.writable=!0),Object.defineProperty(L,K.key,K)}}return function(K,I,J){return I&&H(K.prototype,I),J&&H(K,J),K}}(),z=s(34),v=G(z),u=s(12),B=G(u),C=s(50),x=G(C),F=function(I){function H(){return A(this,H),D(this,(H.__proto__||Object.getPrototypeOf(H)).apply(this,arguments))}return E(H,I),w(H,[{key:"initialize",value:function(J){this.url=""+(0,x["default"])().apiPath+v["default"].result(this,"url")}}]),H}(B["default"].Collection);y["default"]=F},function(t,s,u){(function(J,y){function W(aa){if(aa&&aa.__esModule){return aa}var Y={};if(null!=aa){for(var Z in aa){Object.prototype.hasOwnProperty.call(aa,Z)&&(Y[Z]=aa[Z])}}return Y["default"]=aa,Y}function x(Y){return Y&&Y.__esModule?Y:{"default":Y}}Object.defineProperty(s,"__esModule",{value:!0});var F=u(54),z=x(F),V=u(55),E=x(V),M=u(59),T=x(M),C=u(10),P=x(C),G=u(45),S=x(G),X=u(47),I=x(X),O=u(62),B=W(O),K=u(66),L=x(K),U=u(68),R=x(U),N=u(71),w=x(N),v=u(72),Q=x(v),H=u(103),D=x(H),A=J.View.extend({template:z["default"],regions:{toolbar:"#learningPathsToolbar",content:"#learningPathsContent",paginator:"#learningPathsPaginator",paginatorShowing:"#learningPathsPaginatorShowing",modals:{selector:"#learningPathsModal",regionClass:J.Modals}},ui:{loading:".js-loading",createdByMeTab:".js-paths-groups .js-creator"},childViewEvents:{"open:modal":"openModal"},onRender:function(){var aa=this;this.paths=new L["default"](),this.paginatorModel=new B.PageModel(),this.paths.on("sync",function(ab){ab instanceof y.Collection&&aa.paginatorModel.set("totalElements",ab.options.total)}),this.paths.on("reload:paths",function(){aa.fetchPaths()}),this.paginatorModel.on("change:currentPage",function(){aa.fetchPaths(!0)}),this.fetchFilter();var Z=new E["default"]({model:this.filter});this.showChildView("toolbar",Z),this.paginatorView=new B.ValamisPaginator({model:this.paginatorModel,topEdgeParentView:this,topEdgeSelector:this.regions.paginatorShowing}),this.paginatorShowingView=new B.ValamisPaginatorShowing({model:this.paginatorModel}),this.showChildView("paginator",this.paginatorView),this.showChildView("paginatorShowing",this.paginatorShowingView);var Y=new T["default"]({collection:this.paths,displayMode:this.filter.get("displayMode")});this.showChildView("content",Y),this.filter.on("change",function(ab){ab.save(),ab.changedAttributes().hasOwnProperty("displayMode")?Y.toggleDisplayMode(ab.get("displayMode")):aa.fetchPaths()}),this.fetchPaths(),P["default"].openLpId&&this.openPathByLink(P["default"].openLpId)},fetchFilter:function(){this.filter=new y.SettingsHelper({url:window.location.href,portlet:"learningPaths"}),this.filter.fetch(),this.filter.set({page:0,joined:!0,displayMode:this.filter.has("displayMode")?this.filter.get("displayMode"):"tiles",sort:this.filter.has("sort")?this.filter.get("sort"):"-createdDate"})},fetchPaths:function(ac){var aa=this;this.ui.loading.removeClass("hidden"),ac||this.paginatorModel.set({currentPage:1,totalElements:0});var Y=this.paginatorModel.get("itemsOnPage"),Z=(this.paginatorModel.get("currentPage")-1)*Y,ab={title:this.filter.get("title"),courseId:this.filter.get("courseId"),sort:this.filter.get("sort"),skip:Z,take:Y};void 0!==this.filter.get("userId")&&(ab.userId=this.filter.get("userId")),void 0!==this.filter.get("joined")&&(ab.joined=this.filter.get("joined"),ab.activated=!0),this.paths.reset(),this.paths.doAsAdmin=void 0===this.filter.get("joined"),this.paths.fetch({data:ab}).then(function(){aa.ui.loading.addClass("hidden")},function(){S["default"].channel("notify").trigger("notify","error","failedLabel")})},openModal:function(aa){aa||this.$(this._uiBindings.createdByMeTab).click();var ab=S["default"].channel("modal"),ac=this,Z=void 0;Z=P["default"].permissions.modify?new D["default"]({model:aa,doAsAdmin:this.paths.doAsAdmin}):new Q["default"]({model:aa});var Y=new I["default"]({contentView:Z,isSimple:!0,onDestroy:function(){P["default"].openLpId?window.location.assign(window.location.pathname):(Z.destroy(),ac.fetchPaths(!0))}});Z.on("modal:close",function(){ab.trigger("close",Y)}),ab.trigger("open",Y)},openPathByLink:function(aa){var Y=this,Z=new w["default"]({id:aa});Z.fetch().then(function(){var ab=new R["default"](Z.toJSON());Y.openModal(ab)})}});s["default"]=A}).call(s,u(11),u(12))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div id="learningPathsToolbar"></div>'),x.b("\n"+y),x.b('<div id="learningPathsContent"></div>'),x.b("\n"+y),x.b('<div class="loading-container js-loading"></div>'),x.b("\n"+y),x.b('<div id="learningPathsPaginator" class="val-paginator"></div>'),x.b("\n"+y),x.b('<div id="learningPathsModal"></div>'),x.fl()},partials:{},subs:{}},'<div id="learningPathsToolbar"></div>\n<div id="learningPathsContent"></div>\n<div class="loading-container js-loading"></div>\n<div id="learningPathsPaginator" class="val-paginator"></div>\n<div id="learningPathsModal"></div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(B,w){function z(K){if(K&&K.__esModule){return K}var I={};if(null!=K){for(var J in K){Object.prototype.hasOwnProperty.call(K,J)&&(I[J]=K[J])}}return I["default"]=K,I}function H(I){return I&&I.__esModule?I:{"default":I}}Object.defineProperty(s,"__esModule",{value:!0});var C=u(56),F=H(C),y=u(57),E=H(y),A=u(35),x=H(A),G=u(58),D=z(G),v=B.View.extend({className:"val-tabs",template:F["default"],behaviors:[E["default"]],templateContext:function(){return{isList:this.isList(),isTiles:this.isTiles(),currentCourseId:x["default"].courseId(),groups:D.pathsGroups}},ui:{addNew:".js-add-new",displayMode:".js-display-option",searchField:".js-search input",scope:".js-scope-filter",sort:".js-sort-filter",group:".js-paths-groups a"},events:{"click @ui.addNew":"addNew","click @ui.displayMode":"toggleDisplayMode","keyup @ui.searchField":"changeSearchText","click @ui.scope li":"changeScope","click @ui.sort li":"changeSort","click @ui.group":"changeGroup"},onRender:function(){var I=this;this.on("valamis:controls:init",function(){I.ui.sort.valamisDropDown("select",I.model.get("sort"))})},isTiles:function(){return"tiles"==this.model.get("displayMode")},isList:function(){return"list"==this.model.get("displayMode")},addNew:function(){this.triggerMethod("open:modal")},changeSearchText:function(J){var I=this;clearTimeout(this.inputTimeout),this.inputTimeout=setTimeout(function(){I.model.set("title",w(J.target).val())},800)},changeScope:function(I){this.model.set("courseId",w(I.target).attr("data-value"))},changeSort:function(I){this.model.set("sort",w(I.target).attr("data-value"))},changeGroup:function(K){var J={userId:void 0,joined:void 0},I=w(K.target).data("value");switch(this.ui.group.parent("li").removeClass("active"),w(K.target).parent("li").addClass("active"),I){case D.pathsGroups.creator:J.userId=x["default"].userId();break;case D.pathsGroups.member:J.joined=!0;break;case D.pathsGroups.notmember:J.joined=!1}this.model.set(J)},toggleDisplayMode:function(J){J.preventDefault(),J.stopPropagation();var I=w(J.target).closest("button[data-display-mode]");this.ui.displayMode.removeClass("active"),I.addClass("active");var K=I.data("displayMode");this.model.set("displayMode",K)}});s["default"]=v}).call(s,u(11),u(33))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="clearfix tabs-header">'),x.b("\n"+y),x.b('    <ul class="nav-tabs text-center js-paths-groups">'),x.b("\n"+y),x.b('        <li class="active"><a data-value="'),x.b(x.v(x.d("groups.member",A,z,0))),x.b('">'),x.b(x.v(x.d("language.myPathsLabel",A,z,0))),x.b("</a></li>"),x.b("\n"+y),x.b('        <li><a data-value="'),x.b(x.v(x.d("groups.notmember",A,z,0))),x.b('">'),x.b(x.v(x.d("language.availablePathsLabel",A,z,0))),x.b("</a></li>"),x.b("\n"+y),x.s(x.d("permissions.modify",A,z,1),A,z,0,307,486,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('        <li><a class="js-creator" data-value="'),B.b(B.v(B.d("groups.creator",D,C,0))),B.b('">'),B.b(B.v(B.d("language.createdByMeLabel",D,C,0))),B.b("</a></li>"),B.b("\n"+y),B.b('        <li><a data-value="">'),B.b(B.v(B.d("language.allPathsLabel",D,C,0))),B.b("</a></li>"),B.b("\n"+y)}),A.pop()),x.b("    </ul>"),x.b("\n"+y),x.b("</div>"),x.b("\n"+y),x.b('<div class="val-row filters-row">'),x.b("\n"+y),x.b('    <div class="filter-element shift-left">'),x.b("\n"+y),x.b('        <div class="val-search js-search">'),x.b("\n"+y),x.b('            <input type="text" placeholder="'),x.b(x.v(x.d("language.searchLabel",A,z,0))),x.b('">'),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"),x.b("\n"+y),x.b('    <div class="dropdown filter-element shift-left js-scope-filter js-dropdown" data-value="">'),x.b("\n"+y),x.b('        <button class="button medium simple">'),x.b("\n"+y),x.b('            <span class="dropdown-text"> '),x.b(x.v(x.d("language.instanceScopeLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b('            <span class="val-icon-arrow-down val-icon-right"></span>'),x.b("\n"+y),x.b("        </button>"),x.b("\n"+y),x.b('        <ul class="dropdown-menu">'),x.b("\n"+y),x.b('            <li class="selected" data-value=""> '),x.b(x.v(x.d("language.instanceScopeLabel",A,z,0))),x.b(" </li>"),x.b("\n"+y),x.b('            <li data-value="'),x.b(x.v(x.f("currentCourseId",A,z,0))),x.b('"> '),x.b(x.v(x.d("language.currentSiteScopeLabel",A,z,0))),x.b(" </li>"),x.b("\n"+y),x.b("        </ul>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"),x.b("\n"+y),x.s(x.d("permissions.modify",A,z,1),A,z,0,1319,1543,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('    <div class="filter-element shift-right">'),B.b("\n"+y),B.b('        <button class="button medium primary shift-right js-add-new">'),B.b("\n"+y),B.b('            <span class="val-icon-plus"></span>'),B.b(B.v(B.d("language.createNewLabel",D,C,0))),B.b("\n"+y),B.b("        </button>"),B.b("\n"+y),B.b("    </div>"),B.b("\n"+y)}),A.pop()),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.b('<div class="val-row filters-row">'),x.b("\n"+y),x.b('    <div class="shift-left filter-element paging-showing-label" id="learningPathsPaginatorShowing"> </div>'),x.b("\n"),x.b("\n"+y),x.b('    <div class="dropdown filter-element shift-right js-sort-filter js-dropdown" data-value="">'),x.b("\n"+y),x.b('        <button class="button medium simple">'),x.b("\n"+y),x.b('            <span class="dropdown-text"> '),x.b(x.v(x.d("language.newestLabel",A,z,0))),x.b(' </span><span class="val-icon-arrow-down val-icon-right"></span>'),x.b("\n"+y),x.b("        </button>"),x.b("\n"+y),x.b('        <ul class="dropdown-menu">'),x.b("\n"+y),x.b('            <li data-value="-createdDate"> '),x.b(x.v(x.d("language.newestLabel",A,z,0))),x.b(" </li>"),x.b("\n"+y),x.b('            <li data-value="createdDate"> '),x.b(x.v(x.d("language.oldestLabel",A,z,0))),x.b(" </li>"),x.b("\n"+y),x.b('            <li data-value="title"> '),x.b(x.v(x.d("language.byNameAscLabel",A,z,0))),x.b(" </li>"),x.b("\n"+y),x.b('            <li data-value="-title"> '),x.b(x.v(x.d("language.byNameDescLabel",A,z,0))),x.b(" </li>"),x.b("\n"+y),x.b("        </ul>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"),x.b("\n"+y),x.b('    <div class="shift-right hide-s">'),x.b("\n"+y),x.b('        <button class="button medium simple no-text '),x.s(x.f("isList",A,z,1),A,z,0,2456,2462,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b("active")}),A.pop()),x.b(' js-display-option" data-display-mode="list">'),x.b("\n"+y),x.b('            <span class="val-icon-list-view">'),x.b(x.v(x.f("listViewLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b("        </button>"),x.b("\n"+y),x.b('        <button class="button medium simple no-text '),x.s(x.f("isTiles",A,z,1),A,z,0,2671,2677,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b("active")}),A.pop()),x.b(' js-display-option" data-display-mode="tiles">'),x.b("\n"+y),x.b('            <span class="val-icon-grid-view">'),x.b(x.v(x.f("gridViewLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b("        </button>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="clearfix tabs-header">\n    <ul class="nav-tabs text-center js-paths-groups">\n        <li class="active"><a data-value="{{groups.member}}">{{language.myPathsLabel}}</a></li>\n        <li><a data-value="{{groups.notmember}}">{{language.availablePathsLabel}}</a></li>\n        {{#permissions.modify}}\n        <li><a class="js-creator" data-value="{{groups.creator}}">{{language.createdByMeLabel}}</a></li>\n        <li><a data-value="">{{language.allPathsLabel}}</a></li>\n        {{/permissions.modify}}\n    </ul>\n</div>\n<div class="val-row filters-row">\n    <div class="filter-element shift-left">\n        <div class="val-search js-search">\n            <input type="text" placeholder="{{language.searchLabel}}">\n        </div>\n    </div>\n\n    <div class="dropdown filter-element shift-left js-scope-filter js-dropdown" data-value="">\n        <button class="button medium simple">\n            <span class="dropdown-text"> {{language.instanceScopeLabel}}</span>\n            <span class="val-icon-arrow-down val-icon-right"></span>\n        </button>\n        <ul class="dropdown-menu">\n            <li class="selected" data-value=""> {{language.instanceScopeLabel}} </li>\n            <li data-value="{{currentCourseId}}"> {{language.currentSiteScopeLabel}} </li>\n        </ul>\n    </div>\n\n    {{#permissions.modify}}\n    <div class="filter-element shift-right">\n        <button class="button medium primary shift-right js-add-new">\n            <span class="val-icon-plus"></span>{{language.createNewLabel}}\n        </button>\n    </div>\n    {{/permissions.modify}}\n</div>\n\n<div class="val-row filters-row">\n    <div class="shift-left filter-element paging-showing-label" id="learningPathsPaginatorShowing"> </div>\n\n    <div class="dropdown filter-element shift-right js-sort-filter js-dropdown" data-value="">\n        <button class="button medium simple">\n            <span class="dropdown-text"> {{language.newestLabel}} </span><span class="val-icon-arrow-down val-icon-right"></span>\n        </button>\n        <ul class="dropdown-menu">\n            <li data-value="-createdDate"> {{language.newestLabel}} </li>\n            <li data-value="createdDate"> {{language.oldestLabel}} </li>\n            <li data-value="title"> {{language.byNameAscLabel}} </li>\n            <li data-value="-title"> {{language.byNameDescLabel}} </li>\n        </ul>\n    </div>\n\n    <div class="shift-right hide-s">\n        <button class="button medium simple no-text {{#isList}}active{{/isList}} js-display-option" data-display-mode="list">\n            <span class="val-icon-list-view">{{listViewLabel}}</span>\n        </button>\n        <button class="button medium simple no-text {{#isTiles}}active{{/isTiles}} js-display-option" data-display-mode="tiles">\n            <span class="val-icon-grid-view">{{gridViewLabel}}</span>\n        </button>\n    </div>\n</div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(z){function w(E,F){if(!(E instanceof F)){throw new TypeError("Cannot call a class as a function")}}function B(E,F){if(!E){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !F||"object"!=typeof F&&"function"!=typeof F?E:F}function C(F,E){if("function"!=typeof E&&null!==E){throw new TypeError("Super expression must either be null or a function, not "+typeof E)}F.prototype=Object.create(E&&E.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(F,E):F.__proto__=E)}Object.defineProperty(s,"__esModule",{value:!0}),s["default"]=void 0;var y,x,v=function(){function E(I,G){for(var F=0;F<G.length;F++){var H=G[F];H.enumerable=H.enumerable||!1,H.configurable=!0,"value" in H&&(H.writable=!0),Object.defineProperty(I,H.key,H)}}return function(H,F,G){return F&&E(H.prototype,F),G&&E(H,G),H}}(),D=u(13),A=(y=(0,D.mixin)({defaults:{dropdown:".js-dropdown",plusminus:".js-plus-minus",digitsOnly:".js-digits-only",sidebarToggler:".js-toggle-sidebar",popupPanel:".js-valamis-popup",valamisRating:".js-valamis-rating",valamisSearch:".js-search",valamisTabs:".js-valamis-tabs"}}),y(x=function(E){function F(){return w(this,F),B(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return C(F,E),v(F,[{key:"onRender",value:function(){this.$(this.options.dropdown).valamisDropDown(),this.$(this.options.plusminus).valamisPlusMinus(),this.$(this.options.digitsOnly).valamisDigitsOnly(),this.$(this.options.sidebarToggler).valamisSidebar(),this.$(this.options.popupPanel).valamisPopupPanel(),this.$(this.options.valamisRating).valamisRating(),this.$(this.options.valamisSearch).valamisSearch(),this.$(this.options.valamisTabs).valamisTabs(),this.view.triggerMethod("valamis:controls:init")}}]),F}(z.Behavior))||x);s["default"]=A}).call(s,u(11))},function(t,s){Object.defineProperty(s,"__esModule",{value:!0});s.statuses={success:"Success",inprogress:"InProgress",failed:"Failed",expired:"Expired",expiring:"Expiring"},s.pathsGroups={creator:"whereIamCreator",member:"whereIamMember",notmember:"whereIamNotMember"},s.validPeriodTypes={y:"years",mo:"months",w:"weeks",d:"days"},s.goalTypes={group:"group",course:"course",statement:"statement",activity:"activity",webContent:"webContent",lesson:"lesson",assignment:"assignment",trainingEvent:"trainingEvent"},s.memberType={user:"users",userGroup:"groups",organization:"organizations",role:"roles"},s.childrenToComplete={any:"any",custom:"custom"}},function(t,s,u){(function(F){function C(O){if(O&&O.__esModule){return O}var M={};if(null!=O){for(var N in O){Object.prototype.hasOwnProperty.call(O,N)&&(M[N]=O[N])}}return M["default"]=O,M}function L(M){return M&&M.__esModule?M:{"default":M}}Object.defineProperty(s,"__esModule",{value:!0});var y=u(60),w=L(y),B=u(57),I=L(B),x=u(61),G=L(x),K=u(58),H=C(K),A=u(45),D=L(A),J=u(10),z=L(J),E=F.View.extend({template:w["default"],templateContext:function(){var N=H.statuses,M=this.model.isMember()?this.model.getStatus():"";return{isMember:this.model.isMember(),isInProgress:M===N.inprogress,isSucceed:M===N.success,isFailed:M===N.failed,isExpired:M===N.expired,isExpiring:M===N.expiring,fullLogoUrl:this.model.getFullLogoUrl(),doAsAdmin:this.model.collection.doAsAdmin}},behaviors:[I["default"]],modelEvents:{change:"render"},className:function(){return"tile s-12 m-4 l-2"},ui:{open:".js-open-path",join:".js-join-path",leave:".js-leave-path",clone:".js-clone-path",publish:".js-publish-path",activate:".js-activate-path",deactivate:".js-deactivate-path","delete":".js-delete-path","export":".js-export-path"},events:{"click @ui.open":"openPath","click @ui.join":"joinPath","click @ui.leave":"leavePath","click @ui.clone":"clonePath","click @ui.publish":"publishPath","click @ui.activate":"activatePath","click @ui.deactivate":"deactivatePath","click @ui.delete":"confirmDeletePath","click @ui.export":"exportPath"},onRender:function(){this.notifyChannel=D["default"].channel("notify"),this.$el.toggleClass("unpublished",!this.model.get("activated"))},openPath:function(){this.triggerMethod("open:modal",this.model)},joinPath:function(){var N=this,M=this.model.collection;this.model.join().then(function(){N.model.collection.doAsAdmin?N.model.set("status",H.statuses.inprogress):N.remove(),M.trigger("reload:paths")},function(){N.notifyChannel.trigger("notify","error","failedLabel")})},leavePath:function(){var M=this;this.model.leave().then(function(){M.model.collection.doAsAdmin?M.model.unset("status"):M.remove()},function(){M.notifyChannel.trigger("notify","error","failedLabel")})},clonePath:function(){var M=this;this.model.clone().then(function(){M.notifyChannel.trigger("notify","success","completeLabel"),M.model.trigger("reload:paths")},function(){M.notifyChannel.trigger("notify","error","failedLabel")})},publishPath:function(){var M=this;this.model.publish().then(function(){M.model.set({published:!0,activated:!0,hasDraft:!1})},function(){M.notifyChannel.trigger("notify","error","failedLabel")})},activatePath:function(){var M=this;this.model.activate().then(function(){M.model.set("activated",!0)},function(){M.notifyChannel.trigger("notify","error","failedLabel")})},deactivatePath:function(){var M=this;this.model.deactivate().then(function(){M.model.set("activated",!1)},function(){M.notifyChannel.trigger("notify","error","failedLabel")})},confirmDeletePath:function(){var M=this;this.notifyChannel.trigger("confirm",{message:z["default"].language.warningDeletePathLabel},function(){M.deletePath()})},deletePath:function(){var M=this,N=this.model.collection;this.model.destroy().then(function(){M.notifyChannel.trigger("notify","success","completeLabel"),N.trigger("reload:paths")},function(){M.notifyChannel.trigger("notify","error","failedLabel")})},exportPath:function(){}}),v=F.CollectionView.extend({childView:E,className:function(){return"val-row "+this.options.displayMode},behaviors:[G["default"]],toggleDisplayMode:function(M){this.triggerMethod("display:mode:changed",M)}});s["default"]=v}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="tile-content with-action">'),x.b("\n"+y),x.b('    <div class="image certificate cursor-pointer js-open-path"'),x.b("\n"+y),x.s(x.f("logoUrl",A,z,1),A,z,0,123,191,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b("         style=\"background-image: url('"),B.b(B.v(B.f("fullLogoUrl",D,C,0))),B.b("')\""),B.b("\n"+y),B.b("         ")}),A.pop()),x.b(">"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("    <ul>"),x.b("\n"+y),x.b('        <li class="title cursor-pointer js-open-path">'),x.b(x.v(x.f("title",A,z,0))),x.b("</li>"),x.b("\n"+y),x.b('        <li class="description t-hidden">'),x.b(x.v(x.f("description",A,z,0))),x.b("</li>"),x.b("\n"+y),x.b('        <li class="categories">'),x.b("\n"+y),x.b("            "),x.b(x.v(x.f("userMembersCount",A,z,0))),x.b("&nbsp;"),x.b(x.v(x.d("language.learnersLabel",A,z,0))),x.b(" &bull;"),x.b("\n"+y),x.b("            "),x.b(x.v(x.f("goalsCount",A,z,0))),x.b("&nbsp;"),x.b(x.v(x.d("language.goalsLabel",A,z,0))),x.b("\n"+y),x.b("        </li>"),x.b("\n"+y),x.b("        <li>"),x.b("\n"+y),x.s(x.f("activated",A,z,1),A,z,1,0,0,"")||(x.b('                <span class="val-label inactive">'),x.b(x.v(x.d("language.inactiveStatusLabel",A,z,0))),x.b("</span>"),x.b("\n"+y)),x.s(x.f("activated",A,z,1),A,z,0,712,1328,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.s(B.f("isMember",D,C,1),D,C,0,725,1315,"{{ }}")&&(B.rs(D,C,function(G,F,E){E.b("                "),E.s(E.f("isInProgress",G,F,1),G,F,0,759,824,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b('<span class="val-label">'),H.b(H.v(H.d("language.inProgressStatusLabel",J,I,0))),H.b("</span>")}),G.pop()),E.b("\n"+y),E.b("                "),E.s(E.f("isSucceed",G,F,1),G,F,0,872,942,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b('<span class="val-label success">'),H.b(H.v(H.d("language.successStatusLabel",J,I,0))),H.b("</span>")}),G.pop()),E.b("\n"+y),E.b("                "),E.s(E.f("isFailed",G,F,1),G,F,0,986,1054,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b('<span class="val-label failed">'),H.b(H.v(H.d("language.failedStatusLabel",J,I,0))),H.b("</span>")}),G.pop()),E.b("\n"+y),E.b("                "),E.s(E.f("isExpired",G,F,1),G,F,0,1098,1167,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b('<span class="val-label failed">'),H.b(H.v(H.d("language.expiredStatusLabel",J,I,0))),H.b("</span>")}),G.pop()),E.b("\n"+y),E.b("                "),E.s(E.f("isExpiring",G,F,1),G,F,0,1213,1287,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b('<span class="val-label inprogress">'),H.b(H.v(H.d("language.expiringStatusLabel",J,I,0))),H.b("</span>")}),G.pop()),E.b("\n"+y)}),D.pop())}),A.pop()),x.b("        </li>"),x.b("\n"+y),x.b("    </ul>"),x.b("\n"),x.b("\n"+y),x.s(x.f("activated",A,z,1),A,z,0,1386,1514,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.s(B.f("isMember",D,C,1),D,C,1,0,0,"")||(B.b('    <button class="button medium primary js-join-path">'),B.b(B.v(B.d("language.joinLabel",D,C,0))),B.b("</button>"),B.b("\n"+y))}),A.pop()),x.b("\n"+y),x.s(x.f("doAsAdmin",A,z,1),A,z,0,1548,2628,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('    <div class="dropdown actions shift-right js-dropdown">'),B.b("\n"+y),B.b('        <button class="button medium neutral">'),B.b("\n"+y),B.b('            <span class="dropdown-text">...</span>'),B.b("\n"+y),B.b("        </button>"),B.b("\n"+y),B.b('        <ul class="dropdown-menu">'),B.b("\n"+y),B.b('            <li class="js-open-path">'),B.b(B.v(B.d("language.openLabel",D,C,0))),B.b("</li>"),B.b("\n"+y),B.s(B.d("permissions.modify",D,C,1),D,C,0,1859,2575,"{{ }}")&&(B.rs(D,C,function(G,F,E){E.b('                <li class="js-clone-path">'),E.b(E.v(E.d("language.cloneLabel",G,F,0))),E.b("</li>"),E.b("\n"+y),E.s(E.f("hasDraft",G,F,1),G,F,0,1960,2052,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b('                <li class="js-publish-path">'),H.b(H.v(H.d("language.publishLabel",J,I,0))),H.b("</li>"),H.b("\n"+y)}),G.pop()),E.s(E.f("published",G,F,1),G,F,0,2096,2395,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.s(H.f("activated",J,I,1),J,I,1,0,0,"")||(H.b('                <li class="js-activate-path">'),H.b(H.v(H.d("language.activateLabel",J,I,0))),H.b("</li>"),H.b("\n"+y)),H.s(H.f("activated",J,I,1),J,I,0,2266,2364,"{{ }}")&&(H.rs(J,I,function(M,L,K){K.b('                <li class="js-deactivate-path">'),K.b(K.v(K.d("language.deactivateLabel",M,L,0))),K.b("</li>"),K.b("\n"+y)}),J.pop())}),G.pop()),E.b('                <li class="js-delete-path">'),E.b(E.v(E.d("language.deleteLabel",G,F,0))),E.b("</li>"),E.b("\n"+y),E.b('                <!--<li class="js-export-path">'),E.b(E.v(E.d("language.exportLabel",G,F,0))),E.b("</li>-->"),E.b("\n"+y)}),D.pop()),B.b("        </ul>"),B.b("\n"+y),B.b("    </div>"),B.b("\n"+y)}),A.pop()),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="tile-content with-action">\n    <div class="image certificate cursor-pointer js-open-path"\n         {{#logoUrl}}\n         style="background-image: url(\'{{fullLogoUrl}}\')"\n         {{/logoUrl}}>\n    </div>\n    <ul>\n        <li class="title cursor-pointer js-open-path">{{title}}</li>\n        <li class="description t-hidden">{{description}}</li>\n        <li class="categories">\n            {{userMembersCount}}&nbsp;{{language.learnersLabel}} &bull;\n            {{goalsCount}}&nbsp;{{language.goalsLabel}}\n        </li>\n        <li>\n            {{^activated}}\n                <span class="val-label inactive">{{language.inactiveStatusLabel}}</span>\n            {{/activated}}\n            {{#activated}}{{#isMember}}\n                {{#isInProgress}}<span class="val-label">{{language.inProgressStatusLabel}}</span>{{/isInProgress}}\n                {{#isSucceed}}<span class="val-label success">{{language.successStatusLabel}}</span>{{/isSucceed}}\n                {{#isFailed}}<span class="val-label failed">{{language.failedStatusLabel}}</span>{{/isFailed}}\n                {{#isExpired}}<span class="val-label failed">{{language.expiredStatusLabel}}</span>{{/isExpired}}\n                {{#isExpiring}}<span class="val-label inprogress">{{language.expiringStatusLabel}}</span>{{/isExpiring}}\n            {{/isMember}}{{/activated}}\n        </li>\n    </ul>\n\n    {{#activated}}\n    {{^isMember}}\n    <button class="button medium primary js-join-path">{{language.joinLabel}}</button>\n    {{/isMember}}\n    {{/activated}}\n\n    {{#doAsAdmin}}\n    <div class="dropdown actions shift-right js-dropdown">\n        <button class="button medium neutral">\n            <span class="dropdown-text">...</span>\n        </button>\n        <ul class="dropdown-menu">\n            <li class="js-open-path">{{language.openLabel}}</li>\n            {{#permissions.modify}}\n                <li class="js-clone-path">{{language.cloneLabel}}</li>\n                {{#hasDraft}}\n                <li class="js-publish-path">{{language.publishLabel}}</li>\n                {{/hasDraft}}\n                {{#published}}\n                {{^activated}}\n                <li class="js-activate-path">{{language.activateLabel}}</li>\n                {{/activated}}\n                {{#activated}}\n                <li class="js-deactivate-path">{{language.deactivateLabel}}</li>\n                {{/activated}}\n                {{/published}}\n                <li class="js-delete-path">{{language.deleteLabel}}</li>\n                <!--<li class="js-export-path">{{language.exportLabel}}</li>-->\n            {{/permissions.modify}}\n        </ul>\n    </div>\n    {{/doAsAdmin}}\n</div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(B,y){function x(F,G){if(!(F instanceof G)){throw new TypeError("Cannot call a class as a function")}}function C(F,G){if(!F){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !G||"object"!=typeof G&&"function"!=typeof G?F:G}function E(G,F){if("function"!=typeof F&&null!==F){throw new TypeError("Super expression must either be null or a function, not "+typeof F)}G.prototype=Object.create(F&&F.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(G,F):G.__proto__=F)}Object.defineProperty(s,"__esModule",{value:!0}),s["default"]=void 0;var A,z,v=function(){function F(J,H){for(var G=0;G<H.length;G++){var I=H[G];I.enumerable=I.enumerable||!1,I.configurable=!0,"value" in I&&(I.writable=!0),Object.defineProperty(J,I.key,I)}}return function(I,G,H){return G&&F(I.prototype,G),H&&F(I,H),I}}(),D=u(13),w=(A=(0,D.mixin)({defaults:{tile:"tile",list:"list",tiles:"tiles",delay:100}}),A(z=function(F){function G(){return x(this,G),C(this,(G.__proto__||Object.getPrototypeOf(G)).apply(this,arguments))}return E(G,F),v(G,[{key:"initialize",value:function(){var H=this;y(window).resize(_.debounce(function(){H.resizeTiles()},this.options.delay)),this.view.on("display:mode:changed",function(I){H.$el.removeClass(H.options.tiles+" "+H.options.list).addClass(I),H.resizeTiles()}),this.view.on("render",function(){H.view.collection.on("sync",function(){_.delay(function(){H.resizeTiles()},H.options.delay)})})}},{key:"resizeTiles",value:function(){this.view.$el.hasClass(this.options.tiles)?this.makeEqualHeight(this.view.$("."+this.options.tile)):this.unsetHeight(this.view.$("."+this.options.tile))}},{key:"makeEqualHeight",value:function(I){this.unsetHeight(I);var J=_.map(I,function(K){return y(K).height()}),H=Math.max.apply(Math,J);I.height(H)}},{key:"unsetHeight",value:function(H){H.height("auto")}}]),G}(B.Behavior))||z);s["default"]=w}).call(s,u(11),u(33))},function(t,s,u){(function(B,E,x){function D(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(s,"__esModule",{value:!0}),s.ValamisPaginatorShowMore=s.ValamisPaginatorShowing=s.ValamisPaginator=s.PageModel=void 0;var C=u(63),v=D(C),A=u(64),F=D(A),y=u(65),z=D(y),w=s.PageModel=B.Model.extend({defaults:{itemsOnPage:40,startElementNumber:0,endElementNumber:0,navbuttons:[],rightDots:!1,leftDots:!1,currentPage:1,totalPages:0,firstPage:{page:0,isActive:!1},lastPage:{page:0,isActive:!1},showPages:5,isPrevVisible:!1,isNextVisible:!1,allowShowAll:!1,isShowingAll:!1,isLazy:!1},initialize:function(){this.countStartEndElements(),this.on("change",this.countStartEndElements)},hasMore:function(){return this.get("totalElements")>this.get("currentPage")*this.get("itemsOnPage")},getShowingCount:function(){var G=this.get("isLazy")?this.get("currentPage")*this.get("itemsOnPage"):this.get("itemsOnPage");return Math.min(G,this.get("totalElements"))},countStartEndElements:function(){var L=this.get("currentPage"),K=this.get("itemsOnPage"),T=this.get("totalElements"),H=this.get("isShowingAll"),R=this.get("isLazy"),V=this.get("showPages"),N=Math.floor(T/K);T%K!==0&&N++,N<=V&&(V=N);var J=Math.floor(V/2),U=L-J;V%2==0&&U++;var Q=L+J;U<=2&&(Q=V,2==U&&V<5&&Q++,U=1),Q>N-1&&(U=N-V+1,Q==N-1&&V<5&&U--,Q=N);for(var M=U>2,I=Q<N-1,P=[],O=U;O<=Q;O++){P[O-U]={page:O,isActive:O==L}}var G=H?T:Math.min(L*K,T),S=R?1:(L-1)*K+1;this.set({startElementNumber:Math.min(S,T),endElementNumber:G,firstPage:{page:1,isActive:1==L},lastPage:{page:N,isActive:L==N},navbuttons:P,leftDots:M,rightDots:I,isPrevVisible:L>1,isNextVisible:L<N},{silent:!0})}});s.ValamisPaginator=B.Marionette.View.extend({template:v["default"],ui:{paginationGroup:".pagination-group"},events:{"click .js-paginator-previous-page":"previous","click .js-paginator-next-page":"next","click .js-paginator-change-page":"onPageChanged"},initialize:function(G){G=G||{},this.options={},void 0===G.model&&(this.model=new w()),this.options.language=G.language||[],this.topEdgeParentView=G.topEdgeParentView,this.topEdgeSelector=G.topEdgeSelector||"",this.topEdgeOffset=_(G.topEdgeOffset).isNumber()?G.topEdgeOffset:10,this.model.on("change",this.render),this.model.on("showAll",function(){this.ui.paginationGroup.addClass("hidden")})},onRender:function(){this.ui.paginationGroup.toggleClass("hidden",this.model.get("totalElements")<=this.model.get("itemsOnPage"))},updateItems:function(G){this.model.set({totalElements:G})},currentPage:function(){return this.model.get("currentPage")},itemsOnPage:function(){return this.model.get("itemsOnPage")},previous:function(){var G=parseInt(this.model.get("currentPage"));1!=G&&this.updatePage(G-1)},next:function(){var G=parseInt(this.model.get("currentPage"));G>=parseInt(this.model.get("totalElements"))/parseInt(this.model.get("itemsOnPage"))||this.updatePage(G+1)},setItemsPerPage:function(G){this.model.set({itemsOnPage:G})},onPageChanged:function(G){var H=E(G.target).attr("data-id");this.updatePage(H)},updatePage:function(H){if(this.model.set({currentPage:H}),this.trigger("pageChanged",this),this.model.trigger("pageChanged",this),void 0!=this.topEdgeParentView){var G=this.topEdgeParentView.$(this.topEdgeSelector);G.length&&this.scrollToDataTop(G)}},scrollToDataTop:function(L){var H=L.closest(".val-modal");if(H.length>0){var K=H.children(".bbm-modal"),J=L.offset().top-K.offset().top;H.animate({scrollTop:J+parseInt(H.css("padding-top"))-this.topEdgeOffset},500)}else{var I=x("header#banner .dockbar").outerHeight()||0,G=x("#ControlMenu").outerHeight()||0;x("html, body").animate({scrollTop:L.offset().top-(I+G+this.topEdgeOffset)},500)}}}),s.ValamisPaginatorShowing=B.Marionette.View.extend({template:F["default"],className:"paging-showing-label",events:{"click .js-show-all-items":"showAllItems","click .js-show-page-items":"showPageItems"},initialize:function(G){var H=G||{};this.options={},this.options.language=H.language||[],this.model.on("change",this.render)},showAllItems:function(){this.model.set({isShowingAll:!0}),this.model.trigger("showAll",!0)},showPageItems:function(){this.model.set({isShowingAll:!1}),this.model.trigger("showAll",!1)},onRender:function(){this.$(".js-show-all-items").toggleClass("hidden",this.model.get("totalElements")<=this.model.get("itemsOnPage"))}}),s.ValamisPaginatorShowMore=B.Marionette.View.extend({template:z["default"],className:"paging-show-more hidden",events:{"click .js-show-more":"showMore"},initialize:function(){var G=this;this.model.on("change",function(){G.$el.toggleClass("hidden",!G.model.hasMore())},this)},showMore:function(){var G=this.model.get("currentPage")+1;this.model.set({currentPage:G}),this.trigger("pageChanged",this),this.model.trigger("pageChanged",this)}})}).call(s,u(12),u(33),u(33))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="paginator-showing"></div>'),x.b("\n"+y),x.b('<div class="pagination-group">'),x.b("\n"+y),x.b("    <ul>"),x.b("\n"+y),x.s(x.f("isPrevVisible",A,z,1),A,z,0,104,266,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b("        <li>"),B.b("\n"+y),B.b('            <button class="button medium neutral js-paginator-previous-page">'),B.b(B.v(B.d("language.previousLabel",D,C,0))),B.b("\n"+y),B.b("            </button>"),B.b("\n"+y),B.b("        </li>"),B.b("\n"+y)}),A.pop()),x.b("\n"+y),x.s(x.f("leftDots",A,z,1),A,z,0,307,642,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.s(B.f("firstPage",D,C,1),D,C,0,330,580,"{{ }}")&&(B.rs(D,C,function(G,F,E){E.b('        <li class="full-view">'),E.b("\n"+y),E.b('            <button class="button medium neutral'),E.b("\n"+y),E.b("                "),E.s(E.f("isActive",G,F,1),G,F,0,440,452,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b(" active-page")}),G.pop()),E.b("\n"+y),E.b('                js-paginator-change-page" data-id="'),E.b(E.v(E.f("page",G,F,0))),E.b('">'),E.b(E.v(E.f("page",G,F,0))),E.b("\n"+y),E.b("            </button>"),E.b("\n"+y),E.b("        </li>"),E.b("\n"+y)}),D.pop()),B.b('        <li class="full-view">...</li>'),B.b("\n"+y)}),A.pop()),x.b("\n"+y),x.s(x.f("navbuttons",A,z,1),A,z,0,680,930,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('        <li class="full-view">'),B.b("\n"+y),B.b('            <button class="button medium neutral'),B.b("\n"+y),B.b("                "),B.s(B.f("isActive",D,C,1),D,C,0,790,802,"{{ }}")&&(B.rs(D,C,function(G,F,E){E.b(" active-page")}),D.pop()),B.b("\n"+y),B.b('                js-paginator-change-page" data-id="'),B.b(B.v(B.f("page",D,C,0))),B.b('">'),B.b(B.v(B.f("page",D,C,0))),B.b("\n"+y),B.b("            </button>"),B.b("\n"+y),B.b("        </li>"),B.b("\n"+y)}),A.pop()),x.b("\n"+y),x.s(x.f("rightDots",A,z,1),A,z,0,969,1302,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('        <li class="full-view">...</li>'),B.b("\n"+y),B.s(B.f("lastPage",D,C,1),D,C,0,1030,1280,"{{ }}")&&(B.rs(D,C,function(G,F,E){E.b('        <li class="full-view">'),E.b("\n"+y),E.b('            <button class="button medium neutral'),E.b("\n"+y),E.b("                "),E.s(E.f("isActive",G,F,1),G,F,0,1140,1152,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b(" active-page")}),G.pop()),E.b("\n"+y),E.b('                js-paginator-change-page" data-id="'),E.b(E.v(E.f("page",G,F,0))),E.b('">'),E.b(E.v(E.f("page",G,F,0))),E.b("\n"+y),E.b("            </button>"),E.b("\n"+y),E.b("        </li>"),E.b("\n"+y)}),D.pop())}),A.pop()),x.b("\n"+y),x.s(x.f("isNextVisible",A,z,1),A,z,0,1344,1485,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b("        <li>"),B.b("\n"+y),B.b('            <button class="button medium neutral js-paginator-next-page">'),B.b(B.v(B.d("language.nextLabel",D,C,0))),B.b("</button>"),B.b("\n"+y),B.b("        </li>"),B.b("\n"+y)}),A.pop()),x.b("    </ul>"),x.b("\n"+y),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="paginator-showing"></div>\n<div class="pagination-group">\n    <ul>\n        {{#isPrevVisible}}\n        <li>\n            <button class="button medium neutral js-paginator-previous-page">{{language.previousLabel}}\n            </button>\n        </li>\n        {{/isPrevVisible}}\n\n        {{#leftDots}}\n        {{#firstPage}}\n        <li class="full-view">\n            <button class="button medium neutral\n                {{#isActive}} active-page{{/isActive}}\n                js-paginator-change-page" data-id="{{page}}">{{page}}\n            </button>\n        </li>\n        {{/firstPage}}\n        <li class="full-view">...</li>\n        {{/leftDots}}\n\n        {{#navbuttons}}\n        <li class="full-view">\n            <button class="button medium neutral\n                {{#isActive}} active-page{{/isActive}}\n                js-paginator-change-page" data-id="{{page}}">{{page}}\n            </button>\n        </li>\n        {{/navbuttons}}\n\n        {{#rightDots}}\n        <li class="full-view">...</li>\n        {{#lastPage}}\n        <li class="full-view">\n            <button class="button medium neutral\n                {{#isActive}} active-page{{/isActive}}\n                js-paginator-change-page" data-id="{{page}}">{{page}}\n            </button>\n        </li>\n        {{/lastPage}}\n        {{/rightDots}}\n\n        {{#isNextVisible}}\n        <li>\n            <button class="button medium neutral js-paginator-next-page">{{language.nextLabel}}</button>\n        </li>\n        {{/isNextVisible}}\n    </ul>\n</div>',t);return w.render.apply(w,arguments)}},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<span class="show-items-buttons">'),x.b("\n"+y),x.s(x.f("isShowingAll",A,z,1),A,z,0,55,167,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('        <a class="js-show-page-items">'),B.b(B.v(B.d("language.showLabel",D,C,0))),B.b(" "),B.b(B.v(B.f("itemsOnPage",D,C,0))),B.b(" "),B.b(B.v(B.d("language.perPageLabel",D,C,0))),B.b("</a>"),B.b("\n"+y)}),A.pop()),x.b("\n"+y),x.s(x.f("isShowingAll",A,z,1),A,z,1,0,0,"")||(x.b("        <span>"),x.b(x.v(x.d("language.showingLabel",A,z,0))),x.b(" "),x.b(x.v(x.f("startElementNumber",A,z,0))),x.b(" - "),x.b(x.v(x.f("endElementNumber",A,z,0))),x.b(" "),x.b(x.v(x.d("language.ofLabel",A,z,0))),x.b("\n"+y),x.b("            "),x.b(x.v(x.f("totalElements",A,z,0))),x.b("\n"+y),x.b("        </span>"),x.b("\n"+y),x.s(x.f("allowShowAll",A,z,1),A,z,0,386,466,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('            <a class="js-show-all-items">'),B.b(B.v(B.d("language.showAllLabel",D,C,0))),B.b("</a>"),B.b("\n"+y)}),A.pop())),x.b("</span>"),x.fl()},partials:{},subs:{}},'<span class="show-items-buttons">\n    {{#isShowingAll}}\n        <a class="js-show-page-items">{{language.showLabel}} {{itemsOnPage}} {{language.perPageLabel}}</a>\n    {{/isShowingAll}}\n\n    {{^isShowingAll}}\n        <span>{{language.showingLabel}} {{startElementNumber}} - {{endElementNumber}} {{language.ofLabel}}\n            {{totalElements}}\n        </span>\n        {{#allowShowAll}}\n            <a class="js-show-all-items">{{language.showAllLabel}}</a>\n        {{/allowShowAll}}\n    {{/isShowingAll}}\n</span>',t);return w.render.apply(w,arguments)}},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="show-more-button js-show-more">'),x.b("\n"+y),x.b("    "),x.b(x.v(x.d("language.showLabel",A,z,0))),x.b('<span></span> <span class="val-icon-arrow-down val-icon-right"></span>'),x.b("\n"+y),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="show-more-button js-show-more">\n    {{language.showLabel}}<span></span> <span class="val-icon-arrow-down val-icon-right"></span>\n</div>',t);return w.render.apply(w,arguments)}},function(t,w,s){function B(D){return D&&D.__esModule?D:{"default":D}}Object.defineProperty(w,"__esModule",{value:!0});var C=s(67),z=B(C),A=s(68),y=B(A),x=s(50),v=B(x),u=z["default"].extend({model:y["default"],initialize:function(D){this.url=(0,v["default"])().endpoint.users+"current/learning-paths",z["default"].prototype.initialize.apply(this,arguments)}});w["default"]=u},function(u,J,w){function t(K){return K&&K.__esModule?K:{"default":K}}function x(K,L){if(!(K instanceof L)){throw new TypeError("Cannot call a class as a function")}}function z(K,L){if(!K){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !L||"object"!=typeof L&&"function"!=typeof L?K:L}function C(L,K){if("function"!=typeof K&&null!==K){throw new TypeError("Super expression must either be null or a function, not "+typeof K)}L.prototype=Object.create(K&&K.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(L,K):L.__proto__=K)}Object.defineProperty(J,"__esModule",{value:!0}),J["default"]=void 0;var E,v,F=function(){function K(O,M){for(var L=0;L<M.length;L++){var N=M[L];N.enumerable=N.enumerable||!1,N.configurable=!0,"value" in N&&(N.writable=!0),Object.defineProperty(O,N.key,N)}}return function(N,L,M){return L&&K(N.prototype,L),M&&K(N,M),N}}(),s=function H(L,O,N){null===L&&(L=Function.prototype);var P=Object.getOwnPropertyDescriptor(L,O);if(void 0===P){var M=Object.getPrototypeOf(L);return null===M?void 0:H(M,O,N)}if("value" in P){return P.value}var K=P.get;if(void 0!==K){return K.call(N)}},B=w(34),D=t(B),I=w(13),G=w(52),y=t(G),A=(E=(0,I.mixin)({defaults:{page:0,itemsPerPage:2,total:0,items:[]}}),E(v=function(K){function L(){return x(this,L),z(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return C(L,K),F(L,[{key:"initialize",value:function(M){return this.options=D["default"].defaults(M||{},this.defaults),s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"initialize",this).call(this,M)}},{key:"parse",value:function(M){return this.options.total=M.total,this.options.page=M.page,s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"parse",this).call(this,M.items)}},{key:"getPage",value:function(){return this.options.page}},{key:"fetchByPage",value:function(){var N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,M=this.options.itemsPerPage;return this.fetch({data:{page:N,itemsPerPage:M}})}},{key:"nextPage",value:function(){this.options.page=this.options.page+1,this.fetchByPage(this.options.page)}},{key:"previousPage",value:function(){this.options.page=this.options.page-1,this.fetchByPage(this.options.page)}},{key:"hasItems",value:function(){return this.options.total>0}},{key:"hasMore",value:function(){return this.length<this.options.total}}]),L}(y["default"]))||v);J["default"]=A},function(t,s,u){(function(I){function C(M){if(M&&M.__esModule){return M}var K={};if(null!=M){for(var L in M){Object.prototype.hasOwnProperty.call(M,L)&&(K[L]=M[L])}}return K["default"]=M,K}function J(K){return K&&K.__esModule?K:{"default":K}}Object.defineProperty(s,"__esModule",{value:!0});var w=u(69),B=J(w),F=u(50),x=J(F),E=u(35),A=J(E),z=u(70),D=J(z),H=u(58),G=C(H),v=new I.Service({url:function(K){return(0,x["default"])().endpoint.learningPaths},targets:{join:{path:"join",method:"post"},leave:{path:"leave",method:"post"},clone:{path:"clone",method:"post"},publish:{path:"draft/publish",method:"post"},activate:{path:"activate",method:"post"},deactivate:{path:"deactivate",method:"post"},addMembers:{path:function(L,K){return"members/"+K.memberType},data:function(L,K){return K.selectedIds},method:"post"},createDraft:{path:"draft",method:"post"},getUserGoalsProgress:{path:function(L,K){return"members/users/"+K.userId+"/goals-progress"},method:"get"},getUserProgress:{path:function(L,K){return"members/users/"+K.userId+"/progress"},method:"get"}}}),y=B["default"].extend({getFullLogoUrl:function(){var K=this.get("logoUrl");return K?""+(0,x["default"])().apiPath+K:""},isMember:function(){return this.get("published")&&void 0!==this.get("status")},canEarnBadge:function(){return this.get("status")==G.statuses.success&&this.get("openBadgesEnabled")},getIssueBadgeUrl:function(){return"http://"+(0,x["default"])().root+(0,x["default"])().apiPath+"certificates/"+this.get("id")+"/issue_badge?userId="+A["default"].userId()+"&rootUrl="+(0,x["default"])().root},getStatus:function(){var L=this.get("status"),P=G.statuses,R=!this.get("validPeriod");if(R&&L==P.success&&(L=P.success),!R&&L==P.success){var O=D["default"].duration(this.get("expiringPeriod")),N=D["default"].duration(this.get("validPeriod")),K=(0,D["default"])(this.get("statusModifiedDate")).add(N),Q=(0,D["default"])(this.get("statusModifiedDate")).add(N).subtract(O),M=(0,D["default"])();L=M.isAfter(K)?P.expired:M.isAfter(Q)?P.expiring:P.success}return L}}).extend(v);s["default"]=y}).call(s,u(12))},function(t,w,s){function A(B){return B&&B.__esModule?B:{"default":B}}Object.defineProperty(w,"__esModule",{value:!0});var u=s(12),x=A(u),y=s(50),v=A(y),z=x["default"].Model.extend({urlRoot:function(){return""+(0,v["default"])().apiPath+this.options.url(this)}});w["default"]=z},function(t,s){t.exports=e},function(t,s,u){(function(C){function w(D){return D&&D.__esModule?D:{"default":D}}Object.defineProperty(s,"__esModule",{value:!0});var A=u(69),y=w(A),x=u(50),v=w(x),z=new C.Service({url:function(){return(0,v["default"])().endpoint.users+"current/learning-paths"}}),B=y["default"].extend(z);s["default"]=B}).call(s,u(12))},function(t,s,u){(function(w){function C(E){return E&&E.__esModule?E:{"default":E}}Object.defineProperty(s,"__esModule",{value:!0});var v=u(73),A=C(v),D=u(74),B=C(D),z=u(89),y=C(z),x=w.View.extend({template:A["default"],regions:{info:"#pathInfo",layout:"#extLayout"},ui:{pathTabs:".js-valamis-tabs"},childViewEvents:{"viewer:back":"backFromViewer"},modelEvents:{"open:viewer":"showViewer","user:joined":"fetchAndOpenPreview","user:left":"showPreview"},onRender:function(){this.showPreview(),this.ui.pathTabs.valamisTabs()},showPreview:function(E){this.showChildView("info",new B["default"]({model:this.model,reloadModel:E}))},fetchAndOpenPreview:function(){this.showPreview(!0)},showViewer:function(E){this.ui.pathTabs.addClass("hidden"),this.showChildView("layout",new y["default"]({model:this.model,goals:E}))},backFromViewer:function(){this.showPreview(!0),this.ui.pathTabs.removeClass("hidden"),this.getRegion("layout").empty()}});s["default"]=x}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div id="pathTabs" class="val-tabs js-valamis-tabs">'),x.b("\n"+y),x.b('    <ul class="nav-tabs clearfix js-tabs-navigation">'),x.b("\n"+y),x.b('        <li class="js-info" data-ref="pathInfo"><a>'),x.b(x.v(x.d("language.infoLabel",A,z,0))),x.b("</a></li>"),x.b("\n"+y),x.s(x.d("permissions.modify",A,z,1),A,z,0,221,312,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('        <li class="" data-ref="pathMembers"><a>'),B.b(B.v(B.d("language.membersLabel",D,C,0))),B.b("</a></li>"),B.b("\n"+y)}),A.pop()),x.b("    </ul>"),x.b("\n"),x.b("\n"+y),x.b('    <div class="tab-content js-tabs-content">'),x.b("\n"+y),x.b('        <div id="pathInfo" class="tab-pane"></div>'),x.b("\n"+y),x.b('        <div id="pathMembers" class="tab-pane members-list"></div>'),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.b('<div id="extLayout"></div>'),x.b("\n"),x.b("\n"+y),x.b('<div class="modal-close val-icon-exit"></div>'),x.b("\n"),x.fl()},partials:{},subs:{}},'<div id="pathTabs" class="val-tabs js-valamis-tabs">\n    <ul class="nav-tabs clearfix js-tabs-navigation">\n        <li class="js-info" data-ref="pathInfo"><a>{{language.infoLabel}}</a></li>\n        {{#permissions.modify}}\n        <li class="" data-ref="pathMembers"><a>{{language.membersLabel}}</a></li>\n        {{/permissions.modify}}\n    </ul>\n\n    <div class="tab-content js-tabs-content">\n        <div id="pathInfo" class="tab-pane"></div>\n        <div id="pathMembers" class="tab-pane members-list"></div>\n    </div>\n</div>\n\n<div id="extLayout"></div>\n\n<div class="modal-close val-icon-exit"></div>\n',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(A){function I(K){return K&&K.__esModule?K:{"default":K}}Object.defineProperty(s,"__esModule",{value:!0});var J=u(75),F=I(J),G=u(10),v=I(G),x=u(45),z=I(x),y=u(57),E=I(y),H=u(76),C=I(H),w=u(71),D=I(w),B=A.View.extend({template:F["default"],regions:{info:".js-preview-info"},ui:{edit:".js-edit",clone:".js-clone-path",publish:".js-publish-path",activate:".js-activate-path",deactivate:".js-deactivate-path","delete":".js-delete-path"},events:{"click @ui.edit":"editPath","click @ui.clone":"clonePath","click @ui.publish":"publishPath","click @ui.activate":"activatePath","click @ui.deactivate":"deactivatePath","click @ui.delete":"confirmDeletePath"},behaviors:[E["default"]],initialize:function(){this.notifyChannel=z["default"].channel("notify"),this.reloadModel=this.options.reloadModel},onRender:function(){var K=this;this.reloadModel?_.delay(function(){K.fetchNewData()},500):this.showInfo()},fetchNewData:function(){var K=this,L=new D["default"]({id:this.model.get("id")});L.fetch().then(function(){K.model.clear({silent:!0}),K.model.set(L.toJSON()),K.reloadModel=!1,K.render()},function(){z["default"].channel("notify").trigger("notify","error","failedLabel")})},showInfo:function(){this.showChildView("info",new C["default"]({model:this.model,doAsAdmin:this.options.doAsAdmin}))},editPath:function(){this.triggerMethod("edit:path")},clonePath:function(){var K=this;this.model.clone().then(function(){K.notifyChannel.trigger("notify","success","completeLabel")},function(){K.notifyChannel.trigger("notify","error","failedLabel")})},publishPath:function(){var K=this;this.model.publish().then(function(){K.reloadModel=!0,K.render()},function(){K.notifyChannel.trigger("notify","error","failedLabel")})},activatePath:function(){var K=this;this.model.activate().then(function(){K.model.set("activated",!0),K.render()},function(){K.notifyChannel.trigger("notify","error","failedLabel")})},deactivatePath:function(){var K=this;this.model.deactivate().then(function(){K.model.set("activated",!1),K.render()},function(){K.notifyChannel.trigger("notify","error","failedLabel")})},confirmDeletePath:function(){var K=this;this.notifyChannel.trigger("confirm",{message:v["default"].language.warningDeletePathLabel},function(){K.deletePath()})},deletePath:function(){var K=this;this.model.destroy().then(function(){K.notifyChannel.trigger("notify","success","completeLabel")},function(){K.notifyChannel.trigger("notify","error","failedLabel")})}});s["default"]=B}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="tab-header-imitation">'),x.b("\n"+y),x.s(x.d("permissions.modify",A,z,1),A,z,0,58,1268,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.s(B.f("hasDraft",D,C,1),D,C,0,76,341,"{{ }}")&&(B.rs(D,C,function(G,F,E){E.b('    <div class="display-inline valamis-info-label centered-x-block">'),E.b("\n"+y),E.s(E.f("published",G,F,1),G,F,0,168,222,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b("        "),H.b(H.v(H.d("language.hasInactiveChangesLabel",J,I,0))),H.b("\n"+y)}),G.pop()),E.s(E.f("published",G,F,1),G,F,1,0,0,"")||(E.b("        "),E.b(E.v(E.d("language.unpublishedDraftLabel",G,F,0))),E.b("\n"+y)),E.b("    </div>"),E.b("\n"+y)}),D.pop()),B.b("\n"+y),B.b('    <button class="button medium neutral js-edit">'),B.b("\n"+y),B.b("        "),B.b(B.v(B.d("language.editLabel",D,C,0))),B.b("\n"+y),B.b("    </button>"),B.b("\n"),B.b("\n"+y),B.b('    <div class="dropdown actions display-inline-block js-dropdown">'),B.b("\n"+y),B.b('        <button class="button medium neutral">'),B.b("\n"+y),B.b('            <span class="dropdown-text">...</span>'),B.b("\n"+y),B.b("        </button>"),B.b("\n"+y),B.b('        <ul class="dropdown-menu">'),B.b("\n"+y),B.b('            <li class="js-clone-path">'),B.b(B.v(B.d("language.cloneLabel",D,C,0))),B.b("</li>"),B.b("\n"+y),B.s(B.f("hasDraft",D,C,1),D,C,0,764,848,"{{ }}")&&(B.rs(D,C,function(G,F,E){E.b('            <li class="js-publish-path">'),E.b(E.v(E.d("language.publishLabel",G,F,0))),E.b("</li>"),E.b("\n"+y)}),D.pop()),B.s(B.f("published",D,C,1),D,C,0,888,1159,"{{ }}")&&(B.rs(D,C,function(G,F,E){E.s(E.f("activated",G,F,1),G,F,1,0,0,"")||(E.b('            <li class="js-activate-path">'),E.b(E.v(E.d("language.activateLabel",G,F,0))),E.b("</li>"),E.b("\n"+y)),E.s(E.f("activated",G,F,1),G,F,0,1042,1132,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b('            <li class="js-deactivate-path">'),H.b(H.v(H.d("language.deactivateLabel",J,I,0))),H.b("</li>"),H.b("\n"+y)}),G.pop())}),D.pop()),B.b('            <li class="js-delete-path">'),B.b(B.v(B.d("language.deleteLabel",D,C,0))),B.b("</li>"),B.b("\n"+y),B.b("        </ul>"),B.b("\n"+y),B.b("    </div>"),B.b("\n"+y)}),A.pop()),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.b('<div class="js-preview-info">'),x.b("\n"+y),x.b('    <div class="loading-container js-loading"></div>'),x.b("\n"+y),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="tab-header-imitation">\n{{#permissions.modify}}\n    {{#hasDraft}}\n    <div class="display-inline valamis-info-label centered-x-block">\n        {{#published}}\n        {{language.hasInactiveChangesLabel}}\n        {{/published}}\n        {{^published}}\n        {{language.unpublishedDraftLabel}}\n        {{/published}}\n    </div>\n    {{/hasDraft}}\n\n    <button class="button medium neutral js-edit">\n        {{language.editLabel}}\n    </button>\n\n    <div class="dropdown actions display-inline-block js-dropdown">\n        <button class="button medium neutral">\n            <span class="dropdown-text">...</span>\n        </button>\n        <ul class="dropdown-menu">\n            <li class="js-clone-path">{{language.cloneLabel}}</li>\n            {{#hasDraft}}\n            <li class="js-publish-path">{{language.publishLabel}}</li>\n            {{/hasDraft}}\n            {{#published}}\n            {{^activated}}\n            <li class="js-activate-path">{{language.activateLabel}}</li>\n            {{/activated}}\n            {{#activated}}\n            <li class="js-deactivate-path">{{language.deactivateLabel}}</li>\n            {{/activated}}\n            {{/published}}\n            <li class="js-delete-path">{{language.deleteLabel}}</li>\n        </ul>\n    </div>\n{{/permissions.modify}}\n</div>\n\n<div class="js-preview-info">\n    <div class="loading-container js-loading"></div>\n</div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(D){function R(U){if(U&&U.__esModule){return U}var S={};if(null!=U){for(var T in U){Object.prototype.hasOwnProperty.call(U,T)&&(S[T]=U[T])}}return S["default"]=U,S}function w(S){return S&&S.__esModule?S:{"default":S}}Object.defineProperty(s,"__esModule",{value:!0});var I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},H=u(77),Q=w(H),z=u(10),N=w(z),A=u(45),P=w(A),M=u(78),E=w(M),G=u(80),C=w(G),K=u(58),B=R(K),J=u(81),F=w(J),x=u(35),y=w(x),v=u(86),L=(w(v),u(87)),O=(w(L),D.View.extend({className:"preview-wrapper",regions:{recommendationList:".js-recommendation-list",improvingList:".js-improving-list",goals:".js-goals-list"},ui:{goalsSubheader:".js-goals-subheader",scope:".js-scope-title",join:".js-join",leave:".js-leave",startPath:".js-start",earnBadge:".js-earn-badge",recommendationSkills:".js-recommendation-skills",improvingSkills:".js-improving-skills"},events:{"click @ui.join":"joinPath","click @ui.leave":"leavePath","click @ui.startPath":"startPath","click @ui.earnBadge":"earnBadge"},template:Q["default"],templateContext:function(){var T=this.model.get("validPeriod"),V=T?E["default"].getHumanizeDuration(T):"",S=this.model.get("expiringPeriod"),X=S?E["default"].getHumanizeDuration(S):"",W=B.statuses,U=this.model.isMember()?this.model.getStatus():"";return{validDuration:V,expiringDuration:X,fullLogoUrl:this.model.getFullLogoUrl(),isMember:this.model.isMember(),isInProgress:U===W.inprogress,isSucceed:U===W.success,isFailed:U===W.failed,isExpired:U===W.expired,isExpiring:U===W.expiring,canEarnBadge:this.model.canEarnBadge()}},onRender:function(){var W=this;if(this.goals=void 0,this.model.get("courseId")){var S=new C["default"]({id:this.model.get("courseId")});S.fetch().then(function(){W.ui.scope.text(S.get("title"))},function(){P["default"].channel("notify").trigger("notify","error","failedLabel")})}else{this.ui.scope.text(N["default"].language.instanceScopeLabel)}var T=!this.options.doAsAdmin&&this.model.isMember(),U=T?y["default"].userId():"",V=new F["default"]({path:this.model,userId:U,doAsAdmin:this.options.doAsAdmin,versionId:this.model.get("statusVersionId")});V.on("goals:loaded",this.toggleStart,this),this.showChildView("goals",V)},toggleStart:function(T){this.goals=T;var S=T.length>0&&this.model.isMember()&&this.model.getStatus()===B.statuses.inprogress;this.ui.startPath.toggleClass("hidden",!S)},joinPath:function(){var S=this;this.model.join().then(function(){S.model.trigger("user:joined")},function(){S.notifyChannel.trigger("notify","error","failedLabel")})},leavePath:function(){var S=this;this.model.leave().then(function(){S.model.unset("status"),S.model.trigger("user:left")},function(){S.notifyChannel.trigger("notify","error","failedLabel")})},startPath:function(){this.goals?this.model.trigger("open:viewer",this.goals):this.notifyChannel.trigger("notify","error","failedLabel")},earnBadge:function(){void 0!==("undefined"==typeof OpenBadges?"undefined":I(OpenBadges))?OpenBadges.issue([this.model.getIssueBadgeUrl()]):this.notifyChannel.trigger("notify","error","openBadgesUndefinedLabel")}}));s["default"]=O}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="preview-group clearfix">'),x.b("\n"+y),x.b('    <div class="div-table val-info-table">'),x.b("\n"+y),x.b('        <div class="div-row">'),x.b("\n"+y),x.b('            <div class="div-col name-col">'),x.b("\n"+y),x.b('                <img src="'),x.s(x.f("logoUrl",A,z,1),A,z,0,191,206,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b(B.v(B.f("fullLogoUrl",D,C,0)))}),A.pop()),x.b('" class="shift-left val-img-logo certificate" />'),x.b("\n"+y),x.b("            </div>"),x.b("\n"+y),x.b('            <div class="div-col content-col">'),x.b("\n"+y),x.b('                <div class="header">'),x.b(x.v(x.f("title",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b("                <div>"),x.b("\n"+y),x.s(x.f("published",A,z,1),A,z,0,440,609,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.s(B.f("activated",D,C,1),D,C,1,0,0,"")||(B.b('                    <span class="val-label inactive">'),B.b(B.v(B.d("language.inactiveStatusLabel",D,C,0))),B.b("</span>"),B.b("\n"+y),B.b("                    &bull;"),B.b("\n"+y))}),A.pop()),x.s(x.f("activated",A,z,1),A,z,0,658,1329,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.s(B.f("isMember",D,C,1),D,C,0,671,1316,"{{ }}")&&(B.rs(D,C,function(G,F,E){E.b("                    "),E.s(E.f("isInProgress",G,F,1),G,F,0,709,774,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b('<span class="val-label">'),H.b(H.v(H.d("language.inProgressStatusLabel",J,I,0))),H.b("</span>")}),G.pop()),E.b("\n"+y),E.b("                    "),E.s(E.f("isSucceed",G,F,1),G,F,0,826,896,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b('<span class="val-label success">'),H.b(H.v(H.d("language.successStatusLabel",J,I,0))),H.b("</span>")}),G.pop()),E.b("\n"+y),E.b("                    "),E.s(E.f("isFailed",G,F,1),G,F,0,944,1012,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b('<span class="val-label failed">'),H.b(H.v(H.d("language.failedStatusLabel",J,I,0))),H.b("</span>")}),G.pop()),E.b("\n"+y),E.b("                    "),E.s(E.f("isExpired",G,F,1),G,F,0,1060,1129,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b('<span class="val-label failed">'),H.b(H.v(H.d("language.expiredStatusLabel",J,I,0))),H.b("</span>")}),G.pop()),E.b("\n"+y),E.b("                    "),E.s(E.f("isExpiring",G,F,1),G,F,0,1179,1253,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b('<span class="val-label inprogress">'),H.b(H.v(H.d("language.expiringStatusLabel",J,I,0))),H.b("</span>")}),G.pop()),E.b("\n"+y),E.b("                    &bull;"),E.b("\n"+y)}),D.pop())}),A.pop()),x.b("\n"+y),x.b('                    <span class="js-scope-title"></span>'),x.b("\n"+y),x.b("                </div>"),x.b("\n"+y),x.s(x.f("published",A,z,1),A,z,0,1455,2356,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('                <div class="path-action-buttons">'),B.b("\n"+y),B.s(B.f("isMember",D,C,1),D,C,0,1539,2091,"{{ }}")&&(B.rs(D,C,function(G,F,E){E.b('                    <button class="button medium primary hidden js-start">'),E.b("\n"+y),E.b("                        "),E.b(E.v(E.d("language.startLabel",G,F,0))),E.b("\n"+y),E.b("                    </button>"),E.b("\n"),E.b("\n"+y),E.s(E.f("canEarnBadge",G,F,1),G,F,0,1731,1907,"{{ }}")&&(E.rs(G,F,function(J,I,H){H.b('                    <button class="button medium primary js-earn-badge">'),H.b("\n"+y),H.b("                        "),H.b(H.v(H.d("language.earnBadgeLabel",J,I,0))),H.b("\n"+y),H.b("                    </button>"),H.b("\n"+y)}),G.pop()),E.b("\n"+y),E.b('                    <button class="button medium danger js-leave">'),E.b("\n"+y),E.b("                        "),E.b(E.v(E.d("language.leaveLabel",G,F,0))),E.b("\n"+y),E.b("                    </button>"),E.b("\n"+y)}),D.pop()),B.s(B.f("isMember",D,C,1),D,C,1,0,0,"")||(B.b('                    <button class="button medium primary js-join">'),B.b("\n"+y),B.b("                        "),B.b(B.v(B.d("language.joinLabel",D,C,0))),B.b("\n"+y),B.b("                    </button>"),B.b("\n"+y)),B.b("                </div>"),B.b("\n"+y)}),A.pop()),x.b("            </div>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"+y),x.b('<div class="preview-group description-preview">'),x.b("\n"+y),x.b('    <div class="subheader">'),x.b(x.v(x.d("language.descriptionLabel",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b("    "),x.b(x.v(x.f("description",A,z,0))),x.b("\n"),x.b("\n"+y),x.b('    <div class="skills-select js-recommendation-skills hidden">'),x.b("\n"+y),x.b('        <div class="subheader">'),x.b(x.v(x.d("language.prerequisitesLabel",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b('        <div class="dropdown">'),x.b("\n"+y),x.b('            <div class="js-common-select">'),x.b("\n"+y),x.b('                <div class="js-recommendation-list"></div>'),x.b("\n"+y),x.b("            </div>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"),x.b("\n"+y),x.b('    <div class="skills-select js-improving-skills hidden">'),x.b("\n"+y),x.b('        <div class="subheader">'),x.b(x.v(x.d("language.improvementLabel",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b('        <div class="dropdown">'),x.b("\n"+y),x.b('            <div class="js-common-select">'),x.b("\n"+y),x.b('                <div class="js-improving-list"></div>'),x.b("\n"+y),x.b("            </div>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.b('<div id="pathGoals" class="preview-group path-goals">'),x.b("\n"+y),x.b('    <div class="js-goals-list">'),x.b("\n"+y),x.b('        <div class="loading-container js-loading"></div>'),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.b('<div id="pathExtInfo" class="preview-group">'),x.b("\n"+y),x.b('    <div class="div-table val-info-table">'),x.b("\n"+y),x.b('        <div class="div-row">'),x.b("\n"+y),x.b('            <div class="div-col name-col">'),x.b(x.v(x.d("language.validPeriodLabel",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b('            <div class="div-col content-col">'),x.b("\n"+y),x.b("                <span>"),x.b("\n"+y),x.s(x.f("validPeriod",A,z,1),A,z,0,3633,3684,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b("                "),B.b(B.v(B.f("validDuration",D,C,0))),B.b("\n"+y)}),A.pop()),x.s(x.f("validPeriod",A,z,1),A,z,1,0,0,"")||(x.b("                "),x.b(x.v(x.d("language.permanentLabel",A,z,0))),x.b("\n"+y)),x.b("                </span>"),x.b("\n"+y),x.b("            </div>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"),x.b("\n"+y),x.s(x.f("expiringDuration",A,z,1),A,z,0,3899,4149,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('        <div class="div-row">'),B.b("\n"+y),B.b('            <div class="div-col name-col">'),B.b(B.v(B.d("language.expiringPeriodLabel",D,C,0))),B.b("</div>"),B.b("\n"+y),B.b('            <div class="div-col content-col">'),B.b("\n"+y),B.b("                <span>"),B.b(B.v(B.f("expiringDuration",D,C,0))),B.b("</span>"),B.b("\n"+y),B.b("            </div>"),B.b("\n"+y),B.b("        </div>"),B.b("\n"+y)}),A.pop()),x.b("\n"+y),x.s(x.f("openBadgesEnabled",A,z,1),A,z,0,4202,4464,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('        <div class="div-row">'),B.b("\n"+y),B.b('            <div class="div-col name-col">'),B.b(B.v(B.d("language.openBadgesDescriptionLabel",D,C,0))),B.b("</div>"),B.b("\n"+y),B.b('            <div class="div-col content-col">'),B.b("\n"+y),B.b("                <span>"),B.b(B.v(B.f("openBadgesDescription",D,C,0))),B.b("</span>"),B.b("\n"+y),B.b("            </div>"),B.b("\n"+y),B.b("        </div>"),B.b("\n"+y)}),A.pop()),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="preview-group clearfix">\n    <div class="div-table val-info-table">\n        <div class="div-row">\n            <div class="div-col name-col">\n                <img src="{{#logoUrl}}{{fullLogoUrl}}{{/logoUrl}}" class="shift-left val-img-logo certificate" />\n            </div>\n            <div class="div-col content-col">\n                <div class="header">{{title}}</div>\n                <div>\n                    {{#published}}{{^activated}}\n                    <span class="val-label inactive">{{language.inactiveStatusLabel}}</span>\n                    &bull;\n                    {{/activated}}{{/published}}\n                    {{#activated}}{{#isMember}}\n                    {{#isInProgress}}<span class="val-label">{{language.inProgressStatusLabel}}</span>{{/isInProgress}}\n                    {{#isSucceed}}<span class="val-label success">{{language.successStatusLabel}}</span>{{/isSucceed}}\n                    {{#isFailed}}<span class="val-label failed">{{language.failedStatusLabel}}</span>{{/isFailed}}\n                    {{#isExpired}}<span class="val-label failed">{{language.expiredStatusLabel}}</span>{{/isExpired}}\n                    {{#isExpiring}}<span class="val-label inprogress">{{language.expiringStatusLabel}}</span>{{/isExpiring}}\n                    &bull;\n                    {{/isMember}}{{/activated}}\n\n                    <span class="js-scope-title"></span>\n                </div>\n                {{#published}}\n                <div class="path-action-buttons">\n                    {{#isMember}}\n                    <button class="button medium primary hidden js-start">\n                        {{language.startLabel}}\n                    </button>\n\n                    {{#canEarnBadge}}\n                    <button class="button medium primary js-earn-badge">\n                        {{language.earnBadgeLabel}}\n                    </button>\n                    {{/canEarnBadge}}\n\n                    <button class="button medium danger js-leave">\n                        {{language.leaveLabel}}\n                    </button>\n                    {{/isMember}}\n                    {{^isMember}}\n                    <button class="button medium primary js-join">\n                        {{language.joinLabel}}\n                    </button>\n                    {{/isMember}}\n                </div>\n                {{/published}}\n            </div>\n        </div>\n    </div>\n</div>\n<div class="preview-group description-preview">\n    <div class="subheader">{{language.descriptionLabel}}</div>\n    {{description}}\n\n    <div class="skills-select js-recommendation-skills hidden">\n        <div class="subheader">{{language.prerequisitesLabel}}</div>\n        <div class="dropdown">\n            <div class="js-common-select">\n                <div class="js-recommendation-list"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="skills-select js-improving-skills hidden">\n        <div class="subheader">{{language.improvementLabel}}</div>\n        <div class="dropdown">\n            <div class="js-common-select">\n                <div class="js-improving-list"></div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div id="pathGoals" class="preview-group path-goals">\n    <div class="js-goals-list">\n        <div class="loading-container js-loading"></div>\n    </div>\n</div>\n\n<div id="pathExtInfo" class="preview-group">\n    <div class="div-table val-info-table">\n        <div class="div-row">\n            <div class="div-col name-col">{{language.validPeriodLabel}}</div>\n            <div class="div-col content-col">\n                <span>\n                {{#validPeriod}}\n                {{validDuration}}\n                {{/validPeriod}}\n                {{^validPeriod}}\n                {{language.permanentLabel}}\n                {{/validPeriod}}\n                </span>\n            </div>\n        </div>\n\n        {{#expiringDuration}}\n        <div class="div-row">\n            <div class="div-col name-col">{{language.expiringPeriodLabel}}</div>\n            <div class="div-col content-col">\n                <span>{{expiringDuration}}</span>\n            </div>\n        </div>\n        {{/expiringDuration}}\n\n        {{#openBadgesEnabled}}\n        <div class="div-row">\n            <div class="div-col name-col">{{language.openBadgesDescriptionLabel}}</div>\n            <div class="div-col content-col">\n                <span>{{openBadgesDescription}}</span>\n            </div>\n        </div>\n        {{/openBadgesEnabled}}\n    </div>\n</div>',t);return w.render.apply(w,arguments)}},function(v,K,x){function J(N){if(N&&N.__esModule){return N}var L={};if(null!=N){for(var M in N){Object.prototype.hasOwnProperty.call(N,M)&&(L[M]=N[M])}}return L["default"]=N,L}function s(L){return L&&L.__esModule?L:{"default":L}}function z(L,M){if(!(L instanceof M)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(K,"__esModule",{value:!0});var H=function(){function L(P,N){for(var M=0;M<N.length;M++){var O=N[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value" in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(O,M,N){return M&&L(O.prototype,M),N&&L(O,N),O}}(),u=x(35),y=s(u),B=x(70),w=s(B),F=x(79),D=s(F),G=x(58),A=J(G),t=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/,C=function(N,L){var M=N&&parseFloat(N.replace(",","."));return(isNaN(M)?0:M)*L},E=function(M){var L=void 0,O=void 0,N=null;return(N=t.exec(M))&&(L="-"===N[1]?-1:1,O={y:C(N[2],L),mo:C(N[3],L),w:C(N[4],L),d:C(N[5],L),h:C(N[6],L),m:C(N[7],L),s:C(N[8],L)}),O},I=function(){function L(){z(this,L)}return H(L,null,[{key:"getDurationObject",value:function(N){var M={};return _.each(E(N),function(P,O){P>0&&(M[O]=P)}),M}},{key:"getHumanizeDuration",value:function(O){var N=w["default"].duration(O).asMilliseconds(),M=_.map(this.getDurationObject(O),function(Q,P){return P});return(0,D["default"])(N,{language:y["default"].getUserLocale(),units:M,round:!0})}},{key:"getIsoDuration",value:function(N){var M="P";return N.y&&(M+=N.y+"Y"),N.mo&&(M+=N.mo+"M"),N.w&&(M+=N.w+"W"),N.d&&(M+=N.d+"D"),(N.h||N.m||N.s)&&(M+="T",N.h&&(M+=N.h+"H"),N.m&&(M+=N.m+"M"),N.s&&(M+=N.s+"S")),M}},{key:"getPeriod",value:function(O){var Q=this.getDurationObject(O),M=A.validPeriodTypes,N=_.intersection(_.keys(Q),_.keys(M)),P={};return N.length>0&&(P.type=N[0],P.value=Q[N[0]]),P}}]),L}();K["default"]=I},function(t,s){t.exports=c},function(t,s,u){(function(C){function w(D){return D&&D.__esModule?D:{"default":D}}Object.defineProperty(s,"__esModule",{value:!0});var B=u(69),y=w(B),x=u(50),v=w(x),A=new C.Service({url:function(){return(0,v["default"])().endpoint.courses}}),z=y["default"].extend(A);s["default"]=z}).call(s,u(12))},function(t,s,u){(function(A,x){function P(S){if(S&&S.__esModule){return S}var Q={};if(null!=S){for(var R in S){Object.prototype.hasOwnProperty.call(S,R)&&(Q[R]=S[R])}}return Q["default"]=S,Q}function v(Q){return Q&&Q.__esModule?Q:{"default":Q}}Object.defineProperty(s,"__esModule",{value:!0});var B=u(82),E=v(B),K=u(83),M=v(K),w=u(10),I=v(w),y=u(45),L=v(y),F=u(58),z=P(F),H=u(78),C=v(H),G=u(84),J=v(G),O=A.View.extend({tagName:"li",template:E["default"],templateContext:function(){var U=this.model.get("timeLimit")?C["default"].getHumanizeDuration(this.model.get("timeLimit")):"-",T=this.model.isGroup()?this.model.get("goals").length:0,Q={};if(this.options.isUserMember){var R=_.find(this.options.userProgress,{goalId:this.model.get("id")}),S=R?R.status:"";Q.isSucceed=S===z.statuses.success,Q.isFailed=S===z.statuses.failed,Q.isInProgress=!Q.isSucceed&&!Q.isFailed}return _.extend({isGroup:this.model.isGroup(),isActivity:this.model.isActivity(),goalTypeLabel:I["default"].language[this.model.get("goalType")+"GoalLabel"],timeLimit:U,isGroupCompletedByCount:this.model.isCompletedByCount(),isParentCompletedByCount:this.options.isParentCompletedByCount,childrenNumber:T,isUserMember:this.options.isUserMember},Q)},regions:{tree:{el:"ul.js-group-children",replaceElement:!0}},onRender:function(){var S=this,R=this.model.get("goals");if(R&&R.length){var Q=new N({collection:new J["default"](R),userProgress:this.options.userProgress,isParentCompletedByCount:this.model.isCompletedByCount(),isUserMember:this.options.isUserMember});Q.collection.on("bubble:event",function(T){S.model.trigger("bubble:event",T)}),this.showChildView("tree",Q)}}}),N=A.CollectionView.extend({tagName:"ul",childView:O,childViewOptions:function(){return{userProgress:this.options.userProgress,isParentCompletedByCount:this.options.isParentCompletedByCount,isUserMember:this.options.isUserMember}}}),D=A.View.extend({template:M["default"],className:"val-list-table",regions:{goalsList:".js-goals-list"},ui:{doneCount:".js-done-count",header:".js-header"},templateContext:function(){return{isPreview:!0,goalsCount:this.options.path.get("goalsCount"),isMember:this.isUserMember}},initialize:function(){this.isUserMember=!!this.options.userId},onRender:function(){var Q=this;this.goals=new J["default"](),this.goals.pathId=this.options.path.get("id"),this.goals.versionId=this.options.versionId;var S=x.Deferred(),R=x.Deferred();this.goals.fetch({getVersion:!this.options.doAsAdmin&&this.isUserMember,activities:I["default"].activities.toJSON()}).then(function(){Q.triggerMethod("goals:loaded",Q.goals),S.resolve()},function(){S.reject()}),this.userProgress=[],this.isUserMember?this.options.path.getUserGoalsProgress({},{userId:this.options.userId}).then(function(T){Q.userProgress=T,R.resolve()},function(){R.reject()}):R.resolve(),x.when(S,R).then(function(){Q.renderTree()},function(){L["default"].channel("notify").trigger("notify","error","failedLabel")})},renderTree:function(){if(this.isUserMember){var Q=_.filter(this.userProgress,{status:z.statuses.success}).length;this.ui.doneCount.text(Q)}this.ui.header.toggleClass("hidden",0===this.goals.length);var R=new N({collection:this.goals,userProgress:this.userProgress,isUserMember:this.isUserMember});this.showChildView("goalsList",R)}});s["default"]=D}).call(s,u(11),u(33))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="clearfix list-table-row">'),x.b("\n"+y),x.b('    <span class="s-6 goal-title '),x.s(x.f("isGroup",A,z,1),A,z,0,82,87,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b("group")}),A.pop()),x.b('">'),x.b("\n"+y),x.b('        <div class="ellipsis">'),x.b("\n"+y),x.s(x.f("isUserMember",A,z,1),A,z,0,162,577,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.s(B.f("isInProgress",D,C,1),D,C,0,196,267,"{{ }}")&&(B.rs(D,C,function(G,F,E){E.b('                <span class="val-rounded-div"></span>'),E.b("\n"+y)}),D.pop()),B.s(B.f("isSucceed",D,C,1),D,C,0,315,414,"{{ }}")&&(B.rs(D,C,function(G,F,E){E.b('                <span class="val-rounded-icon val-icon-checkmark success"></span>'),E.b("\n"+y)}),D.pop()),B.s(B.f("isFailed",D,C,1),D,C,0,458,551,"{{ }}")&&(B.rs(D,C,function(G,F,E){E.b('                <span class="val-rounded-icon val-icon-exit failed"></span>'),E.b("\n"+y)}),D.pop())}),A.pop()),x.b("\n"+y),x.s(x.f("isGroup",A,z,1),A,z,0,620,659,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b("                "),B.b(B.v(B.f("title",D,C,0))),B.b("\n"+y)}),A.pop()),x.s(x.f("isGroup",A,z,1),A,z,1,0,0,"")||(x.b("                "),x.s(x.f("isActivity",A,z,1),A,z,0,728,758,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b(B.v(B.d("language.doLabel",D,C,0))),B.b(" "),B.b(B.v(B.f("count",D,C,0)))}),A.pop()),x.b("\n"+y),x.b("                "),x.b(x.v(x.f("title",A,z,0))),x.b("\n"+y)),x.b("        </div>"),x.b("\n"+y),x.b("    </span>"),x.b("\n"+y),x.b('    <span class="s-2">'),x.b(x.v(x.f("goalTypeLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b('    <span class="s-2">'),x.b(x.v(x.f("timeLimit",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b('    <span class="s-2">'),x.b("\n"+y),x.s(x.f("isGroup",A,z,1),A,z,0,985,1279,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.s(B.f("isGroupCompletedByCount",D,C,1),D,C,0,1026,1123,"{{ }}")&&(B.rs(D,C,function(G,F,E){E.b("            "),E.b(E.v(E.d("language.anyLabel",G,F,0))),E.b(" "),E.b(E.v(E.f("count",G,F,0))),E.b(" "),E.b(E.v(E.d("language.ofLabel",G,F,0))),E.b(" "),E.b(E.v(E.f("childrenNumber",G,F,0))),E.b("\n"+y)}),D.pop()),B.s(B.f("isGroupCompletedByCount",D,C,1),D,C,1,0,0,"")||(B.b("            "),B.b(B.v(B.d("language.customLabel",D,C,0))),B.b("\n"+y))}),A.pop()),x.s(x.f("isGroup",A,z,1),A,z,1,0,0,"")||x.s(x.f("isParentCompletedByCount",A,z,1),A,z,1,0,0,"")||(x.b("            "),x.s(x.f("optional",A,z,1),A,z,0,1376,1396,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b(B.v(B.d("language.noLabel",D,C,0)))}),A.pop()),x.b("\n"+y),x.b("            "),x.s(x.f("optional",A,z,1),A,z,1,0,0,"")||x.b(x.v(x.d("language.yesLabel",A,z,0))),x.b("\n"+y)),x.b("    </span>"),x.b("\n"+y),x.b("</div>"),x.b("\n"+y),x.s(x.f("isGroup",A,z,1),A,z,0,1560,1597,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('<ul class="js-group-children"></ul>'),B.b("\n"+y)}),A.pop()),x.fl()},partials:{},subs:{}},'<div class="clearfix list-table-row">\n    <span class="s-6 goal-title {{#isGroup}}group{{/isGroup}}">\n        <div class="ellipsis">\n            {{#isUserMember}}\n                {{#isInProgress}}\n                <span class="val-rounded-div"></span>\n                {{/isInProgress}}\n                {{#isSucceed}}\n                <span class="val-rounded-icon val-icon-checkmark success"></span>\n                {{/isSucceed}}\n                {{#isFailed}}\n                <span class="val-rounded-icon val-icon-exit failed"></span>\n                {{/isFailed}}\n            {{/isUserMember}}\n\n            {{#isGroup}}\n                {{title}}\n            {{/isGroup}}\n            {{^isGroup}}\n                {{#isActivity}}{{language.doLabel}} {{count}}{{/isActivity}}\n                {{title}}\n            {{/isGroup}}\n        </div>\n    </span>\n    <span class="s-2">{{goalTypeLabel}}</span>\n    <span class="s-2">{{timeLimit}}</span>\n    <span class="s-2">\n        {{#isGroup}}\n            {{#isGroupCompletedByCount}}\n            {{language.anyLabel}} {{count}} {{language.ofLabel}} {{childrenNumber}}\n            {{/isGroupCompletedByCount}}\n            {{^isGroupCompletedByCount}}\n            {{language.customLabel}}\n            {{/isGroupCompletedByCount}}\n        {{/isGroup}}\n        {{^isGroup}}\n        {{^isParentCompletedByCount}}\n            {{#optional}}{{language.noLabel}}{{/optional}}\n            {{^optional}}{{language.yesLabel}}{{/optional}}\n        {{/isParentCompletedByCount}}\n        {{/isGroup}}\n    </span>\n</div>\n{{#isGroup}}\n<ul class="js-group-children"></ul>\n{{/isGroup}}',t);return w.render.apply(w,arguments)}},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.s(x.f("isPreview",A,z,1),A,z,0,14,292,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.s(B.f("isMember",D,C,1),D,C,0,28,182,"{{ }}")&&(B.rs(D,C,function(G,F,E){E.b('<div class="subheader clearfix">'),E.b("\n"+y),E.b('    <span class="js-done-count"></span>'),E.b("\n"+y),E.b("    "),E.b(E.v(E.d("language.ofLabel",G,F,0))),E.b(" "),E.b(E.v(E.f("goalsCount",G,F,0))),E.b(" "),E.b(E.v(E.d("language.goalsAchievedLabel",G,F,0))),E.b(":"),E.b("\n"+y),E.b("</div>"),E.b("\n"+y)}),D.pop()),B.b("\n"+y),B.s(B.f("isMember",D,C,1),D,C,1,0,0,"")||(B.b('<div class="subheader">'),B.b("\n"+y),B.b("    "),B.b(B.v(B.d("language.learningGoalsLabel",D,C,0))),B.b("\n"+y),B.b("</div>"),B.b("\n"+y))}),A.pop()),x.b("\n"+y),x.b('<div class="clearfix val-list-table-header hidden js-header">'),x.b("\n"+y),x.b('    <span class="s-6">'),x.b(x.v(x.d("language.goalsTitleLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b('    <span class="s-2">'),x.b(x.v(x.d("language.typeLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b('    <span class="s-2">'),x.b(x.v(x.d("language.deadlineLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b('    <span class="s-2">'),x.b(x.v(x.d("language.mandatoryLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b("</div>"),x.b("\n"+y),x.b('<div class="js-goals-list val-list-table-body">'),x.b("\n"+y),x.b('    <div class="loading-container js-loading"></div>'),x.b("\n"+y),x.b("</div>"),x.fl()},partials:{},subs:{}},'{{#isPreview}}\n{{#isMember}}\n<div class="subheader clearfix">\n    <span class="js-done-count"></span>\n    {{language.ofLabel}} {{goalsCount}} {{language.goalsAchievedLabel}}:\n</div>\n{{/isMember}}\n\n{{^isMember}}\n<div class="subheader">\n    {{language.learningGoalsLabel}}\n</div>\n{{/isMember}}\n{{/isPreview}}\n\n<div class="clearfix val-list-table-header hidden js-header">\n    <span class="s-6">{{language.goalsTitleLabel}}</span>\n    <span class="s-2">{{language.typeLabel}}</span>\n    <span class="s-2">{{language.deadlineLabel}}</span>\n    <span class="s-2">{{language.mandatoryLabel}}</span>\n</div>\n<div class="js-goals-list val-list-table-body">\n    <div class="loading-container js-loading"></div>\n</div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(w){function P(T){if(T&&T.__esModule){return T}var R={};if(null!=T){for(var S in T){Object.prototype.hasOwnProperty.call(T,S)&&(R[S]=T[S])}}return R["default"]=T,R}function v(R){return R&&R.__esModule?R:{"default":R}}Object.defineProperty(s,"__esModule",{value:!0});var G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},M=u(52),E=v(M),C=u(69),z=v(C),B=u(50),D=v(B),x=u(10),J=v(x),I=u(58),y=P(I),L=u(85),O=v(L),F=new w.Service({url:function(R){return R.isGroup()?(0,D["default"])().endpoint.goalGroups:(0,D["default"])().endpoint.goals},targets:{move:{path:"move",data:function Q(S,R){var T={indexNumber:R.index};return R.parentId&&_.extend(T,{groupId:R.parentId}),T},method:"post"}}}),K=z["default"].extend({defaults:{active:!1},isGroup:function(){return this.get("goalType")==y.goalTypes.group},isCompletedByCount:function(){return this.isGroup()&&!isNaN(this.get("count"))},isActivity:function(){return this.get("goalType")==y.goalTypes.activity},isEvent:function(){return this.get("goalType")==y.goalTypes.trainingEvent},isLesson:function(){return this.get("goalType")==y.goalTypes.lesson},isWebContent:function(){return this.get("goalType")==y.goalTypes.webContent},isTincanLesson:function(){return !0}}).extend(F),N=new w.Service({sync:{read:{path:function H(T,R){var S=void 0;return S=R.getVersion?(0,D["default"])().endpoint.versions+T.versionId+"/goals/tree":(0,D["default"])().endpoint.learningPaths+T.pathId+"/goals/tree"},method:"get"}}}),A=E["default"].extend({model:K,initialize:function(){this.url="",E["default"].prototype.initialize.apply(this,arguments)},parse:function(R,S){var U={};_.each(S.activities,function(V){U[V.activityName]=V.title});var T=function T(V){_.each(V,function(W){if(W.goalType==y.goalTypes.activity&&(W.title=U[W.activityName]),W.goalType==y.goalTypes.statement){var aa=O["default"].getVerbPostfix(W.verbId),Z=void 0;try{Z=JSON.parse(W.objectName)}catch(Y){Z=W.objectName}var X="object"===("undefined"==typeof Z?"undefined":G(Z))?O["default"].getLangDictionaryTincanValue(Z):Z;W.title=(J["default"].language[aa+"VerbLabel"]||aa)+" "+X}W.goals&&T(W.goals)})};return T(R),R}}).extend(N);s["default"]=A}).call(s,u(12))},function(u,w,t){function A(B){return B&&B.__esModule?B:{"default":B}}function x(B,C){if(!(B instanceof C)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(w,"__esModule",{value:!0});var v=function(){function B(F,D){for(var C=0;C<D.length;C++){var E=D[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value" in E&&(E.writable=!0),Object.defineProperty(F,E.key,E)}}return function(E,C,D){return C&&B(E.prototype,C),D&&B(E,D),E}}(),z=t(35),y=A(z),s=function(){function B(){x(this,B)}return v(B,null,[{key:"getLangDictionaryTincanValue",value:function(E,F){var C=E,D=void 0;if("undefined"==typeof F&&(F=y["default"].getUserLocale().replace("_","-")),"undefined"!=typeof F&&"undefined"!=typeof C[F]){return C[F]}if("undefined"!=typeof C.und){return C.und}if("undefined"!=typeof C["en-US"]){return C["en-US"]}for(D in C){if(C.hasOwnProperty(D)){return C[D]}}return""}},{key:"getVerbPostfix",value:function(D){var C=D.split("/");return C[C.length-1]}}]),B}();w["default"]=s},function(t,s,u){(function(B){function D(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(s,"__esModule",{value:!0});var v=u(52),x=D(v),E=u(67),A=D(E),z=u(50),w=D(z),C=new B.Service({sync:{read:{path:function F(I,G){var H=I.pathId;return H+=G.improving?"/improving-competences":"/recommended-competences"},method:"get"}},targets:{addCompetency:{path:function F(I,G){var H=I.pathId;return H+=G&&G.data&&G.data.improving?"/improving-competences":"/recommended-competences"},data:function(H,G){return G.data},method:"post"},deleteCompetency:{path:function F(I,G){var H=I.pathId;return H+=G.improving?"/improving-competences/skills/"+G.skillId:"/recommended-competences/skills/"+G.skillId},method:"delete"}}}),y=x["default"].extend({model:B.Model,initialize:function(H,G){G&&G.getForVersion?this.url=(0,w["default"])().endpoint.versions:this.url=(0,w["default"])().endpoint.learningPaths,A["default"].prototype.initialize.apply(this,arguments)}}).extend(C);s["default"]=y}).call(s,u(12))},function(t,s,u){(function(A){function x(B){return B&&B.__esModule?B:{"default":B}}Object.defineProperty(s,"__esModule",{value:!0});var z=u(88),w=x(z),v=A.View.extend({tagName:"li",template:w["default"]}),y=A.CollectionView.extend({childView:v});s["default"]=y}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b(x.v(x.f("skillName",A,z,0))),x.b(", "),x.b(x.v(x.f("levelName",A,z,0))),x.fl()},partials:{},subs:{}},"{{skillName}}, {{levelName}}",t);return w.render.apply(w,arguments)}},function(t,s,u){(function(H,D){function v(R){return R&&R.__esModule?R:{"default":R}}Object.defineProperty(s,"__esModule",{value:!0});var E=u(90),w=v(E),J=u(91),I=v(J),Q=u(94),B=v(Q),x=u(96),z=v(x),O=u(99),C=v(O),M=u(101),K=v(M),A=u(10),L=v(A),G=u(50),F=v(G),P=u(68),N=v(P),y=H.View.extend({template:w["default"],className:"portlet-wrapper path-viewer",regions:{goalsSidebar:".js-goals-sidebar",toolbar:".js-toolbar",goalViewer:".js-goal"},events:{"click .js-done":"closePathViewer"},onRender:function(){this.toggleFullscreen(!0),this.path=new N["default"](this.model.toJSON()),this.goalsSidebarView=new I["default"]({path:this.path,goals:this.options.goals}),this.path.on("change:selected",this.onItemSelected,this),this.showChildView("goalsSidebar",this.goalsSidebarView),this.toolbarView=new B["default"](),this.showChildView("toolbar",this.toolbarView),this.goalView=new K["default"]({goalInfo:L["default"].language.chooseGoalLabel}),this.showChildView("goalViewer",this.goalView)},onItemSelected:function(){this.getRegion("goalViewer").reset();var R=this.path.get("selected");R.isLesson()&&R.isTincanLesson()&&(0,F["default"])().isValamisDeployed?this.goalView=new z["default"]({lessonId:R.get("lessonId")}):R.isWebContent()?this.goalView=new C["default"]({webContentId:R.get("webContentId")}):this.goalView=new K["default"]({goalInfo:L["default"].language[R.get("goalType")+"SelectGoalLabel"]}),this.showChildView("goalViewer",this.goalView)},toggleFullscreen:function(R){D("#learningPathsModal .bbm-modal").toggleClass("fullscreen",R)},closePathViewer:function(){this.toggleFullscreen(!1),this.triggerMethod("viewer:back")}});s["default"]=y}).call(s,u(11),u(33))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="portlet-sidebar goals-sidebar js-goals-sidebar"></div>'),x.b("\n"+y),x.b('<div class="path-toolbar js-toolbar"></div>'),x.b("\n"+y),x.b('<div class="goal-viewer js-goal"></div>'),x.fl()},partials:{},subs:{}},'<div class="portlet-sidebar goals-sidebar js-goals-sidebar"></div>\n<div class="path-toolbar js-toolbar"></div>\n<div class="goal-viewer js-goal"></div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(D){function H(I){return I&&I.__esModule?I:{"default":I}}Object.defineProperty(s,"__esModule",{value:!0});var x=u(92),w=H(x),B=u(93),A=H(B),F=u(84),y=H(F),C=u(35),z=H(C),G=D.View.extend({tagName:"li",className:"sidebar-item js-sidebar-item",template:A["default"],ui:{item:"> .js-item",childContainer:"> .js-child-container"},templateContext:function(){return{isGroup:this.model.isGroup()}},regions:{tree:{el:"> .js-child-container > ul",replaceElement:!0}},events:{"click @ui.item":"onItemClick"},modelEvents:{"change:active":"toggleActive"},onRender:function(){var K=this;this.options.path.on("change:selected",function(){var L=K.model.get("id")==K.options.path.get("selected").get("id");K.model.set("active",L)}),this.options.path.on("change:progress",function(){var L=_.find(K.options.path.get("progress"),{goalId:K.model.get("id")});L&&"InProgress"!==L.status&&K.ui.item.addClass(L.status.toLowerCase())});var J=this.model.get("goals");if(J&&J.length){var I=new v({collection:new y["default"](J),path:this.options.path});this.showChildView("tree",I)}},onItemClick:function(){this.model.isGroup()?this.toggleListView():this.selectItem()},toggleListView:function(){this.ui.item.toggleClass("val-icon-plus"),this.ui.item.toggleClass("val-icon-minus"),this.ui.childContainer.toggleClass("hidden")},selectItem:function(){this.options.path.set("selected",this.model)},toggleActive:function(){this.ui.item.toggleClass("active",this.model.get("active"))}}),v=D.CollectionView.extend({tagName:"ul",className:"sidebar-list",childView:G,childViewOptions:function(){return{path:this.options.path}}}),E=D.View.extend({template:w["default"],className:"sidebar",regions:{goalsList:".js-goals-list "},templateContext:function(){return{title:this.options.path.get("title")}},ui:{progressLabel:".js-progress-label",progress:".js-progress"},initialize:function(){this.goals=new y["default"](this.options.goals.toJSON()),this.options.path.on("change:selected",this.selectGoal,this)},onRender:function(){var I=new v({collection:this.goals,path:this.options.path});this.showChildView("goalsList",I),this.getUserProgress()},selectGoal:function(){var I=this;clearTimeout(this.refreshTimeout),this.refreshTimeout=setTimeout(function(){I.getUserProgress()},1000)},getUserProgress:function(){var I=this;this.options.path.getUserGoalsProgress({},{userId:z["default"].userId()}).then(function(J){I.options.path.set("progress",J)}),this.options.path.getUserProgress({},{userId:z["default"].userId()}).then(function(J){I.setUserProgress(J.progress)})},setUserProgress:function(J){var I=Math.round(100*(J||0))+"%";this.ui.progressLabel.text(I),this.ui.progress.css("width",I)}});s["default"]=E}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="back-button val-icon-arrow-left cursor-pointer js-done">'),x.b("\n"+y),x.b("    <div>"),x.b(x.v(x.d("language.backToLPLabel",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"+y),x.b('<div class="header">'),x.b(x.v(x.f("title",A,z,0))),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.b('<div class="val-progress-bar wide">'),x.b("\n"+y),x.b('    <span class="val-percentage js-progress-label"> '),x.b(x.v(x.f("progressPercent",A,z,0))),x.b(" </span>"),x.b("\n"+y),x.b('    <div class="val-progress success">'),x.b("\n"+y),x.b('        <span class="js-progress" style="width: '),x.b(x.v(x.f("progressPercent",A,z,0))),x.b(';"></span>'),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.b('<div class="js-goals-list"></div>'),x.fl()},partials:{},subs:{}},'<div class="back-button val-icon-arrow-left cursor-pointer js-done">\n    <div>{{language.backToLPLabel}}</div>\n</div>\n<div class="header">{{title}}</div>\n\n<div class="val-progress-bar wide">\n    <span class="val-percentage js-progress-label"> {{progressPercent}} </span>\n    <div class="val-progress success">\n        <span class="js-progress" style="width: {{progressPercent}};"></span>\n    </div>\n</div>\n\n<div class="js-goals-list"></div>',t);return w.render.apply(w,arguments)}},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="goal ellipsis js-item '),x.s(x.f("isGroup",A,z,1),A,z,0,46,61,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b(" val-icon-plus ")}),A.pop()),x.b('">'),x.b("\n"+y),x.b('    <div class="goal-status"></div> '),x.b(x.v(x.f("title",A,z,0))),x.b("\n"+y),x.b("</div>"),x.b("\n"+y),x.s(x.f("isGroup",A,z,1),A,z,0,141,204,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('<div class="hidden js-child-container ">'),B.b("\n"+y),B.b("    <ul></ul>"),B.b("\n"+y),B.b("</div>"),B.b("\n"+y)}),A.pop()),x.fl()},partials:{},subs:{}},'<div class="goal ellipsis js-item {{#isGroup}} val-icon-plus {{/isGroup}}">\n    <div class="goal-status"></div> {{title}}\n</div>\n{{#isGroup}}\n<div class="hidden js-child-container ">\n    <ul></ul>\n</div>\n{{/isGroup}}',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(z){function x(A){return A&&A.__esModule?A:{"default":A}}Object.defineProperty(s,"__esModule",{value:!0});var v=u(95),y=x(v),w=z.View.extend({template:y["default"],className:"path-toolbar"});s["default"]=w}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="val-icon-menu toggle-sidebar shift-left cursor-pointer js-toggle-sidebar"></div>'),x.b("\n"+y),x.b('<div class="modal-close val-icon-exit"></div>'),x.fl()},partials:{},subs:{}},'<div class="val-icon-menu toggle-sidebar shift-left cursor-pointer js-toggle-sidebar"></div>\n<div class="modal-close val-icon-exit"></div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(C,A){function G(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(s,"__esModule",{value:!0});var y=u(97),E=G(y),F=u(10),v=G(F),D=u(35),B=G(D),z=u(98),x=G(z),w=C.View.extend({template:E["default"],className:"lesson js-lesson",ui:{iframe:"iframe",loading:".js-loading",closeLesson:".js-player-navigation-exit",lessonTimeout:".js-lesson-timeout",hintSCORMlesson:".js-scorm-lesson-hint",failedMessage:".js-failed-message"},events:{"click @ui.closeLesson":"closeLesson"},templateContext:function(){return{isLesson:!0,lessonUrl:this.lesson.getLessonUrl()}},initialize:function(){this.lesson=new x["default"]({id:this.options.lessonId})},onRender:function(){var H=this;this.ui.iframe.on("load",function(I){""!=I.target.src&&H.ui.loading.addClass("hidden")}),this.lesson.getLessonInfo().then(function(I){H.checkLessonType(I.lessonType)},function(){H.showFailedMessage("failedLessonLoadingLabel")})},checkLessonType:function(H){"tincan"===H?this.loadTincanPackage():(this.ui.hintSCORMlesson.removeClass("hidden"),this.ui.iframe.remove(),this.ui.loading.addClass("hidden"))},closeLesson:function(){this.ui.iframe.remove(),this.ui.lessonTimeout.removeClass("hidden")},loadTincanPackage:function(){var H=this,I=A.Deferred(),J=A.Deferred();this.lesson.getTincanLessonInfo().then(function(K){I.resolve(K)},function(K,L){I.reject(K,L)}),this.lesson.getLrsSettings().then(function(K){J.resolve(K)},function(K,L){J.reject(K,L)}),A.when(I,J).then(function(L,K){H.openTincanPackage(L,K)},function(K,L){var M=L.responseText.includes("unavailablePackageException")?"unavailableLessonMessageLabel":"failedLessonLoadingLabel";H.showFailedMessage(M)})},showFailedMessage:function(H){this.ui.loading.addClass("hidden"),this.ui.iframe.remove(),this.ui.failedMessage.removeClass("hidden"),this.ui.failedMessage.text(v["default"].language[H])},openTincanPackage:function(K,I){var H="endpoint={0}&auth={1}&actor={2}&activity_id={3}&v={4}".replace("{0}",encodeURIComponent(I.endpoint)).replace("{1}",encodeURIComponent(I.auth)).replace("{2}",encodeURIComponent(JSON.stringify(I.agent))).replace("{3}",K.activityId).replace("{4}",K.versionNumber),J="{0}SCORMData/{1}?locale={2}&{3}".replace("{0}",I.valamisContextPath).replace("{1}",K.launchURL).replace("{2}",B["default"].getUserLocale()).replace("{3}",H);this.ui.iframe.attr("src",J)}});s["default"]=w}).call(s,u(11),u(33))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="loading-container js-loading"></div>'),x.b("\n"+y),x.b("<iframe></iframe>"),x.b("\n"),x.b("\n"+y),x.s(x.f("isLesson",A,z,1),A,z,0,81,596,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('<div class="goal-hint hidden js-scorm-lesson-hint">'),B.b("\n"+y),B.b("    "),B.b(B.v(B.d("language.completeSCORMHint1Label",D,C,0))),B.b("\n"+y),B.b('    <a class="label-with-action" href="'),B.b(B.v(B.f("lessonUrl",D,C,0))),B.b('" target="_blank">'),B.b(B.v(B.d("language.completeSCORMHint2Label",D,C,0))),B.b("</a>"),B.b("\n"+y),B.b("</div>"),B.b("\n"),B.b("\n"+y),B.b("<!--the button with this id is needed for timer in valamis packages-->"),B.b("\n"+y),B.b('<button id="SCORMNavigationExit" class="hidden js-player-navigation-exit"></button>'),B.b("\n"+y),B.b('<div class="goal-hint hidden js-lesson-timeout">'),B.b("\n"+y),B.b("    "),B.b(B.v(B.d("language.lessonTimeoutLabel",D,C,0))),B.b("\n"+y),B.b("</div>"),B.b("\n"+y),B.b('<div class="goal-hint hidden js-failed-message"></div>'),B.b("\n"+y)}),A.pop()),x.fl()},partials:{},subs:{}},'<div class="loading-container js-loading"></div>\n<iframe></iframe>\n\n{{#isLesson}}\n<div class="goal-hint hidden js-scorm-lesson-hint">\n    {{language.completeSCORMHint1Label}}\n    <a class="label-with-action" href="{{lessonUrl}}" target="_blank">{{language.completeSCORMHint2Label}}</a>\n</div>\n\n<!--the button with this id is needed for timer in valamis packages-->\n<button id="SCORMNavigationExit" class="hidden js-player-navigation-exit"></button>\n<div class="goal-hint hidden js-lesson-timeout">\n    {{language.lessonTimeoutLabel}}\n</div>\n<div class="goal-hint hidden js-failed-message"></div>\n{{/isLesson}}',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(D){function E(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(s,"__esModule",{value:!0});var w=u(69),y=E(w),C=u(50),x=E(C),B=u(35),z=E(B),A=new D.Service({targets:{getTincanLessonInfo:{path:function(F){return(0,x["default"])().endpoint.sequencing+F.get("id")},data:function(){return{p_auth:z["default"].authToken()}},method:"post"},getLrsSettings:{path:function(){return(0,x["default"])().endpoint.lrsSettings},method:"get"},getLessonInfo:{path:function(F){return(0,x["default"])().endpoint.lessonsPublic+F.get("id")},data:function(){return{courseId:z["default"].courseId()}},method:"get"}}}),v=y["default"].extend({initialize:function(){this.url=(0,x["default"])().apiPath},getLessonUrl:function(){return z["default"].pathMain()+"/portal/learn-portlet/open_package?plid="+z["default"].plId()+"&oid="+this.get("id")}}).extend(A);s["default"]=v}).call(s,u(12))},function(t,s,u){(function(C,B){function z(D){return D&&D.__esModule?D:{"default":D}}Object.defineProperty(s,"__esModule",{value:!0});var x=u(97),y=z(x),w=u(100),A=z(w),v=C.View.extend({template:y["default"],ui:{iframe:"iframe",loading:".js-loading"},onRender:function(){var D=this;this.model=new A["default"]({id:this.options.webContentId}),this.ui.iframe.on("load",function(F){if(""!=F.target.src){D.ui.loading.addClass("hidden"),B(F.target).contents().find("head").append(B("link.lfr-css-file").first().clone()),B(F.target).contents().find("html").addClass("aui ltr");var E=F.target;setTimeout(function(){B(E).show()},100)}}),this.ui.iframe.hide(),this.ui.iframe.attr("src",this.model.getUrl())}});s["default"]=v}).call(s,u(11),u(33))},function(t,x,s){function C(D){return D&&D.__esModule?D:{"default":D}}Object.defineProperty(x,"__esModule",{value:!0});var u=s(69),z=C(u),B=s(50),w=C(B),A=s(35),y=C(A),v=z["default"].extend({getUrl:function(){var D=(0,w["default"])().endpoint.actionUrl+"&p_p_lifecycle=2&p_p_state=normal&p_p_mode=view&p_p_col_count=1&p_p_col_id=column-1&p_p_cacheability=cacheLevelPage&p_p_state=normal&articleID="+this.get("id")+"&language="+y["default"].getUserLanguageId()+"&resourceType=web-content";return D}});x["default"]=v},function(t,s,u){(function(z){function x(A){return A&&A.__esModule?A:{"default":A}}Object.defineProperty(s,"__esModule",{value:!0});var y=u(102),w=x(y),v=z.View.extend({template:w["default"],className:"goal-hint",templateContext:function(){return{goalInfo:this.getOption("goalInfo")}}});s["default"]=v}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b("<div>"),x.b(x.v(x.f("goalInfo",A,z,0))),x.b("</div>"),x.fl()},partials:{},subs:{}},"<div>{{goalInfo}}</div>",t);return w.render.apply(w,arguments)}},function(t,s,u){(function(G){function x(S){return S&&S.__esModule?S:{"default":S}}Object.defineProperty(s,"__esModule",{value:!0});var E=u(73),z=x(E),Q=u(68),O=x(Q),D=u(104),C=x(D),B=u(74),A=x(B),y=u(120),w=x(y),v=u(89),R=x(v),F=u(151),M=x(F),I=u(152),H=x(I),K=u(153),J=x(K),P=u(159),N=x(P),L=G.View.extend({template:z["default"],regions:{info:"#pathInfo",members:"#pathMembers",layout:"#extLayout"},ui:{pathTabs:".js-valamis-tabs",membersTab:'[data-ref="pathMembers"]'},childViewEvents:{"edit:path":"showEdit","preview:path":"fetchAndOpenPreview","select:members":"selectMembers","select:goals:step2":"selectGoals","viewer:back":"backFromViewer","select:goals:back":"backFromSelectGoals","select:members:back":"backFromSelectMembers","user:progress:back":"backFromUserProgress"},modelEvents:{destroy:"onPathDeleted","open:viewer":"showViewer","user:joined":"fetchAndOpenPreview","user:left":"fetchAndOpenPreview"},initialize:function(){this.model||(this.model=new O["default"]()),this.doAsAdmin=this.options.doAsAdmin},onRender:function(){this.model.isNew()?(this.showEdit(),this.ui.membersTab.addClass("disabled")):(this.showPreview(),this.showMembers()),this.ui.pathTabs.valamisTabs()},onPathDeleted:function(){this.triggerMethod("modal:close")},showPreview:function(S){this.showChildView("info",new A["default"]({model:this.model,reloadModel:S,doAsAdmin:this.doAsAdmin}))},fetchAndOpenPreview:function(){this.showPreview(!0),this.showMembers()},showEdit:function(){var S=new w["default"]({pathModel:this.model});S.on("new:path:saved",this.showForNewSavedPath,this),this.showChildView("info",S)},showForNewSavedPath:function(S){this.model.set(S),this.ui.membersTab.removeClass("disabled"),this.showMembers()},showMembers:function(){this.members=new M["default"](),this.members.on("show:user:progress",this.showUserProgress,this),this.members.pathId=this.model.get("id");var S=new J["default"]({members:this.members});this.showChildView("members",S)},showUserProgress:function(T){this.ui.pathTabs.addClass("hidden");var S=new N["default"]({path:this.model,members:this.members,userIndex:T});this.showChildView("layout",S)},backFromUserProgress:function(){this.ui.pathTabs.removeClass("hidden"),this.getRegion("layout").empty()},selectMembers:function(T){this.ui.pathTabs.addClass("hidden"),this.members=new H["default"](),this.members.pathId=this.model.get("id");var S=new J["default"]({members:this.members,memberType:T,available:!0,path:this.model});this.showChildView("layout",S)},backFromSelectMembers:function(){this.showMembers(),this.ui.pathTabs.removeClass("hidden"),this.getRegion("layout").empty(),this.showPreview(!0)},selectGoals:function(S,T){this.ui.pathTabs.addClass("hidden"),this.showChildView("layout",new C["default"]({goalType:S,pathDraft:T}))},backFromSelectGoals:function(){this.showEdit(),this.ui.pathTabs.removeClass("hidden"),this.getRegion("layout").empty()},showViewer:function(S){this.ui.pathTabs.addClass("hidden"),this.showChildView("layout",new R["default"]({model:this.model,goals:S}))},backFromViewer:function(){this.showPreview(!0),this.ui.pathTabs.removeClass("hidden"),this.getRegion("layout").empty()}});s["default"]=L}).call(s,u(11))},function(t,s,u){(function(L,E){function ab(ae){if(ae&&ae.__esModule){return ae}var ac={};if(null!=ae){for(var ad in ae){Object.prototype.hasOwnProperty.call(ae,ad)&&(ac[ad]=ae[ad])}}return ac["default"]=ae,ac}function v(ac){return ac&&ac.__esModule?ac:{"default":ac}}Object.defineProperty(s,"__esModule",{value:!0});var F=u(105),y=v(F),K=u(106),I=v(K),S=u(62),B=ab(S),Q=u(58),J=ab(Q),G=u(45),aa=(v(G),u(107)),C=v(aa),N=u(109),Z=v(N),w=u(51),P=v(w),Y=u(114),V=v(Y),M=u(115),H=v(M),U=u(116),x=v(U),X=u(117),O=v(X),A=u(118),R=v(A),z=u(119),D=v(z),W=function(ac){var ae=J.goalTypes,ad=void 0;switch(ac){case ae.activity:ad=new P["default"]();break;case ae.course:ad=new V["default"]();break;case ae.assignment:ad=new H["default"]();break;case ae.lesson:ad=new x["default"]();break;case ae.webContent:ad=new O["default"]();break;case ae.trainingEvent:ad=new R["default"]();break;case ae.statement:ad=new D["default"]()}return ad},T=L.View.extend({template:y["default"],regions:{toolbar:"#viewToolbar",content:"#viewContent",more:"#viewPaginatorMore",showing:"#viewPaginatorShowing"},ui:{back:".js-back",add:".js-add-goals",loading:".js-loading-container",infoLabel:".js-info-label"},events:{"click @ui.back":"goBack","click @ui.add":"addGoals"},childViewEvents:{"change:goal:type":"onGoalTypeChange","toggle:select:all":"toggleSelectAll"},initialize:function(){this.goalType=this.options.goalType},onGoalTypeChange:function(ac){this.goalType=ac,this.render()},onRender:function(){var ag=this;this.filter=new I["default"]({goalType:this.goalType,isActivity:this.goalType===J.goalTypes.activity,sort:"title"}),this.collection=W(this.goalType),this.collection.goalType=this.goalType,this.paginatorModel=new B.PageModel({itemsOnPage:10,isLazy:!0});var ae=new C["default"]({model:this.filter,paginatorModel:this.paginatorModel});if(this.showChildView("toolbar",ae),!this.filter.get("isActivity")){this.filter.on("change",function(ah){ae.deselectAll(),ag.fetch()}),this.paginatorModel.on("pageChanged",function(){ag.fetchMore()}),this.collection.on("sync",function(ah){ag.toggleLoading(!1,!ah.hasItems()),ag.paginatorModel.set("totalElements",ah.options.total),ag.paginatorModel.set("totalElements",ah.options.total)}),this.collection.on("item:selected:changed",function(ai){var ah=ag.collection.filter({selected:!0}).length>0;ae.checkSelectedAmount(ai,ah)},this);var ad=new B.ValamisPaginatorShowMore({model:this.paginatorModel});this.showChildView("more",ad);var af=new B.ValamisPaginatorShowing({model:this.paginatorModel});this.showChildView("showing",af)}var ac=new Z["default"]({collection:this.collection});this.showChildView("content",ac),this.fetch()},fetch:function(){this.paginatorModel.set({totalElements:0}),this.collection.reset();var ac=this.paginatorModel.get("currentPage")*this.paginatorModel.get("itemsOnPage");this.fetchMore(1,ac)},fetchMore:function(ad,ac){this.filter.get("isActivity")||this.toggleLoading(!0),this.collection.fetch({filter:this.filter.toJSON(),page:ad||this.paginatorModel.get("currentPage"),count:ac||this.paginatorModel.get("itemsOnPage"),add:!0,remove:!1,merge:!1})},toggleSelectAll:function(ac){this.collection.each(function(ad){ad.set("selected",ac)})},toggleLoading:function(ad,ac){this.ui.loading.toggleClass("hidden",!ad),this.ui.infoLabel.toggleClass("hidden",ad||!ac)},addGoals:function(){var ad=this,ac=this.collection.getGoalData({selected:!0}),ae=[];_.each(ac,function(ag){var af=E.Deferred();ae.push(af),ad.options.pathDraft.addGoals({},{data:ag}).then(function(){af.resolve()})}),E.when.apply(this,ae).then(function(){ad.goBack()})},goBack:function(){this.triggerMethod("select:goals:back")}});s["default"]=T}).call(s,u(11),u(33))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="bbm-modal__topbar">'),x.b("\n"+y),x.b('    <button class="button medium simple js-back">'),x.b("\n"+y),x.b('        <span class="val-icon-arrow-left"></span>'),x.b("\n"+y),x.b("        "),x.b(x.v(x.d("language.backToLPLabel",A,z,0))),x.b("\n"+y),x.b("    </button>"),x.b("\n"+y),x.b('    <div class="modal-close val-icon-exit"></div>'),x.b("\n"+y),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.b('<div id="viewToolbar"></div>'),x.b("\n"+y),x.b('<div id="viewContent" class="val-table-wrapper"></div>'),x.b("\n"),x.b("\n"+y),x.b('<div class="loading-container js-loading-container hidden"></div>'),x.b("\n"+y),x.b('<label class="valamis-info-label shifted hidden js-info-label">'),x.b(x.v(x.d("language.emptyListLabel",A,z,0))),x.b("</label>"),x.b("\n"),x.b("\n"+y),x.b('<div id="viewPaginatorMore" class="text-center"></div>'),x.b("\n"),x.b("\n"+y),x.b('<div class="bbm-modal__bottombar">'),x.b("\n"+y),x.b('    <button class="button medium primary js-add-goals">'),x.b("\n"+y),x.b("        "),x.b(x.v(x.d("language.saveLabel",A,z,0))),x.b("\n"+y),x.b("    </button>"),x.b("\n"+y),x.b('    <button class="button medium simple js-back">'),x.b("\n"+y),x.b("        "),x.b(x.v(x.d("language.cancelLabel",A,z,0))),x.b("\n"+y),x.b("    </button>"),x.b("\n"+y),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="bbm-modal__topbar">\n    <button class="button medium simple js-back">\n        <span class="val-icon-arrow-left"></span>\n        {{language.backToLPLabel}}\n    </button>\n    <div class="modal-close val-icon-exit"></div>\n</div>\n\n<div id="viewToolbar"></div>\n<div id="viewContent" class="val-table-wrapper"></div>\n\n<div class="loading-container js-loading-container hidden"></div>\n<label class="valamis-info-label shifted hidden js-info-label">{{language.emptyListLabel}}</label>\n\n<div id="viewPaginatorMore" class="text-center"></div>\n\n<div class="bbm-modal__bottombar">\n    <button class="button medium primary js-add-goals">\n        {{language.saveLabel}}\n    </button>\n    <button class="button medium simple js-back">\n        {{language.cancelLabel}}\n    </button>\n</div>',t);return w.render.apply(w,arguments)}},function(t,w,s){function G(H){return H&&H.__esModule?H:{"default":H}}function x(H,I){if(!(H instanceof I)){throw new TypeError("Cannot call a class as a function")}}function D(H,I){if(!H){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !I||"object"!=typeof I&&"function"!=typeof I?H:I}function F(I,H){if("function"!=typeof H&&null!==H){throw new TypeError("Super expression must either be null or a function, not "+typeof H)}I.prototype=Object.create(H&&H.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(I,H):I.__proto__=H)}Object.defineProperty(w,"__esModule",{value:!0}),w["default"]=void 0;var A,z,v=function(){function H(L,J){for(var I=0;I<J.length;I++){var K=J[I];K.enumerable=K.enumerable||!1,K.configurable=!0,"value" in K&&(K.writable=!0),Object.defineProperty(L,K.key,K)}}return function(K,I,J){return I&&H(K.prototype,I),J&&H(K,J),K}}(),E=s(13),u=s(69),y=G(u),C={list:"list",tiles:"tiles"},B=(A=(0,E.mixin)({defaults:{displayMode:C.tiles,page:0}}),A(z=function(I){function H(){return x(this,H),D(this,(H.__proto__||Object.getPrototypeOf(H)).apply(this,arguments))}return F(H,I),v(H,[{key:"isTiles",value:function(){return this.get("displayMode")==C.tiles}},{key:"isList",value:function(){return this.get("displayMode")==C.list}}]),H}(y["default"]))||z);w["default"]=B},function(t,s,u){(function(B,y){function A(M){if(M&&M.__esModule){return M}var K={};if(null!=M){for(var L in M){Object.prototype.hasOwnProperty.call(M,L)&&(K[L]=M[L])}}return K["default"]=M,K}function J(K){return K&&K.__esModule?K:{"default":K}}Object.defineProperty(s,"__esModule",{value:!0});var D=u(108),G=J(D),I=u(10),w=J(I),C=u(50),x=J(C),z=u(57),F=J(z),H=u(58),E=A(H),v=B.View.extend({template:G["default"],templateContext:function(){var L=[E.goalTypes.group];(0,x["default"])().isAssignmentDeployed||L.push(E.goalTypes.assignment),(0,x["default"])().isTrainingEventDeployed||L.push(E.goalTypes.trainingEvent),(0,x["default"])().isValamisDeployed||(L.push(E.goalTypes.statement),L.push(E.goalTypes.lesson));var M=_.omit(E.goalTypes,L),K=_.map(M,function(O,N){return{value:O,label:w["default"].language[N+"OptionLabel"]}});return{isActivity:this.model.get("isActivity"),goalTypesList:K}},ui:{search:".js-search input",sort:".js-sort",goalType:".js-goal-type",selectAll:".js-select-all",deselectAll:".js-deselect-all",selectedInfo:".js-selected-info",selectedAmount:".js-selected-amount"},events:{"keyup @ui.search":"changeSearchText","click @ui.sort li":"changeSort","click @ui.goalType li":"changeGoalType","change @ui.selectAll":"toggleSelectAll","click @ui.deselectAll":"deselectAll"},behaviors:[F["default"]],onRender:function(){this.isSelectedAll=!1,this.selectedItems=0,this.on("valamis:controls:init",function(){this.ui.goalType.valamisDropDown("select",this.model.get("goalType")),this.ui.sort.valamisDropDown("select",this.model.get("sort"))},this)},changeSearchText:function(K){var L=this;clearTimeout(this.inputTimeout),this.inputTimeout=setTimeout(function(){L.model.set("filter",y(K.target).val())},800)},changeSort:function(K){this.model.set("sort",y(K.target).attr("data-value"))},changeGoalType:function(L){var K=y(L.target).attr("data-value");this.triggerMethod("change:goal:type",K)},toggleSelectAll:function(){this.isSelectedAll=this.ui.selectAll.prop("checked"),this.selectedItems=this.isSelectedAll?this.options.paginatorModel.getShowingCount():0,this.updateSelectedText(this.isSelectedAll),this.triggerMethod("toggle:select:all",this.isSelectedAll)},deselectAll:function(){this.ui.selectAll.prop("checked",!1),this.toggleSelectAll()},updateSelectedText:function(K){this.ui.selectedInfo.toggleClass("hidden",!K),this.ui.selectedAmount.text(this.selectedItems)},checkSelectedAmount:function(L,K){this.selectedItems+=L,this.ui.selectAll.prop("checked",this.selectedItems==this.options.paginatorModel.getShowingCount()),this.updateSelectedText(K)}});s["default"]=v}).call(s,u(11),u(33))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="filters-row val-row">'),x.b("\n"+y),x.b('    <div class="side-layout">'),x.b("\n"+y),x.b('        <div class="dropdown js-dropdown js-goal-type" data-value="">'),x.b("\n"+y),x.b('            <button class="button medium neutral">'),x.b("\n"+y),x.b('                <span class="dropdown-text"></span>'),x.b("\n"+y),x.b('                <span class="val-icon-arrow-down val-icon-right"></span>'),x.b("\n"+y),x.b("            </button>"),x.b("\n"+y),x.b('            <ul class="dropdown-menu">'),x.b("\n"+y),x.s(x.f("goalTypesList",A,z,1),A,z,0,405,480,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('                <li data-value="'),B.b(B.v(B.f("value",D,C,0))),B.b('">'),B.b(B.v(B.f("label",D,C,0))),B.b("</li>"),B.b("\n"+y)}),A.pop()),x.b("            </ul>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"),x.b("\n"+y),x.s(x.f("isActivity",A,z,1),A,z,1,0,0,"")||(x.b('    <div class="center-layout text-center">'),x.b("\n"+y),x.b('        <div class="val-search js-search">'),x.b("\n"+y),x.b('            <input type="text" placeholder="'),x.b(x.v(x.d("language.searchLabel",A,z,0))),x.b('">'),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y)),x.b("</div>"),x.b("\n"+y),x.s(x.f("isActivity",A,z,1),A,z,1,0,0,"")||(x.b('<div class="filters-row val-row showing-row">'),x.b("\n"+y),x.b('    <div class="side-layout">'),x.b("\n"+y),x.b('        <input type="checkbox" id="selectAll" name="check" class="val-checkbox js-select-all">'),x.b("\n"+y),x.b('        <label class="checkbox-label" for="selectAll"></label>'),x.b("\n"),x.b("\n"+y),x.b('        <div id="viewPaginatorShowing" class="display-inline-block"></div>'),x.b("\n"+y),x.b('        <div class="hidden js-selected-info display-inline-block">'),x.b("\n"+y),x.b('            <span class="users-selected-label">'),x.b("\n"+y),x.b('                <span class="js-selected-amount"></span> '),x.b(x.v(x.d("language.itemsSelectedLabel",A,z,0))),x.b("\n"+y),x.b("            </span>"),x.b("\n"+y),x.b('            - <span class="label-with-action js-deselect-all">'),x.b(x.v(x.d("language.deselectAllLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b('    <div class="side-layout text-right">'),x.b("\n"+y),x.b('        <div class="dropdown js-dropdown shift-right js-sort" data-value="">'),x.b("\n"+y),x.b('            <button class="button medium simple">'),x.b("\n"+y),x.b('                <span class="dropdown-text"></span>'),x.b("\n"+y),x.b('                <span class="val-icon-arrow-down val-icon-right"></span>'),x.b("\n"+y),x.b("            </button>"),x.b("\n"+y),x.b('            <ul class="dropdown-menu">'),x.b("\n"+y),x.b('                <li data-value="title" class="selected">'),x.b(x.v(x.d("language.byNameAscLabel",A,z,0))),x.b("</li>"),x.b("\n"+y),x.b('                <li data-value="-title">'),x.b(x.v(x.d("language.byNameDescLabel",A,z,0))),x.b("</li>"),x.b("\n"+y),x.b("            </ul>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"+y)),x.fl()},partials:{},subs:{}},'<div class="filters-row val-row">\n    <div class="side-layout">\n        <div class="dropdown js-dropdown js-goal-type" data-value="">\n            <button class="button medium neutral">\n                <span class="dropdown-text"></span>\n                <span class="val-icon-arrow-down val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                {{#goalTypesList}}\n                <li data-value="{{value}}">{{label}}</li>\n                {{/goalTypesList}}\n            </ul>\n        </div>\n    </div>\n\n    {{^isActivity}}\n    <div class="center-layout text-center">\n        <div class="val-search js-search">\n            <input type="text" placeholder="{{language.searchLabel}}">\n        </div>\n    </div>\n    {{/isActivity}}\n</div>\n{{^isActivity}}\n<div class="filters-row val-row showing-row">\n    <div class="side-layout">\n        <input type="checkbox" id="selectAll" name="check" class="val-checkbox js-select-all">\n        <label class="checkbox-label" for="selectAll"></label>\n\n        <div id="viewPaginatorShowing" class="display-inline-block"></div>\n        <div class="hidden js-selected-info display-inline-block">\n            <span class="users-selected-label">\n                <span class="js-selected-amount"></span> {{language.itemsSelectedLabel}}\n            </span>\n            - <span class="label-with-action js-deselect-all">{{language.deselectAllLabel}}</span>\n        </div>\n    </div>\n    <div class="side-layout text-right">\n        <div class="dropdown js-dropdown shift-right js-sort" data-value="">\n            <button class="button medium simple">\n                <span class="dropdown-text"></span>\n                <span class="val-icon-arrow-down val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                <li data-value="title" class="selected">{{language.byNameAscLabel}}</li>\n                <li data-value="-title">{{language.byNameDescLabel}}</li>\n            </ul>\n        </div>\n    </div>\n</div>\n{{/isActivity}}',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(D,y){function P(U){if(U&&U.__esModule){return U}var S={};if(null!=U){for(var T in U){Object.prototype.hasOwnProperty.call(U,T)&&(S[T]=U[T])}}return S["default"]=U,S}function v(S){return S&&S.__esModule?S:{"default":S}}Object.defineProperty(s,"__esModule",{value:!0});var F=u(110),H=v(F),G=u(111),I=v(G),x=u(112),C=v(x),R=u(113),N=v(R),M=u(85),O=v(M),Q=u(57),K=v(Q),J=u(58),z=P(J),B=D.View.extend({tagName:"tr",template:H["default"],templateContext:function(){return{cid:this.cid}},ui:{checkbox:".val-checkbox"},events:{"change @ui.checkbox":"toggleModelSelected"},modelEvents:{"change:selected":"toggleSelected"},toggleModelSelected:function(T){var S=y(T.target).prop("checked");this.model.set("selected",S),this.model.trigger("item:selected:changed",S?1:-1)},toggleSelected:function(){this.ui.checkbox.prop("checked",this.model.get("selected"))}}),E=B.extend({template:C["default"]}),A=B.extend({template:N["default"],templateContext:function(){return{cid:this.cid,displayVerb:O["default"].getLangDictionaryTincanValue(this.model.get("verbName")),displayObj:O["default"].getLangDictionaryTincanValue(this.model.get("objName"))}}}),L=B.extend({template:I["default"],ui:function(){return _.extend({},B.prototype.ui,{count:".js-count"})},events:function(){return _.extend({},B.prototype.events,{"keypress @ui.count":"updateCount"})},behaviors:[K["default"]],updateCount:function(S){this.model.set("count",parseInt(y(S.target).val())||1),this.model.set("selected",!0)},toggleModelSelected:function(U){B.prototype.toggleModelSelected.apply(this,[U]);var T=y(U.target).prop("checked"),S=T?1:"";this.ui.count.val(S),this.model.set("count",S)}}),w=D.CollectionView.extend({tagName:"table",className:"val-table",childView:function(){var S=z.goalTypes;switch(this.collection.goalType){case S.activity:return L;case S.lesson:return E;case S.statement:return A;default:return B}}});s["default"]=w}).call(s,u(11),u(33))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<td class="narrow-col">'),x.b("\n"+y),x.b('    <input type="checkbox" id="'),x.b(x.v(x.f("cid",A,z,0))),x.b('_toggle" name="check" class="val-checkbox">'),x.b("\n"+y),x.b('    <label class="checkbox-label" for="'),x.b(x.v(x.f("cid",A,z,0))),x.b('_toggle"></label>'),x.b("\n"+y),x.b("</td>"),x.b("\n"+y),x.b('<td class="title">'),x.b("\n"+y),x.b("    "),x.b(x.v(x.f("title",A,z,0))),x.b("\n"+y),x.b("</td>"),x.fl()},partials:{},subs:{}},'<td class="narrow-col">\n    <input type="checkbox" id="{{cid}}_toggle" name="check" class="val-checkbox">\n    <label class="checkbox-label" for="{{cid}}_toggle"></label>\n</td>\n<td class="title">\n    {{title}}\n</td>',t);return w.render.apply(w,arguments)}},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<td class="narrow-col">'),x.b("\n"+y),x.b('    <input type="checkbox" id="'),x.b(x.v(x.f("cid",A,z,0))),x.b('_toggle" name="check" class="val-checkbox">'),x.b("\n"+y),x.b('    <label class="checkbox-label" for="'),x.b(x.v(x.f("cid",A,z,0))),x.b('_toggle"></label>'),x.b("\n"+y),x.b("</td>"),x.b("\n"+y),x.b('<td class="narrow-col">'),x.b("\n"+y),x.b('    <input type="text" class="onlyDigits js-digits-only js-count" value="" />'),x.b("\n"+y),x.b("</td>"),x.b("\n"+y),x.b('<td class="title">'),x.b("\n"+y),x.b("    "),x.b(x.v(x.f("title",A,z,0))),x.b("\n"+y),x.b("</td>"),x.fl()},partials:{},subs:{}},'<td class="narrow-col">\n    <input type="checkbox" id="{{cid}}_toggle" name="check" class="val-checkbox">\n    <label class="checkbox-label" for="{{cid}}_toggle"></label>\n</td>\n<td class="narrow-col">\n    <input type="text" class="onlyDigits js-digits-only js-count" value="" />\n</td>\n<td class="title">\n    {{title}}\n</td>',t);return w.render.apply(w,arguments)}},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<td class="narrow-col">'),x.b("\n"+y),x.b('    <input type="checkbox" id="'),x.b(x.v(x.f("cid",A,z,0))),x.b('_toggle" name="check" class="val-checkbox">'),x.b("\n"+y),x.b('    <label class="checkbox-label" for="'),x.b(x.v(x.f("cid",A,z,0))),x.b('_toggle"></label>'),x.b("\n"+y),x.b("</td>"),x.b("\n"+y),x.b('<td class="title">'),x.b("\n"+y),x.b("    "),x.b(x.v(x.d("lesson.title",A,z,0))),x.b("\n"+y),x.b("</td>"),x.fl()},partials:{},subs:{}},'<td class="narrow-col">\n    <input type="checkbox" id="{{cid}}_toggle" name="check" class="val-checkbox">\n    <label class="checkbox-label" for="{{cid}}_toggle"></label>\n</td>\n<td class="title">\n    {{lesson.title}}\n</td>',t);return w.render.apply(w,arguments)}},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<td class="narrow-col">'),x.b("\n"+y),x.b('    <input type="checkbox" id="'),x.b(x.v(x.f("cid",A,z,0))),x.b('_toggle" name="check" class="val-checkbox">'),x.b("\n"+y),x.b('    <label class="checkbox-label" for="'),x.b(x.v(x.f("cid",A,z,0))),x.b('_toggle"></label>'),x.b("\n"+y),x.b("</td>"),x.b("\n"+y),x.b('<td class="title">'),x.b("\n"+y),x.b("    "),x.b(x.v(x.f("displayVerb",A,z,0))),x.b("\n"+y),x.b("</td>"),x.b("\n"+y),x.b("<td>"),x.b("\n"+y),x.b("    "),x.b(x.v(x.f("displayObj",A,z,0))),x.b("\n"+y),x.b("</td>"),x.fl()},partials:{},subs:{}},'<td class="narrow-col">\n    <input type="checkbox" id="{{cid}}_toggle" name="check" class="val-checkbox">\n    <label class="checkbox-label" for="{{cid}}_toggle"></label>\n</td>\n<td class="title">\n    {{displayVerb}}\n</td>\n<td>\n    {{displayObj}}\n</td>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(C){function z(D){return D&&D.__esModule?D:{"default":D}}Object.defineProperty(s,"__esModule",{value:!0});var x=u(67),B=z(x),A=u(50),w=z(A),y=new C.Service({sync:{read:{data:function(G,E){var D=E.count,F=(E.page-1)*D;return{take:D,skip:F,title:E.filter.filter,sort:E.filter.sort}}}}}),v=B["default"].extend({model:C.Model,initialize:function(D){this.url=(0,w["default"])().endpoint.courses,B["default"].prototype.initialize.apply(this,arguments)},getGoalData:function(){return _.map(this.filter({selected:!0}),function(D){return{goalType:"course",courseId:D.get("id")}})}}).extend(y);s["default"]=v}).call(s,u(12))},function(t,s,u){(function(B){function D(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(s,"__esModule",{value:!0});var E=u(67),A=D(E),y=u(35),x=D(y),z=u(50),v=D(z),C=new B.Service({sync:{read:{data:function(I,F){var G=F.filter.sort,J=G.substr(G.indexOf("-")+1),H=0!==G.indexOf("-");return{page:F.page,count:F.count,filter:F.filter.filter,sortBy:J,sortAscDirection:H,action:"ALL",status:"Published",courseId:x["default"].courseId()}}}}}),w=A["default"].extend({model:B.Model,initialize:function(F){this.url=(0,v["default"])().endpoint.assignments,A["default"].prototype.initialize.apply(this,arguments)},getGoalData:function(){return _.map(this.filter({selected:!0}),function(F){return{goalType:"assignment",assignmentId:F.get("id")}})},parse:function(F){return this.options.total=F.total,this.options.page=F.page,F.records}}).extend(C);s["default"]=w}).call(s,u(12))},function(t,s,u){(function(B){function C(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(s,"__esModule",{value:!0});var D=u(67),A=C(D),y=u(35),x=C(y),z=u(50),w=C(z),v=new B.Service({sync:{read:{data:function(H,F){var G=0!==F.filter.sort.indexOf("-");return{sortAscDirection:G,filter:F.filter.filter,page:F.page,count:F.count,action:"ALL",scope:"instance",courseId:x["default"].courseId()}}}}}),E=A["default"].extend({model:B.Model,initialize:function(F){this.url=(0,w["default"])().endpoint.lessons,A["default"].prototype.initialize.apply(this,arguments)},getGoalData:function(){return _.map(this.filter({selected:!0}),function(F){return{goalType:"lesson",lessonId:F.get("lesson").id}})},parse:function(F){return this.options.total=F.total,this.options.page=F.page,F.records}}).extend(v);s["default"]=E}).call(s,u(12))},function(t,s,u){(function(C){function y(D){return D&&D.__esModule?D:{"default":D}}Object.defineProperty(s,"__esModule",{value:!0});var w=u(67),B=y(w),z=u(50),v=y(z),A=new C.Service({sync:{read:{data:function(G,E){var D=E.count,F=(E.page-1)*D;return{take:D,skip:F,title:E.filter.filter,sort:E.filter.sort}}}}}),x=B["default"].extend({model:C.Model,initialize:function(D){this.url=(0,v["default"])().endpoint.webContents,B["default"].prototype.initialize.apply(this,arguments)},getGoalData:function(){return _.map(this.filter({selected:!0}),function(D){return{goalType:"webContent",webContentId:D.get("id")}})}}).extend(A);s["default"]=x}).call(s,u(12))},function(t,s,u){(function(C){function D(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(s,"__esModule",{value:!0});var E=u(67),B=D(E),A=u(50),x=D(A),z=u(35),y=D(z),v=new C.Service({sync:{read:{data:function(H,F){var G=0!==F.filter.sort.indexOf("-");return{sortAscDirection:G,sortBy:"name",courseId:y["default"].courseId(),page:F.page,count:F.count,filter:F.filter.filter}}}}}),w=B["default"].extend({model:C.Model,initialize:function(F){this.url=(0,x["default"])().endpoint.trainingEvents,B["default"].prototype.initialize.apply(this,arguments)},getGoalData:function(){return _.map(this.filter({selected:!0}),function(F){return{goalType:"trainingEvent",trainingEventId:F.get("id")}})},parse:function(F){return this.options.total=F.total,this.options.page=F.page,F.records}}).extend(v);s["default"]=w}).call(s,u(12))},function(t,s,u){(function(C){function D(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(s,"__esModule",{value:!0});var E=u(67),B=D(E),z=u(35),y=D(z),A=u(50),w=D(A),v=new C.Service({sync:{read:{data:function(H,F){var G=0!==F.filter.sort.indexOf("-");return{sortAscDirection:G,sortBy:"name",filter:F.filter.filter,page:F.page,count:F.count,courseId:y["default"].courseId()}}}}}),x=B["default"].extend({model:C.Model,initialize:function(F){this.url=(0,w["default"])().endpoint.statements,B["default"].prototype.initialize.apply(this,arguments)},getGoalData:function(){return _.map(this.filter({selected:!0}),function(F){return{goalType:"statement",verbId:F.get("verb"),objectId:F.get("obj"),objectName:JSON.stringify(F.get("objName"))}})},parse:function(F){return this.options.total=F.total,this.options.page=F.page,F.records}}).extend(v);s["default"]=x}).call(s,u(12))},function(t,s,u){(function(y){function C(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(s,"__esModule",{value:!0});var F=u(121),A=C(F),D=u(122),z=C(D),E=u(150),w=C(E),v=u(45),x=C(v),B=y.View.extend({template:A["default"],regions:{info:".js-edit-info"},ui:{publishButton:".js-publish",savingLabel:".js-saving",savedLabel:".js-saved"},events:{"click @ui.publishButton":"publishPath"},childViewEvents:{"select:goals:step1":"onSelectGoals"},initialize:function(){this.model=new w["default"](),this.pathModel=this.options.pathModel},modelEvents:{request:"showSavingLabel",sync:"showSavedLabel"},onRender:function(){var G=this;this.pathModel.isNew()?(this.ui.publishButton.prop("disabled",!0),this.model.on("sync",this.showForSavedPath,this),this.showInfo()):(this.model.set({id:this.pathModel.get("id"),userMembersCount:this.pathModel.get("userMembersCount")}),this.pathModel.get("hasDraft")?this.model.fetch().then(function(){G.showInfo()},function(){x["default"].channel("notify").trigger("notify","error","failedLabel")}):this.pathModel.createDraft().then(function(H){G.pathModel.set("hasDraft",!0),G.model.set(H),G.showInfo()},function(){x["default"].channel("notify").trigger("notify","error","failedLabel")}))},showSavingLabel:function(){this.toggleSaveLabels(!1)},showSavedLabel:function(){this.toggleSaveLabels(!0)},toggleSaveLabels:function(G){this.ui.savingLabel.toggleClass("hidden",G),this.ui.savedLabel.toggleClass("hidden",!G)},showForSavedPath:function(){this.triggerMethod("new:path:saved",this.model.toJSON()),this.ui.publishButton.prop("disabled",!1),this.model.off("sync",this.showForSavedPath)},showInfo:function(){var G=new z["default"]({model:this.model});this.showChildView("info",G)},publishPath:function(){var G=this;this.model.publish().then(function(){x["default"].channel("notify").trigger("notify","success","completeLabel"),G.openPreview()},function(){x["default"].channel("notify").trigger("notify","error","failedLabel")})},openPreview:function(){this.triggerMethod("preview:path")},onSelectGoals:function(G){this.triggerMethod("select:goals:step2",G,this.model)}});s["default"]=B}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="tab-header-imitation">'),x.b("\n"+y),x.b('    <div class="display-inline valamis-info-label centered-x-block">'),x.b("\n"+y),x.b('        <span class="hidden js-saving">'),x.b(x.v(x.d("language.savingLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b('        <span class="hidden js-saved">'),x.b(x.v(x.d("language.savedLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b('    <button class="button medium primary js-publish">'),x.b("\n"+y),x.b("        "),x.b(x.v(x.d("language.publishLabel",A,z,0))),x.b("\n"+y),x.b("    </button>"),x.b("\n"+y),x.b("    <span></span>"),x.b("\n"+y),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.b('<div class="js-edit-info">'),x.b("\n"+y),x.b('    <div class="loading-container js-loading"></div>'),x.b("\n"+y),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="tab-header-imitation">\n    <div class="display-inline valamis-info-label centered-x-block">\n        <span class="hidden js-saving">{{language.savingLabel}}</span>\n        <span class="hidden js-saved">{{language.savedLabel}}</span>\n    </div>\n    <button class="button medium primary js-publish">\n        {{language.publishLabel}}\n    </button>\n    <span></span>\n</div>\n\n<div class="js-edit-info">\n    <div class="loading-container js-loading"></div>\n</div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(X,N){function V(ak){if(ak&&ak.__esModule){return ak}var ai={};if(null!=ak){for(var aj in ak){Object.prototype.hasOwnProperty.call(ak,aj)&&(ai[aj]=ak[aj])}}return ai["default"]=ak,ai}function ag(ai){return ai&&ai.__esModule?ai:{"default":ai}}Object.defineProperty(s,"__esModule",{value:!0});var ac=u(123),ab=ag(ac),aa=u(10),P=ag(aa),ae=u(50),J=ag(ae),O=u(45),w=ag(O),C=u(35),D=ag(C),W=u(124),z=ag(W),I=u(58),Z=V(I),B=u(80),af=ag(B),R=u(129),A=ag(R),y=u(131),v=ag(y),L=u(47),U=ag(L),Y=u(135),G=ag(Y),H=u(141),ad=ag(H),x=u(144),E=ag(x),K=u(146),ah=ag(K),M=u(147),F=(ag(M),u(86)),T=(ag(F),u(148)),Q=(ag(T),new z["default"]()),S=X.View.extend({className:"preview-wrapper",template:ab["default"],templateContext:function(){var aj=[Z.goalTypes.group];(0,J["default"])().isAssignmentDeployed||aj.push(Z.goalTypes.assignment),(0,J["default"])().isTrainingEventDeployed||aj.push(Z.goalTypes.trainingEvent),(0,J["default"])().isValamisDeployed||(aj.push(Z.goalTypes.statement),aj.push(Z.goalTypes.lesson));var ak=_.omit(Z.goalTypes,aj),ai=_.map(ak,function(am,al){return{value:am,label:P["default"].language[al+"GoalAddLabel"]}});return{fullLogoUrl:this.model.getFullLogoUrl(),goalTypesList:ai}},ui:{title:".js-title",description:".js-description",changeScope:".js-change-scope",removeScope:".js-remove-scope",scopeTitle:".js-scope-title",uploadLogo:".js-upload-image",designLogo:".js-design-new-badge",deleteLogo:".js-delete-logo",logo:".js-logo",addGoal:".js-add-goal li:not(.js-add-group)",addGroup:".js-add-goal li.js-add-group",addRecSkills:".js-add-prerequisites",addImprovingSkills:".js-add-improving-skills",selectDropdown:".js-select-dropdown",competenceButtons:".js-show-list",commonSelectLabel:".js-show-select-label",selectSkillLabel:".js-show-select-skill-label",selectLevelLabel:".js-show-select-level-label"},regions:{recommendationList:".js-recommendation-list",improvingList:".js-improving-list",prerequisites:{el:".js-prerequisites",replaceElement:!0},improvingSkills:{el:".js-improving-skills",replaceElement:!0},goals:"#pathGoals .js-path-goals",extInfo:"#pathExtInfo"},modelEvents:{"path:save":"savePath"},events:{click:"closeDropdown","change @ui.title":"saveTitle","change @ui.description":"saveDescription","click @ui.changeScope":"setScope","click @ui.removeScope":"unsetScope","click @ui.uploadLogo":"uploadLogo","click @ui.designLogo":"openBadgeDesigner","click @ui.deleteLogo":"onLogoDelete","click @ui.addGoal":"onClickAddGoal","click @ui.addGroup":"onAddGroup","click @ui.addRecSkills":"showRecSkillsList","click @ui.addImprovingSkills":"showImprovingSkills"},onRender:function(){var ak=this,aj=new A["default"]({model:this.model});if(this.showChildView("extInfo",aj),this.model.get("courseId")){var ai=new af["default"]({id:this.model.get("courseId")});ai.fetch().then(function(){ak.updateScopeLayout(ai.get("title"))},function(){w["default"].channel("notify").trigger("notify","error","failedLabel")})}else{this.updateScopeLayout()}this.$(".js-dropdown").valamisDropDown(),this.showGoals(),this.prepareBadgeListener()},updateAvailableSkills:function(aj){var ai=void 0;if(aj&&aj.length>0){var ak=this.skills.filter(function(al){return 0==aj.where({skillId:al.get("id")}).length});ai=new ah["default"](ak)}else{ai=this.skills}return ai},showGoals:function(){var aj=this.model.get("id")?this.model.get("id")+"/draft":"",ai=new v["default"]({pathId:aj,editView:!0});this.showChildView("goals",ai)},saveTitle:function(){this.model.set("title",this.ui.title.val()),this.model.trigger("path:save")},saveDescription:function(){this.model.set("description",this.ui.description.val()),this.model.trigger("path:save")},setScope:function(){var ak=this,aj=w["default"].channel("modal"),al=new G["default"](),ai=new U["default"]({contentView:al,header:P["default"].language.selectScopeLabel});al.on("scope:selected",function(am){aj.trigger("close",ai),ak.updateScopeLayout(am.title),ak.model.set({courseId:am.id}),ak.model.trigger("path:save")}),al.on("modal:close",function(){aj.trigger("close",ai)}),aj.trigger("open",ai)},updateScopeLayout:function(aj){var ai=aj?aj:P["default"].language.instanceScopeLabel;this.ui.scopeTitle.text(ai),this.ui.removeScope.toggleClass("hidden",!aj)},unsetScope:function(){this.model.unset("courseId"),this.updateScopeLayout(""),this.model.trigger("path:save")},savePath:function(ai){var ak=this,aj=this.model.get("title");this.model.save().then(function(){aj!==ak.model.get("title")&&ak.ui.title.val(ak.model.get("title")),_.isFunction(ai)&&ai()},function(){w["default"].channel("notify").trigger("notify","error","failedLabel")})},uploadLogo:function(){var aj=this,ai={autoUpload:!0,fileAttribute:"image",message:P["default"].language.uploadLogoMessage,header:P["default"].language.fileUploadMessage};this.model.get("id")?Q.upload(ai,this):this.savePath(function(){Q.upload(ai,aj)})},uploadBadgesHandler:function(ak){var aj=this,ai=aj.getImageUploadUrl(aj.model.get("id"));"https://www.openbadges.me"==ak.origin&&"cancelled"!=ak.data&&Q.uploadBadges(ak,ai).done(function(al){aj.triggerMethod("fileUploaded",al.logoUrl)})},prepareBadgeListener:function(){this.bindedHandler=this.uploadBadgesHandler.bind(this),window.addEventListener("message",this.bindedHandler)},removeBadgeListener:function(){window.removeEventListener("message",this.bindedHandler)},openBadgeDesigner:function(){var ai="https://www.openbadges.me/designer.html?origin=http://"+(0,J["default"])().root+"&email=developer@example.com&close=true",aj="width=1015,height=680,location=0,menubar=0,status=0,toolbar=0";this.model.get("id")?window.open(ai,"",aj):this.savePath(function(){window.open(ai,"",aj)})},onFileUploaded:function(ai){this.ui.deleteLogo.removeClass("hidden"),this.model.set("logoUrl",ai),this.ui.logo.attr("src",this.model.getFullLogoUrl())},getImageUploadUrl:function(ai){return""+(0,J["default"])().apiPath+(0,J["default"])().endpoint.learningPaths+ai+"/draft/logo?layoutId="+D["default"].plId()},onLogoDelete:function(){var ai=this;this.ui.logo.attr("src",""),this.ui.deleteLogo.addClass("hidden"),this.model.deleteLogo().then(function(){ai.model.unset("logoUrl")})},onClickAddGoal:function(ak){var ai=this,aj=N(ak.target).data("value");this.savePath(function(){ai.triggerMethod("select:goals:step1",aj)})},onAddGroup:function(){var ai=this;this.savePath(function(){ai.addGroup()})},addGroup:function(){var ai=this;this.model.addGroup({},{title:P["default"].language.newGroupLabel}).then(function(){ai.showGoals()})},onDestroy:function(){this.removeBadgeListener()},showRecSkillsList:function(){var aj=this.ui.addRecSkills;this.toggleSelectTitle(aj.find(this.ui.selectSkillLabel),aj);var ai=new ad["default"]({collection:this.availableRecSkills});this.showChildView("prerequisites",ai),this.showDropdown(aj)},showImprovingSkills:function(){var aj=this.ui.addImprovingSkills;this.toggleSelectTitle(aj.find(this.ui.selectSkillLabel),aj);var ai=new ad["default"]({collection:this.availableImprovingSkills,improving:!0});this.showChildView("improvingSkills",ai),this.showDropdown(aj)},showLevelsList:function(ai){ai.improving?this.showImprovingLevelList(ai.model):this.showRecLevelList(ai.model)},showRecLevelList:function(ai){var aj=this.ui.addRecSkills;this.toggleSelectTitle(aj.find(this.ui.selectLevelLabel),aj);var ak=new E["default"]({collection:this.levels,skillName:ai.title,skillId:ai.id});this.showChildView("prerequisites",ak),this.showDropdown(aj)},showImprovingLevelList:function(ai){var aj=this.ui.addImprovingSkills;this.toggleSelectTitle(aj.find(this.ui.selectLevelLabel),aj);var ak=new E["default"]({collection:this.levels,skillName:ai.title,skillId:ai.id,improving:!0});this.showChildView("improvingSkills",ak),this.showDropdown(aj)},toggleSelectTitle:function(aj,ai){ai.find("span").addClass("hidden"),aj.removeClass("hidden")},closeDropdown:function(al){if(al){var ak=N(al.target);if(!(ak.closest(this.ui.addRecSkills).length>0||ak.closest(this.ui.addImprovingSkills).length>0||ak.closest(".js-search input").length>0||ak.closest(".js-select-item").length>0)){var ai=this.$(this._uiBindings.selectDropdown);ai.removeClass("dropdown-visible"),this.toggleSelectTitle(this.ui.commonSelectLabel,this.ui.competenceButtons)}}else{var aj=this.$(this._uiBindings.selectDropdown);aj.removeClass("dropdown-visible"),this.toggleSelectTitle(this.ui.commonSelectLabel,this.ui.competenceButtons)}},showDropdown:function(aj){var ai=aj.parent().find(this._uiBindings.selectDropdown);ai.addClass("dropdown-visible")},addCompetency:function(aj,ai){var ak=this;this.savePath(function(){ak.recommendations.pathId||(ak.recommendations.pathId=ak.model.get("id")+"/draft"),ak.improvements.pathId||(ak.improvements.pathId=ak.model.get("id")+"/draft");var al={skillId:ai.skillId,skillName:ai.skillName,levelId:ai.model.attributes.id,levelName:ai.model.attributes.title,improving:ai.improving};al.improving?ak.addImprovement(al):ak.addRecommendation(al)})},addRecommendation:function(ai){var aj=this;this.recommendations.addCompetency({},{data:ai}).then(function(){aj.recommendations.add(ai)})},addImprovement:function(aj){var ai=this;this.improvements.addCompetency({},{data:aj}).then(function(){ai.improvements.add(aj)})}});s["default"]=S}).call(s,u(11),u(33))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="preview-group clearfix">'),x.b("\n"+y),x.b('    <div class="div-table val-info-table">'),x.b("\n"+y),x.b('        <div class="div-row">'),x.b("\n"+y),x.b('            <div class="div-col name-col image-container">'),x.b("\n"+y),x.b('                <img src="'),x.s(x.f("logoUrl",A,z,1),A,z,0,207,222,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b(B.v(B.f("fullLogoUrl",D,C,0)))}),A.pop()),x.b('" class="val-img-logo certificate js-logo" />'),x.b("\n"+y),x.b('                <div class="logo-action-buttons">'),x.b("\n"+y),x.b('                    <button class="button medium neutral no-text val-icon-upload js-upload-image">'),x.b("\n"+y),x.b("                        "),x.b(x.v(x.f("uploadLogoLabel",A,z,0))),x.b("\n"+y),x.b("                    </button>"),x.b("\n"+y),x.b('                    <button class="button medium neutral no-text val-icon-edit js-design-new-badge">'),x.b("\n"+y),x.b("                        "),x.b(x.v(x.f("designNewBadge",A,z,0))),x.b("\n"+y),x.b("                    </button>"),x.b("\n"+y),x.b('                    <button class="button medium neutral no-text val-icon-trash js-delete-logo '),x.s(x.f("logoUrl",A,z,1),A,z,1,0,0,"")||x.b(" hidden "),x.b('">'),x.b("\n"+y),x.b("                        "),x.b(x.v(x.f("deleteLogoLabel",A,z,0))),x.b("\n"+y),x.b("                    </button>"),x.b("\n"+y),x.b("                </div>"),x.b("\n"+y),x.b("            </div>"),x.b("\n"+y),x.b('            <div class="div-col content-col">'),x.b("\n"+y),x.b('                <div class="header">'),x.b("\n"+y),x.b('                    <input type="text" placeholder="'),x.b(x.v(x.d("language.pathNameHintLabel",A,z,0))),x.b('" class="js-title simple" value="'),x.b(x.v(x.f("title",A,z,0))),x.b('">'),x.b("\n"+y),x.b("                </div>"),x.b("\n"+y),x.b('                <div class="scope-action-buttons">'),x.b("\n"+y),x.s(x.f("activated",A,z,1),A,z,1,0,0,"")||(x.b('                    <span class="val-label">'),x.b(x.v(x.d("language.inactiveStatusLabel",A,z,0))),x.b("</span> &bull;"),x.b("\n"+y)),x.b("\n"+y),x.b('                    <span class="js-scope-title"></span>'),x.b("\n"),x.b("\n"+y),x.b('                    <button class="button medium simple no-text val-icon-edit js-change-scope">'),x.b("\n"+y),x.b("                        "),x.b(x.v(x.f("changeScopeLabel",A,z,0))),x.b("\n"+y),x.b("                    </button>"),x.b("\n"),x.b("\n"+y),x.b('                    <button class="button medium simple danger no-text val-icon-trash js-remove-scope">'),x.b("\n"+y),x.b("                        "),x.b(x.v(x.f("removeScopeLabel",A,z,0))),x.b("\n"+y),x.b("                    </button>"),x.b("\n"+y),x.b("                </div>"),x.b("\n"+y),x.b("            </div>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"+y),x.b('<div class="preview-group description-preview">'),x.b("\n"+y),x.b('    <div class="subheader">'),x.b(x.v(x.d("language.descriptionLabel",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b('    <textarea class="js-description simple" rows="3"'),x.b("\n"+y),x.b('              placeholder="'),x.b(x.v(x.d("language.pathDescriptionHintLabel",A,z,0))),x.b('">'),x.b(x.v(x.f("description",A,z,0))),x.b("</textarea>"),x.b("\n"),x.b("\n"+y),x.b('    <div class="skills-select hidden">'),x.b("\n"+y),x.b('        <div class="subheader">'),x.b(x.v(x.d("language.prerequisitesLabel",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b('        <div class="dropdown">'),x.b("\n"+y),x.b('            <div class="js-common-select">'),x.b("\n"+y),x.b('                <div class="js-recommendation-list"></div>'),x.b("\n"+y),x.b('                <button class="button add-skills js-add-prerequisites js-show-list">'),x.b("\n"+y),x.b('                    <span class="js-show-select-label">'),x.b(x.v(x.d("language.addSkillandLevelLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b('                    <span class="js-show-select-skill-label hidden">'),x.b(x.v(x.d("language.selectSkillLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b('                    <span class="js-show-select-level-label hidden">'),x.b(x.v(x.d("language.selectLabelLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b("                </button>"),x.b("\n"+y),x.b('                <div class="js-prerequisites js-select-list"></div>'),x.b("\n"+y),x.b("            </div>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"),x.b("\n"+y),x.b('    <div class="skills-select hidden">'),x.b("\n"+y),x.b('        <div class="subheader">'),x.b(x.v(x.d("language.improvementLabel",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b('        <div class="dropdown">'),x.b("\n"+y),x.b('            <div class="js-common-select">'),x.b("\n"+y),x.b('                <div class="js-improving-list"></div>'),x.b("\n"+y),x.b('                <button class="button add-skills js-add-improving-skills js-show-list">'),x.b("\n"+y),x.b('                    <span class="js-show-select-label">'),x.b(x.v(x.d("language.addSkillandLevelLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b('                    <span class="js-show-select-skill-label hidden">'),x.b(x.v(x.d("language.selectSkillLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b('                    <span class="js-show-select-level-label hidden">'),x.b(x.v(x.d("language.selectLabelLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b("                </button>"),x.b("\n"+y),x.b('                <div class="js-improving-skills js-select-list"></div>'),x.b("\n"+y),x.b("            </div>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.b('<div id="pathGoals" class="preview-group path-goals edit-path-goals">'),x.b("\n"+y),x.b('    <div class="clearfix">'),x.b("\n"+y),x.b('        <div class="subheader">'),x.b(x.v(x.d("language.learningGoalsLabel",A,z,0))),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.b('        <div class="dropdown actions shift-right js-add-goal js-dropdown" data-value="">'),x.b("\n"+y),x.b('            <button class="button medium primary">'),x.b("\n"+y),x.b('                <span class="dropdown-text"> '),x.b(x.v(x.d("language.addLabel",A,z,0))),x.b(" </span>"),x.b("\n"+y),x.b('                <span class="val-icon-arrow-down-two val-icon-right"></span>'),x.b("\n"+y),x.b("            </button>"),x.b("\n"+y),x.b('            <ul class="dropdown-menu">'),x.b("\n"+y),x.s(x.f("goalTypesList",A,z,1),A,z,0,4217,4292,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('                <li data-value="'),B.b(B.v(B.f("value",D,C,0))),B.b('">'),B.b(B.v(B.f("label",D,C,0))),B.b("</li>"),B.b("\n"+y)}),A.pop()),x.b('                <li class="js-add-group">'),x.b(x.v(x.d("language.groupAddLabel",A,z,0))),x.b("</li>"),x.b("\n"+y),x.b("            </ul>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"),x.b("\n"+y),x.b('    <div class="js-path-goals">'),x.b("\n"+y),x.b('        <div class="loading-container js-loading"></div>'),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.b('<div id="pathExtInfo" class="preview-group"></div>'),x.fl()},partials:{},subs:{}},'<div class="preview-group clearfix">\n    <div class="div-table val-info-table">\n        <div class="div-row">\n            <div class="div-col name-col image-container">\n                <img src="{{#logoUrl}}{{fullLogoUrl}}{{/logoUrl}}" class="val-img-logo certificate js-logo" />\n                <div class="logo-action-buttons">\n                    <button class="button medium neutral no-text val-icon-upload js-upload-image">\n                        {{uploadLogoLabel}}\n                    </button>\n                    <button class="button medium neutral no-text val-icon-edit js-design-new-badge">\n                        {{designNewBadge}}\n                    </button>\n                    <button class="button medium neutral no-text val-icon-trash js-delete-logo {{^logoUrl}} hidden {{/logoUrl}}">\n                        {{deleteLogoLabel}}\n                    </button>\n                </div>\n            </div>\n            <div class="div-col content-col">\n                <div class="header">\n                    <input type="text" placeholder="{{language.pathNameHintLabel}}" class="js-title simple" value="{{title}}">\n                </div>\n                <div class="scope-action-buttons">\n                    {{^activated}}\n                    <span class="val-label">{{language.inactiveStatusLabel}}</span> &bull;\n                    {{/activated}}\n\n                    <span class="js-scope-title"></span>\n\n                    <button class="button medium simple no-text val-icon-edit js-change-scope">\n                        {{changeScopeLabel}}\n                    </button>\n\n                    <button class="button medium simple danger no-text val-icon-trash js-remove-scope">\n                        {{removeScopeLabel}}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="preview-group description-preview">\n    <div class="subheader">{{language.descriptionLabel}}</div>\n    <textarea class="js-description simple" rows="3"\n              placeholder="{{language.pathDescriptionHintLabel}}">{{description}}</textarea>\n\n    <div class="skills-select hidden">\n        <div class="subheader">{{language.prerequisitesLabel}}</div>\n        <div class="dropdown">\n            <div class="js-common-select">\n                <div class="js-recommendation-list"></div>\n                <button class="button add-skills js-add-prerequisites js-show-list">\n                    <span class="js-show-select-label">{{language.addSkillandLevelLabel}}</span>\n                    <span class="js-show-select-skill-label hidden">{{language.selectSkillLabel}}</span>\n                    <span class="js-show-select-level-label hidden">{{language.selectLabelLabel}}</span>\n                </button>\n                <div class="js-prerequisites js-select-list"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="skills-select hidden">\n        <div class="subheader">{{language.improvementLabel}}</div>\n        <div class="dropdown">\n            <div class="js-common-select">\n                <div class="js-improving-list"></div>\n                <button class="button add-skills js-add-improving-skills js-show-list">\n                    <span class="js-show-select-label">{{language.addSkillandLevelLabel}}</span>\n                    <span class="js-show-select-skill-label hidden">{{language.selectSkillLabel}}</span>\n                    <span class="js-show-select-level-label hidden">{{language.selectLabelLabel}}</span>\n                </button>\n                <div class="js-improving-skills js-select-list"></div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div id="pathGoals" class="preview-group path-goals edit-path-goals">\n    <div class="clearfix">\n        <div class="subheader">{{language.learningGoalsLabel}}</div>\n\n        <div class="dropdown actions shift-right js-add-goal js-dropdown" data-value="">\n            <button class="button medium primary">\n                <span class="dropdown-text"> {{language.addLabel}} </span>\n                <span class="val-icon-arrow-down-two val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                {{#goalTypesList}}\n                <li data-value="{{value}}">{{label}}</li>\n                {{/goalTypesList}}\n                <li class="js-add-group">{{language.groupAddLabel}}</li>\n            </ul>\n        </div>\n    </div>\n\n    <div class="js-path-goals">\n        <div class="loading-container js-loading"></div>\n    </div>\n</div>\n\n<div id="pathExtInfo" class="preview-group"></div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(D,B){function G(I){return I&&I.__esModule?I:{"default":I}}function A(I,J){if(!(I instanceof J)){throw new TypeError("Cannot call a class as a function")}}function E(I,J){if(!I){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !J||"object"!=typeof J&&"function"!=typeof J?I:J}function F(J,I){if("function"!=typeof I&&null!==I){throw new TypeError("Super expression must either be null or a function, not "+typeof I)}J.prototype=Object.create(I&&I.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(J,I):J.__proto__=I)}Object.defineProperty(s,"__esModule",{value:!0});var y=function(){function I(M,K){for(var J=0;J<K.length;J++){var L=K[J];L.enumerable=L.enumerable||!1,L.configurable=!0,"value" in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(L,J,K){return J&&I(L.prototype,J),K&&I(L,K),L}}(),v=u(125),z=G(v),w=u(45),C=G(w),x=C["default"].channel("modal"),H=function(I){function J(){return A(this,J),E(this,(J.__proto__||Object.getPrototypeOf(J)).apply(this,arguments))}return F(J,I),y(J,[{key:"upload",value:function(M,K){var N=this,L=new z["default"]({autoUpload:M.autoUpload||!1,message:M.message||"Message about file",fileUploadUrl:K.getImageUploadUrl,fileAttribute:M.fileAttribute||"logo",acceptedFileTypes:M.acceptedFileTypes||"image/*",parentView:K});M.appendTo?K.$(M.appendTo).html(L.render().$el):x.trigger("open:as:modal",L,{header:M.header||"File Upload"}),M.autoUpload?L.on("fileuploaddone",function(P,O){K.triggerMethod("fileUploaded",O.result.logoUrl),M.appendTo?K.$(M.appendTo).html(L.render().$el):x.trigger("close",L)}):L.on("fileuploadadd",function(P){B("img").on("error",function(){console.log("error loading image")});var O=N.createObjectURL(P);K.triggerMethod("fileAdded",{src:O,name:P.name}),x.trigger("close",L)})}},{key:"createObjectURL",value:function(K){return window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(K):window.webkitURL?window.webkitURL.createObjectURL(K):null}},{key:"uploadBadges",value:function(Q,K){for(var O=Q.data,M=O.split(",")[1].split(";")[0],R=O.split(":")[1].split(";")[0],L=window.atob(M),P=L.length,S=new Uint8Array(P),N=0;N<P;N++){S[N]=L.charCodeAt(N)}return B.ajax({url:K,contentType:R,type:"PUT",data:S,headers:{"X-CSRF-Token":Liferay.authToken,"Content-Disposition":'attachment; filename="icon.png"'},processData:!1})}}]),J}(D.Object);s["default"]=H}).call(s,u(11),u(33))},function(t,s,u){(function(z,F,C){function E(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(s,"__esModule",{value:!0});var B=u(126),D=E(B),v=u(128),y=E(v),A=u(50),x=E(A),w=z.View.extend({template:y["default"],templateContext:function(){return{fileAttribute:this.getOption("fileAttribute"),fileUploadAdditionalInfo:this.getOption("message")||"",fileTypeAttribute:this.getOption("acceptedFileTypes")}},initialize:function(G){G=G||{},this.progressView=D["default"],this.amount=0,this.autoUpload=G.autoUpload,G.onFailFunction&&(this.onFailFunction=G.onFailFunction),G.parentView&&(this.parentView=G.parentView)},onRender:function(){var G=this,H={dataType:"json",dropZone:this.$("#dropzone"),autoUpload:this.autoUpload,headers:{"X-CSRF-Token":""+(0,x["default"])().csrf},method:"PUT",multipart:!1};this.options.autoUpload||(H.add=function(J,I){G.parentView&&G.parentView.off("submit:logo").on("submit:logo",function(K){I.url=G.options.fileUploadUrl(K),I.submit()})}),this.$("#fileupload").fileupload(H),this.$("#fileupload").bind("fileuploaddone",F.proxy(this.onDone,this)).bind("fileuploadfail",F.proxy(this.onFail,this)).bind("fileuploadprogress",F.proxy(this.onProgress,this)).bind("fileuploadprogressall",F.proxy(this.onProgressAll,this)).bind("fileuploadadd",F.proxy(this.onAdd,this))},onAdd:function(I,H){this.amount+=1;var G=C.Model.extend({defaults:{filename:H.files[0].name,progress:0,bitrate:"",remaining:"",fileSize:0,uploadedBytes:0}});H.itemModel=new G(),H.itemView=new this.progressView({model:H.itemModel}),this.parentView&&(H.url=this.options.fileUploadUrl(this.parentView.model.get("id"))),this.$el.parent().append(H.itemView.render().$el),this.$(".dropzone-wrapper").hide(),this.amount>1&&this.$(".progress").removeClass("hidden"),this.trigger("fileuploadadd",H.files[0],H)},onDone:function(H,G){G.itemView.hideInfo(),this.trigger("itemDone",G.result,G.itemView,G.itemModel),this.amount-=1,0===this.amount&&(this.$(".progress").addClass("hidden"),this.trigger("fileuploaddone",G.files[0],G))},onFail:function(H,G){_.isFunction(this.onFailFunction)&&this.onFailFunction(H,G)},onProgress:function(J,I){var G=~~(I.loaded/I.total*100),H=8*(I.total-I.loaded)/I.bitrate;I.itemModel.set({progress:G,bitrate:this._formatBitrate(I.bitrate),remaining:this._formatTime(H),fileSize:this._formatFileSize(I.total),uploadedBytes:this._formatFileSize(I.loaded)})},onProgressAll:function(I,H){var G=~~(H.loaded/H.total*100);this.updateOverallProgress(G)},updateOverallProgress:function(H){var G=H+"%";this.$(".progress-bar").css("width",G).html(G)},_formatTime:function(H){var G=new Date(1000*H),I=Math.floor(H/86400);return I=I?I+"d ":"",I+("0"+G.getUTCHours()).slice(-2)+":"+("0"+G.getUTCMinutes()).slice(-2)+":"+("0"+G.getUTCSeconds()).slice(-2)},_formatFileSize:function(G){return"number"!=typeof G?"":G>=1000000000?(G/1000000000).toFixed(2)+" GB":G>=1000000?(G/1000000).toFixed(2)+" MB":(G/1000).toFixed(2)+" KB"},_formatBitrate:function(G){return"number"!=typeof G?"":G>=1000000000?(G/1000000000).toFixed(2)+" Gbit/s":G>=1000000?(G/1000000).toFixed(2)+" Mbit/s":G>=1000?(G/1000).toFixed(2)+" kbit/s":G.toFixed(2)+" bit/s"}});s["default"]=w}).call(s,u(11),u(33),u(12))},function(t,s,u){(function(z){function w(A){return A&&A.__esModule?A:{"default":A}}Object.defineProperty(s,"__esModule",{value:!0});var v=u(127),y=w(v),x=z.View.extend({template:y["default"],initialize:function(){this.listenTo(this.model,"change:progress",this.updateUploadProgress)},updateUploadProgress:function(){var A=this.model.get("progress")+"%";this.$(".progress-bar").css("width",A).html(A)},hideInfo:function(){this.$(".info-block").hide(),this.$(".progress-bar").html("")}});s["default"]=x}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="file-uploader-item-wrapper">'),x.b("\n"+y),x.b('    <div class="loading-container">'),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b('    <strong class="uploading-file-name">'),x.b(x.v(x.f("filename",A,z,0))),x.b("</strong>"),x.b("\n"+y),x.b("</div>"),x.b("\n"),x.fl()},partials:{},subs:{}},'<div class="file-uploader-item-wrapper">\n    <div class="loading-container">\n    </div>\n    <strong class="uploading-file-name">{{filename}}</strong>\n</div>\n',t);return w.render.apply(w,arguments)}},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="file-uploader-wrapper">'),x.b("\n"+y),x.b('    <div class="dropzone-wrapper">'),x.b("\n"+y),x.b('        <label id="dropzone" class="dropzone fileinput-button">'),x.b("\n"+y),x.b("            <div>"),x.b("\n"+y),x.b('                <div class="upload-image"></div>'),x.b("\n"+y),x.b('                <div> Drop or <span class="upload-browse-label"> browse </span> files to upload.</div>'),x.b("\n"+y),x.b('                <span class="upload-info-label"> '),x.b(x.v(x.f("fileUploadAdditionalInfo",A,z,0))),x.b(" </span>"),x.b("\n"+y),x.b("            </div>"),x.b("\n"+y),x.b('            <input id="fileupload" class="hidden js-file-uploader-input" type="file" accept="'),x.b(x.v(x.f("fileTypeAttribute",A,z,0))),x.b('" name="'),x.b(x.v(x.f("fileAttribute",A,z,0))),x.b('"'),x.b("\n"+y),x.b('                   data-url="'),x.b(x.v(x.f("fileUploadEndpoint",A,z,0))),x.b('" multiple>'),x.b("\n"+y),x.b("        </label>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b('    <div class="progress progress-striped active hidden">'),x.b("\n"+y),x.b('        <div class="progress-bar bar bar-success progress-bar-success" role="progressbar"></div>'),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="file-uploader-wrapper">\n    <div class="dropzone-wrapper">\n        <label id="dropzone" class="dropzone fileinput-button">\n            <div>\n                <div class="upload-image"></div>\n                <div> Drop or <span class="upload-browse-label"> browse </span> files to upload.</div>\n                <span class="upload-info-label"> {{fileUploadAdditionalInfo}} </span>\n            </div>\n            <input id="fileupload" class="hidden js-file-uploader-input" type="file" accept="{{fileTypeAttribute}}" name="{{fileAttribute}}"\n                   data-url="{{fileUploadEndpoint}}" multiple>\n        </label>\n    </div>\n    <div class="progress progress-striped active hidden">\n        <div class="progress-bar bar bar-success progress-bar-success" role="progressbar"></div>\n    </div>\n</div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(B){function K(P){if(P&&P.__esModule){return P}var N={};if(null!=P){for(var O in P){Object.prototype.hasOwnProperty.call(P,O)&&(N[O]=P[O])}}return N["default"]=P,N}function v(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(s,"__esModule",{value:!0});var A=u(130),x=v(A),w=u(10),I=v(w),y=u(45),J=v(y),H=u(78),C=v(H),M=u(57),G=v(M),E=u(58),z=K(E),F="P1Y",D="P30D",L=B.View.extend({className:"div-table val-info-table",template:x["default"],templateContext:function(){var N=_.map(z.validPeriodTypes,function(P,O){return{value:O,label:I["default"].language[P+"PeriodLabel"]}});return{periodTypes:N}},behaviors:[G["default"]],ui:{validPeriodPermanent:"#permanentPeriod",validPeriodNonPermanent:"#nonPermanentPeriod",validPeriodValue:".js-valid-period-value",validPeriodTypeSelector:".js-valid-period-type-selector",validPeriodType:".js-valid-period-type",expiringBlock:".js-expiring-block",expiringPeriodValue:".js-expiring-period-value",expiringPeriodType:".js-expiring-period-type",badgesIntegration:"#badgesIntegration",badgesDescriptionBlock:".js-badges-description-block",badgesDescription:".js-badges-description"},events:{"change @ui.validPeriodPermanent":"onValidPeriodChange","change @ui.validPeriodNonPermanent":"onValidPeriodChange","change @ui.validPeriodValue input":"updateValidPeriod","change @ui.validPeriodType":"updateValidPeriod","change @ui.expiringPeriodValue input":"updateExpiringPeriod","change @ui.expiringPeriodType":"updateExpiringPeriod","change @ui.badgesIntegration":"onBadgesIntegrationChange","change @ui.badgesDescription":"saveBadgesDescription"},onRender:function(){var O=this,N=!this.model.get("validPeriod");N?this.ui.validPeriodPermanent.prop("checked",!0):this.ui.validPeriodNonPermanent.prop("checked",!0),this.toggleExtraValidInfo(N),this.toggleExtraBadgesInfo(this.model.get("openBadgesEnabled")),this.on("valamis:controls:init",function(){O.ui.validPeriodValue.valamisPlusMinus({min:1}),O.ui.expiringPeriodValue.valamisPlusMinus({min:1}),N||O.showDurations()})},showDurations:function(){var P=J["default"].trigger("notify"),O=C["default"].getPeriod(this.model.get("validPeriod"));_.isEmpty(O)?(P.trigger("notify","warning","durationWarningLabel"),console.log(I["default"].language.durationWarningLabel+" "+this.model.get("validPeriod"))):(this.ui.validPeriodValue.valamisPlusMinus("value",O.value),this.ui.validPeriodType.val(O.type));var N=C["default"].getPeriod(this.model.get("expiringPeriod"));_.isEmpty(N)?(P.trigger("notify","warning","durationWarningLabel"),console.log(I["default"].language.durationWarningLabel+" "+this.model.get("expiringPeriod"))):(this.ui.expiringPeriodValue.valamisPlusMinus("value",N.value),this.ui.expiringPeriodType.val(N.type))},onValidPeriodChange:function(){var O=this.ui.validPeriodPermanent.prop("checked")===!0,N=O?{validPeriod:null,expiringPeriod:null}:{validPeriod:F,expiringPeriod:D};this.model.set(N),this.model.trigger("path:save"),O?this.toggleExtraValidInfo(O):this.render()},toggleExtraValidInfo:function(N){this.ui.validPeriodValue.toggleClass("hidden",N),this.ui.validPeriodTypeSelector.toggleClass("hidden",N),this.ui.expiringBlock.toggleClass("hidden",N)},updateValidPeriod:function(){var O=this.ui.validPeriodValue.valamisPlusMinus("value"),N=this.ui.validPeriodType.val(),P={};P[N]=O,this.model.set("validPeriod",C["default"].getIsoDuration(P)),this.model.trigger("path:save")},updateExpiringPeriod:function(){var O=this.ui.expiringPeriodValue.valamisPlusMinus("value"),N=this.ui.expiringPeriodType.val(),P={};P[N]=O,this.model.set("expiringPeriod",C["default"].getIsoDuration(P)),this.model.trigger("path:save")},onBadgesIntegrationChange:function(){var O=this.ui.badgesIntegration.prop("checked"),N=O?{openBadgesEnabled:!0,openBadgesDescription:""}:{openBadgesEnabled:!1,openBadgesDescription:null};this.model.set(N),this.model.trigger("path:save"),O?this.render():this.toggleExtraBadgesInfo(O)},toggleExtraBadgesInfo:function(N){this.ui.badgesDescriptionBlock.toggleClass("hidden",!N)},saveBadgesDescription:function(){this.model.set("openBadgesDescription",this.ui.badgesDescription.val()),this.model.trigger("path:save")}});s["default"]=L}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b("\n"+y),x.b('<div class="div-row">'),x.b("\n"+y),x.b('    <div class="div-col name-col">'),x.b(x.v(x.d("language.validPeriodLabel",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b('    <div class="div-col content-col">'),x.b("\n"+y),x.b('        <div class="shift-left">'),x.b("\n"+y),x.b('            <input type="radio" id="permanentPeriod" name="validPeriod" class="val-radio" />'),x.b("\n"+y),x.b('            <label for="permanentPeriod" class="clearfix">'),x.b("\n"+y),x.b('                <span class="radio-icon"></span>'),x.b("\n"+y),x.b('                <span class="radio-label">'),x.b(x.v(x.d("language.permanentLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b("            </label>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"),x.b("\n"+y),x.b('        <div class="shift-left">'),x.b("\n"+y),x.b('            <input type="radio" id="nonPermanentPeriod" name="validPeriod" class="val-radio" />'),x.b("\n"+y),x.b('            <label for="nonPermanentPeriod" class="clearfix">'),x.b("\n"+y),x.b('                <span class="radio-icon"></span>'),x.b("\n"+y),x.b('                <span class="radio-label">'),x.b(x.v(x.d("language.validForLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b("            </label>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"),x.b("\n"+y),x.b('        <div class="js-plus-minus shift-left js-valid-period-value"></div>'),x.b("\n"+y),x.b('        <div class="val-select shift-left js-valid-period-type-selector">'),x.b("\n"+y),x.b('            <select class="js-valid-period-type">'),x.b("\n"+y),x.s(x.f("periodTypes",A,z,1),A,z,0,1063,1141,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('                <option value="'),B.b(B.v(B.f("value",D,C,0))),B.b('">'),B.b(B.v(B.f("label",D,C,0))),B.b("</option>"),B.b("\n"+y)}),A.pop()),x.b("            </select>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.b('<div class="div-row js-expiring-block">'),x.b("\n"+y),x.b('    <div class="div-col name-col">'),x.b(x.v(x.d("language.expiringPeriodLabel",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b('    <div class="div-col content-col">'),x.b("\n"+y),x.b('        <div class="js-plus-minus shift-left js-expiring-period-value"></div>'),x.b("\n"+y),x.b('        <div class="val-select shift-left">'),x.b("\n"+y),x.b('            <select class="js-expiring-period-type">'),x.b("\n"+y),x.s(x.f("periodTypes",A,z,1),A,z,0,1572,1650,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('                <option value="'),B.b(B.v(B.f("value",D,C,0))),B.b('">'),B.b(B.v(B.f("label",D,C,0))),B.b("</option>"),B.b("\n"+y)}),A.pop()),x.b("            </select>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.b('<div class="div-row">'),x.b("\n"+y),x.b('    <div class="div-col name-col">'),x.b(x.v(x.d("language.openBadgesIntegrationLabel",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b('    <div class="div-col content-col">'),x.b("\n"+y),x.b('        <label class="val-switch">'),x.b("\n"+y),x.b('            <input type="checkbox" id="badgesIntegration" class="switch-input"'),x.b("\n"+y),x.b("                   "),x.s(x.f("openBadgesEnabled",A,z,1),A,z,0,2018,2027,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b(" checked ")}),A.pop()),x.b(" />"),x.b("\n"+y),x.b('            <span class="switch-handle"></span>'),x.b("\n"+y),x.b("        </label>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.b('<div class="div-row js-badges-description-block">'),x.b("\n"+y),x.b('    <div class="div-col name-col">'),x.b(x.v(x.d("language.openBadgesDescriptionLabel",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b('    <div class="div-col content-col">'),x.b("\n"+y),x.b('        <input type="text" class="simple js-badges-description" value="'),x.b(x.v(x.f("openBadgesDescription",A,z,0))),x.b('"'),x.b("\n"+y),x.b('               placeholder="'),x.b(x.v(x.d("language.openBadgesDescriptionHintLabel",A,z,0))),x.b('" />'),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"),x.fl()},partials:{},subs:{}},'\n<div class="div-row">\n    <div class="div-col name-col">{{language.validPeriodLabel}}</div>\n    <div class="div-col content-col">\n        <div class="shift-left">\n            <input type="radio" id="permanentPeriod" name="validPeriod" class="val-radio" />\n            <label for="permanentPeriod" class="clearfix">\n                <span class="radio-icon"></span>\n                <span class="radio-label">{{language.permanentLabel}}</span>\n            </label>\n        </div>\n\n        <div class="shift-left">\n            <input type="radio" id="nonPermanentPeriod" name="validPeriod" class="val-radio" />\n            <label for="nonPermanentPeriod" class="clearfix">\n                <span class="radio-icon"></span>\n                <span class="radio-label">{{language.validForLabel}}</span>\n            </label>\n        </div>\n\n        <div class="js-plus-minus shift-left js-valid-period-value"></div>\n        <div class="val-select shift-left js-valid-period-type-selector">\n            <select class="js-valid-period-type">\n                {{#periodTypes}}\n                <option value="{{value}}">{{label}}</option>\n                {{/periodTypes}}\n            </select>\n        </div>\n    </div>\n</div>\n\n<div class="div-row js-expiring-block">\n    <div class="div-col name-col">{{language.expiringPeriodLabel}}</div>\n    <div class="div-col content-col">\n        <div class="js-plus-minus shift-left js-expiring-period-value"></div>\n        <div class="val-select shift-left">\n            <select class="js-expiring-period-type">\n                {{#periodTypes}}\n                <option value="{{value}}">{{label}}</option>\n                {{/periodTypes}}\n            </select>\n        </div>\n    </div>\n</div>\n\n<div class="div-row">\n    <div class="div-col name-col">{{language.openBadgesIntegrationLabel}}</div>\n    <div class="div-col content-col">\n        <label class="val-switch">\n            <input type="checkbox" id="badgesIntegration" class="switch-input"\n                   {{#openBadgesEnabled}} checked {{/openBadgesEnabled}} />\n            <span class="switch-handle"></span>\n        </label>\n    </div>\n</div>\n\n<div class="div-row js-badges-description-block">\n    <div class="div-col name-col">{{language.openBadgesDescriptionLabel}}</div>\n    <div class="div-col content-col">\n        <input type="text" class="simple js-badges-description" value="{{openBadgesDescription}}"\n               placeholder="{{language.openBadgesDescriptionHintLabel}}" />\n    </div>\n</div>\n',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(E,z){function S(W){if(W&&W.__esModule){return W}var U={};if(null!=W){for(var V in W){Object.prototype.hasOwnProperty.call(W,V)&&(U[V]=W[V])}}return U["default"]=W,U}function w(U){return U&&U.__esModule?U:{"default":U}}Object.defineProperty(s,"__esModule",{value:!0});var L=u(132),C=w(L),N=u(83),P=w(N),A=u(133),x=w(A),H=u(84),M=w(H),K=u(78),F=w(K),T=u(57),J=w(T),y=u(10),I=w(y),G=u(58),D=S(G),B=u(45),O=w(B),R=E.View.extend({tagName:"li",className:function(){return this.model.isGroup()?"":"js-single-goal"},template:C["default"],templateContext:function(){var U=_.map(D.validPeriodTypes,function(Y,X){return{value:X,label:I["default"].language[Y+"PeriodLabel"]}}),W="";if(this.model.isGroup()){var V=this.model.get("count");W=isNaN(V)?1:V}return{isGroup:this.model.isGroup(),isEvent:this.model.isEvent(),isActivity:this.model.isActivity(),goalTypeLabel:I["default"].language[this.model.get("goalType")+"GoalLabel"],periodTypes:U,cid:this.cid,toComplete:D.childrenToComplete,childrenToComplete:W}},regions:{tree:{el:"ul.js-group-children",replaceElement:!0}},behaviors:[J["default"]],ui:{handle:"> div .js-handle",deleteButton:"> div .js-delete",activitiesCount:"> div  .js-activities-count",title:"> div .js-group-title",mandatoryLayout:"> div .js-goal-mandatory",mandatory:"> div .js-goal-mandatory input",groupMandatory:"> div .js-group-mandatory",childrenToComplete:"> div .js-group-mandatory .js-children-to-complete",childrenToCompleteLabel:"> div .js-children-to-complete-label",setDeadline:"> div .js-set-deadline",deadline:"> div .js-deadline",deadlinePeriodValue:"> div .js-deadline-period-value",deadlinePeriodType:"> div .js-deadline-period-type"},events:{"click @ui.deleteButton":"deleteGoal","change @ui.activitiesCount":"saveActivitiesCount","change @ui.title":"saveTitle","change @ui.mandatory":"saveMandatory","click @ui.groupMandatory li":"changeGroupMandatory","change @ui.childrenToComplete":"childrenToCompleteChanged","click @ui.setDeadline":"setDeadline","change @ui.deadlinePeriodValue":"updateDeadline","change @ui.deadlinePeriodType":"updateDeadline"},getChildren:function(){return this.$("> ul > li")},onRender:function(){var X=this;if(this.on("valamis:controls:init",function(){if(X.model.isGroup()){var Z=D.childrenToComplete,Y=void 0!==X.model.get("count")?Z.any:Z.custom;X.ui.groupMandatory.valamisDropDown("select",Y),X.setChildrenCompleteText(X.model.get("count")),X.ui.childrenToComplete.on("click",function(aa){aa.preventDefault(),aa.stopPropagation()})}}),this.$el.attr("id",this.model.get("id")),this.ui.handle.on("update:goal:position",function(aa,Y,Z){Z&&X.ui.mandatoryLayout.removeClass("hidden"),X.model.get("id")==Y.id&&X.model.move({},Y)}),this.ui.handle.on("update:children",function(){X.model.isGroup()&&X.setChildrenCompleteText(X.model.get("count"))}),this.model.get("timeLimit")){var W=F["default"].getPeriod(this.model.get("timeLimit"));_.isEmpty(W)?(O["default"].channel("notify").trigger("notify","warning","durationWarningLabel"),console.log(I["default"].language.durationWarningLabel+" "+this.model.get("timeLimit"))):(this.ui.deadlinePeriodValue.val(W.value),this.ui.deadlinePeriodType.val(W.type)),this.toggleDeadlineFields(!0)}var V=this.model.get("goals");if(V&&V.length){var U=new Q({collection:new M["default"](V)});this.showChildView("tree",U)}},deleteGoal:function(){this.model.destroy().then(function(){},function(){O["default"].channel("notify").trigger("notify","error","failedLabel")})},saveActivitiesCount:function(){this.setFields({count:parseInt(this.ui.activitiesCount.val())||1})},saveTitle:function(){this.setFields({title:this.ui.title.val()||I["default"].language.newGroupLabel})},saveMandatory:function(){this.setFields({optional:!this.ui.mandatory.prop("checked")})},setChildrenCompleteText:function(V,U){var W="";U=U||this.getChildren().length,V>U&&O["default"].channel("notify").trigger("notify","warning",I["default"].language.toBeCompletedWarningLabel+" "+this.model.get("title")),W=void 0!==V?I["default"].language.anyLabel+" "+V+" "+I["default"].language.ofLabel+" "+U:I["default"].language.customLabel,this.ui.childrenToCompleteLabel.text(W),this.getChildren().find(this._uiBindings.mandatoryLayout).toggleClass("hidden",void 0!==V)},updateToCompleteValue:function(V){var U=this.getChildren().length;void 0!==V?this.setFields({count:V}):this.unsetField("count"),this.setChildrenCompleteText(V,U)},childrenToCompleteChanged:function(U){this.ui.groupMandatory.data("value")===D.childrenToComplete.any&&this.updateToCompleteValue(parseInt(z(U.target).val())||1)},changeGroupMandatory:function(W){var U=z(W.target).attr("data-value")===D.childrenToComplete.custom,V=U?void 0:parseInt(this.ui.childrenToComplete.val())||1;this.updateToCompleteValue(V)},setDeadline:function(){this.toggleDeadlineFields(!0),this.updateDeadline()},updateDeadline:function(){var V=parseInt(this.ui.deadlinePeriodValue.val()),X="";if(!isNaN(V)&&V>0){var U=this.ui.deadlinePeriodType.val(),W={};W[U]=V,X=F["default"].getIsoDuration(W)}else{this.ui.deadlinePeriodValue.val(1),this.toggleDeadlineFields(!1)}X?this.setFields({timeLimit:X}):this.unsetField("timeLimit")},toggleDeadlineFields:function(U){this.ui.setDeadline.toggleClass("hidden",U),this.ui.deadline.toggleClass("hidden",!U)},setFields:function(U){this.model.set(U),this.saveGoal()},unsetField:function(U){this.model.unset(U),this.saveGoal()},saveGoal:function(){this.model.save().then(function(){},function(){O["default"].channel("notify").trigger("notify","error","failedLabel")})}}),Q=E.CollectionView.extend({tagName:"ul",childView:R,emptyView:x["default"],initSortable:function(){var V=this,U=this;this.startParent=void 0,this.$el.nestedSortable({forcePlaceholderSize:!0,handle:".js-handle",items:"li:not(.dropdown-item)",toleranceElement:"> div.list-table-row",listType:"ul",placeholder:"placeholder",disableNestingClass:"js-single-goal",start:function(X,W){U.startParent=W.item.parents("li")},relocate:function(ad,ae){var X=U.$el.nestedSortable("toArray",{expression:/(?=(.+))(.+)/}),ab=_.filter(X,function(ag){return !!ag.id}),Y=ae.item.attr("id"),aa=_.find(ab,{id:Y}).parent_id,af=_.filter(ab,{parent_id:aa}),ac=af.map(function(ag){return ag.id}).indexOf(Y),W=ae.item.parents("li"),Z=0===W.length;ae.item.find("> div .js-handle").trigger("update:goal:position",[{id:parseInt(Y),parentId:parseInt(aa),index:ac},Z]),U.startParent.length>0&&U.startParent.find("> div .js-handle").trigger("update:children"),V.startParent=void 0,W.length>0&&W.find("> div .js-handle").trigger("update:children")}})}}),v=E.View.extend({template:P["default"],className:"val-list-table",regions:{goalsList:".js-goals-list"},ui:{header:".js-header"},onRender:function(){var U=this;this.goals=new M["default"](),this.options.pathId?(this.goals.pathId=this.options.pathId,this.goals.fetch({getVersion:!1,activities:I["default"].activities.toJSON()}).then(function(){U.showGoals()})):this.showGoals()},showGoals:function(){var U=this;this.toggleHeader(),this.goals.on("destroy",function(){U.toggleHeader()});var V=new Q({collection:this.goals});this.showChildView("goalsList",V),this.goals.length&&V.initSortable()},toggleHeader:function(){this.ui.header.toggleClass("hidden",!this.goals.length)},onDestroy:function(){this.off()}});s["default"]=v}).call(s,u(11),u(33))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="clearfix list-table-row">'),x.b("\n"+y),x.b('    <span class="s-6 goal-title '),x.s(x.f("isGroup",A,z,1),A,z,0,82,87,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b("group")}),A.pop()),x.b(' js-handle cursor-move">'),x.b("\n"+y),x.b('        <div class="ellipsis">'),x.b("\n"+y),x.s(x.f("isGroup",A,z,1),A,z,0,179,353,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('                <span class="input-container">'),B.b("\n"+y),B.b('                    <input type="text" value="'),B.b(B.v(B.f("title",D,C,0))),B.b('" class="simple js-group-title" />'),B.b("\n"+y),B.b("                </span>"),B.b("\n"+y)}),A.pop()),x.s(x.f("isGroup",A,z,1),A,z,1,0,0,"")||(x.s(x.f("isActivity",A,z,1),A,z,0,422,597,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b("                "),B.b(B.v(B.d("language.doLabel",D,C,0))),B.b(' <input type="text" value="'),B.b(B.v(B.f("count",D,C,0))),B.b('"'),B.b("\n"+y),B.b('                    class="onlyDigits simple js-digits-only js-activities-count" />'),B.b("\n"+y)}),A.pop()),x.b("                "),x.b(x.v(x.f("title",A,z,0))),x.b("\n"+y)),x.b("        </div>"),x.b("\n"+y),x.b("    </span>"),x.b("\n"+y),x.b('    <span class="s-2">'),x.b(x.v(x.f("goalTypeLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b('    <span class="s-2">'),x.b("\n"+y),x.s(x.f("isEvent",A,z,1),A,z,1,0,0,"")||(x.b('        <span class="label-with-action js-set-deadline">'),x.b(x.v(x.d("language.toSetLabel",A,z,0))),x.b("</span>"),x.b("\n"+y),x.b('        <div class="hidden clearfix deadline js-deadline">'),x.b("\n"+y),x.b('            <input type="text" class="onlyDigits shift-left js-digits-only js-deadline-period-value" value="1"/>'),x.b("\n"+y),x.b('            <div class="val-select shift-left">'),x.b("\n"+y),x.b('                <select class="js-deadline-period-type">'),x.b("\n"+y),x.s(x.f("periodTypes",A,z,1),A,z,0,1182,1268,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('                    <option value="'),B.b(B.v(B.f("value",D,C,0))),B.b('">'),B.b(B.v(B.f("label",D,C,0))),B.b("</option>"),B.b("\n"+y)}),A.pop()),x.b("                </select>"),x.b("\n"+y),x.b("            </div>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y)),x.b("        "),x.s(x.f("isEvent",A,z,1),A,z,0,1386,1389,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b(" - ")}),A.pop()),x.b("\n"+y),x.b("    </span>"),x.b("\n"+y),x.b('    <span class="s-2">'),x.b("\n"+y),x.s(x.f("isGroup",A,z,1),A,z,0,1457,2247,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('        <div class="shift-left dropdown js-dropdown js-group-mandatory" data-value="">'),B.b("\n"+y),B.b('            <button class="button medium simple">'),B.b("\n"+y),B.b('                <span class="dropdown-label js-children-to-complete-label"></span>'),B.b("\n"+y),B.b('                <span class="val-icon-arrow-down-two val-icon-right"></span>'),B.b("\n"+y),B.b("            </button>"),B.b("\n"+y),B.b('            <ul class="dropdown-menu">'),B.b("\n"+y),B.b('                <li class="dropdown-item" data-value="'),B.b(B.v(B.d("toComplete.any",D,C,0))),B.b('">'),B.b(B.v(B.d("language.anyLabel",D,C,0))),B.b("\n"+y),B.b('                    <input type="text" value="'),B.b(B.v(B.f("childrenToComplete",D,C,0))),B.b('"'),B.b("\n"+y),B.b('                                  class="onlyDigits js-digits-only js-children-to-complete" />'),B.b("\n"+y),B.b("                </li>"),B.b("\n"+y),B.b('                <li class="dropdown-item" data-value="'),B.b(B.v(B.d("toComplete.custom",D,C,0))),B.b('">'),B.b(B.v(B.d("language.customLabel",D,C,0))),B.b("</li>"),B.b("\n"+y),B.b("            </ul>"),B.b("\n"+y),B.b("        </div>"),B.b("\n"+y)}),A.pop()),x.b("\n"+y),x.s(x.f("isGroup",A,z,1),A,z,1,0,0,"")||(x.b('        <label class="val-switch shift-left js-goal-mandatory">'),x.b("\n"+y),x.b('            <input type="checkbox" class="switch-input" '),x.s(x.f("optional",A,z,1),A,z,1,0,0,"")||x.b(" checked "),x.b(" />"),x.b("\n"+y),x.b('            <span class="switch-handle"></span>'),x.b("\n"+y),x.b("        </label>"),x.b("\n"+y)),x.b("\n"+y),x.b('        <button class="button medium simple danger no-text shift-right js-delete">'),x.b("\n"+y),x.b('            <span class="val-icon-trash"></span>'),x.b(x.v(x.d("language.deleteLabel",A,z,0))),x.b("\n"+y),x.b("        </button>"),x.b("\n"+y),x.b("    </span>"),x.b("\n"+y),x.b("</div>"),x.b("\n"+y),x.s(x.f("isGroup",A,z,1),A,z,0,2733,2770,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('<ul class="js-group-children"></ul>'),B.b("\n"+y)}),A.pop()),x.fl()},partials:{},subs:{}},'<div class="clearfix list-table-row">\n    <span class="s-6 goal-title {{#isGroup}}group{{/isGroup}} js-handle cursor-move">\n        <div class="ellipsis">\n            {{#isGroup}}\n                <span class="input-container">\n                    <input type="text" value="{{title}}" class="simple js-group-title" />\n                </span>\n            {{/isGroup}}\n            {{^isGroup}}\n                {{#isActivity}}\n                {{language.doLabel}} <input type="text" value="{{count}}"\n                    class="onlyDigits simple js-digits-only js-activities-count" />\n                {{/isActivity}}\n                {{title}}\n            {{/isGroup}}\n        </div>\n    </span>\n    <span class="s-2">{{goalTypeLabel}}</span>\n    <span class="s-2">\n        {{^isEvent}}\n        <span class="label-with-action js-set-deadline">{{language.toSetLabel}}</span>\n        <div class="hidden clearfix deadline js-deadline">\n            <input type="text" class="onlyDigits shift-left js-digits-only js-deadline-period-value" value="1"/>\n            <div class="val-select shift-left">\n                <select class="js-deadline-period-type">\n                    {{#periodTypes}}\n                    <option value="{{value}}">{{label}}</option>\n                    {{/periodTypes}}\n                </select>\n            </div>\n        </div>\n        {{/isEvent}}\n        {{#isEvent}} - {{/isEvent}}\n    </span>\n    <span class="s-2">\n        {{#isGroup}}\n        <div class="shift-left dropdown js-dropdown js-group-mandatory" data-value="">\n            <button class="button medium simple">\n                <span class="dropdown-label js-children-to-complete-label"></span>\n                <span class="val-icon-arrow-down-two val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                <li class="dropdown-item" data-value="{{toComplete.any}}">{{language.anyLabel}}\n                    <input type="text" value="{{childrenToComplete}}"\n                                  class="onlyDigits js-digits-only js-children-to-complete" />\n                </li>\n                <li class="dropdown-item" data-value="{{toComplete.custom}}">{{language.customLabel}}</li>\n            </ul>\n        </div>\n        {{/isGroup}}\n\n        {{^isGroup}}\n        <label class="val-switch shift-left js-goal-mandatory">\n            <input type="checkbox" class="switch-input" {{^optional}} checked {{/optional}} />\n            <span class="switch-handle"></span>\n        </label>\n        {{/isGroup}}\n\n        <button class="button medium simple danger no-text shift-right js-delete">\n            <span class="val-icon-trash"></span>{{language.deleteLabel}}\n        </button>\n    </span>\n</div>\n{{#isGroup}}\n<ul class="js-group-children"></ul>\n{{/isGroup}}',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(z){function y(A){return A&&A.__esModule?A:{"default":A}}Object.defineProperty(s,"__esModule",{value:!0});var v=u(134),w=y(v),x=z.View.extend({template:w["default"]});s["default"]=x}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="target goals js-no-goals">'),x.b(x.v(x.d("language.addGoalsHint1Label",A,z,0))),x.b("<br/>"),x.b(x.v(x.d("language.addGoalsHint2Label",A,z,0))),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="target goals js-no-goals">{{language.addGoalsHint1Label}}<br/>{{language.addGoalsHint2Label}}</div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(D){function A(N){if(N&&N.__esModule){return N}var L={};if(null!=N){for(var M in N){Object.prototype.hasOwnProperty.call(N,M)&&(L[M]=N[M])}}return L["default"]=N,L}function J(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(s,"__esModule",{value:!0});var K=u(136),G=J(K),z=u(106),I=J(z),B=u(62),y=A(B),E=u(137),F=J(E),x=u(139),H=J(x),C=u(114),w=J(C),v=D.View.extend({template:G["default"],regions:{toolbar:"#viewToolbar",content:"#viewContent",more:"#viewPaginatorMore",showing:"#viewPaginatorShowing"},ui:{loading:".js-loading-container",infoLabel:".js-info-label"},onRender:function(){var P=this;this.filter=new I["default"]({sort:"title"});var N=new F["default"]({model:this.filter});this.showChildView("toolbar",N),this.collection=new w["default"](),this.collection.on("scope:item:selected",function(Q){P.setScope(Q)}),this.collection.goalType=this.goalType,this.paginatorModel=new y.PageModel({itemsOnPage:10,isLazy:!0}),this.filter.on("change",function(Q){P.fetch()}),this.paginatorModel.on("pageChanged",function(){P.fetchMore()}),this.collection.on("sync",function(Q){P.toggleLoading(!1,!Q.hasItems()),P.paginatorModel.set("totalElements",Q.options.total)});var M=new y.ValamisPaginatorShowMore({model:this.paginatorModel});this.showChildView("more",M);var O=new y.ValamisPaginatorShowing({model:this.paginatorModel});this.showChildView("showing",O);var L=new H["default"]({collection:this.collection});this.showChildView("content",L),this.fetch()},fetch:function(){this.paginatorModel.set({totalElements:0}),this.collection.reset();var L=this.paginatorModel.get("currentPage")*this.paginatorModel.get("itemsOnPage");this.fetchMore(1,L)},fetchMore:function(M,L){this.collection.fetch({filter:this.filter.toJSON(),page:M||this.paginatorModel.get("currentPage"),count:L||this.paginatorModel.get("itemsOnPage"),add:!0,remove:!1,merge:!1})},toggleLoading:function(M,L){this.ui.loading.toggleClass("hidden",!M),this.ui.infoLabel.toggleClass("hidden",M||!L)},setScope:function(L){this.triggerMethod("scope:selected",L)}});s["default"]=v}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div id="viewToolbar"></div>'),x.b("\n"+y),x.b('<div id="viewContent" class="val-table-wrapper"></div>'),x.b("\n"),x.b("\n"+y),x.b('<div class="loading-container js-loading-container hidden"></div>'),x.b("\n"+y),x.b('<label class="valamis-info-label shifted hidden js-info-label">'),x.b(x.v(x.d("language.emptyListLabel",A,z,0))),x.b("</label>"),x.b("\n"),x.b("\n"+y),x.b('<div id="viewPaginatorMore" class="text-center"></div>'),x.fl()},partials:{},subs:{}},'<div id="viewToolbar"></div>\n<div id="viewContent" class="val-table-wrapper"></div>\n\n<div class="loading-container js-loading-container hidden"></div>\n<label class="valamis-info-label shifted hidden js-info-label">{{language.emptyListLabel}}</label>\n\n<div id="viewPaginatorMore" class="text-center"></div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(C,x){function w(D){return D&&D.__esModule?D:{"default":D}}Object.defineProperty(s,"__esModule",{value:!0});var v=u(138),z=w(v),B=u(57),A=w(B),y=C.View.extend({template:z["default"],ui:{search:".js-search input",sort:".js-sort"},events:{"keyup @ui.search":"changeSearchText","click @ui.sort li":"changeSort"},behaviors:[A["default"]],onRender:function(){this.on("valamis:controls:init",function(){this.ui.sort.valamisDropDown("select",this.model.get("sort"))},this)},changeSearchText:function(D){var E=this;clearTimeout(this.inputTimeout),this.inputTimeout=setTimeout(function(){E.model.set("filter",x(D.target).val())},800)},changeSort:function(D){this.model.set("sort",x(D.target).attr("data-value"))}});s["default"]=y}).call(s,u(11),u(33))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="filters-row val-row">'),x.b("\n"+y),x.b('    <div class="side-layout">&nbsp;</div>'),x.b("\n"),x.b("\n"+y),x.b('    <div class="center-layout text-center">'),x.b("\n"+y),x.b('        <div class="val-search js-search">'),x.b("\n"+y),x.b('            <input type="text" placeholder="'),x.b(x.v(x.d("language.searchLabel",A,z,0))),x.b('">'),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"+y),x.b('<div class="filters-row val-row showing-row">'),x.b("\n"+y),x.b('    <div class="side-layout">'),x.b("\n"+y),x.b('        <div id="viewPaginatorShowing" class="display-inline-block"></div>'),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b('    <div class="side-layout text-right">'),x.b("\n"+y),x.b('        <div class="dropdown js-dropdown shift-right js-sort" data-value="">'),x.b("\n"+y),x.b('            <button class="button medium simple">'),x.b("\n"+y),x.b('                <span class="dropdown-text"></span>'),x.b("\n"+y),x.b('                <span class="val-icon-arrow-down val-icon-right"></span>'),x.b("\n"+y),x.b("            </button>"),x.b("\n"+y),x.b('            <ul class="dropdown-menu">'),x.b("\n"+y),x.b('                <li data-value="title" class="selected">'),x.b(x.v(x.d("language.byNameAscLabel",A,z,0))),x.b("</li>"),x.b("\n"+y),x.b('                <li data-value="-title">'),x.b(x.v(x.d("language.byNameDescLabel",A,z,0))),x.b("</li>"),x.b("\n"+y),x.b("            </ul>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="filters-row val-row">\n    <div class="side-layout">&nbsp;</div>\n\n    <div class="center-layout text-center">\n        <div class="val-search js-search">\n            <input type="text" placeholder="{{language.searchLabel}}">\n        </div>\n    </div>\n</div>\n<div class="filters-row val-row showing-row">\n    <div class="side-layout">\n        <div id="viewPaginatorShowing" class="display-inline-block"></div>\n    </div>\n    <div class="side-layout text-right">\n        <div class="dropdown js-dropdown shift-right js-sort" data-value="">\n            <button class="button medium simple">\n                <span class="dropdown-text"></span>\n                <span class="val-icon-arrow-down val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                <li data-value="title" class="selected">{{language.byNameAscLabel}}</li>\n                <li data-value="-title">{{language.byNameDescLabel}}</li>\n            </ul>\n        </div>\n    </div>\n</div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(A){function y(B){return B&&B.__esModule?B:{"default":B}}Object.defineProperty(s,"__esModule",{value:!0});var w=u(140),z=y(w),x=A.View.extend({tagName:"tr",template:z["default"],events:{click:"modelSelected"},modelSelected:function(){this.model.trigger("scope:item:selected",this.model.toJSON())}}),v=A.CollectionView.extend({tagName:"table",className:"val-table",childView:x});s["default"]=v}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<td class="title cursor-pointer">'),x.b("\n"+y),x.b("    "),x.b(x.v(x.f("title",A,z,0))),x.b("\n"+y),x.b("</td>"),x.fl()},partials:{},subs:{}},'<td class="title cursor-pointer">\n    {{title}}\n</td>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(z){function C(E){return E&&E.__esModule?E:{"default":E}}Object.defineProperty(s,"__esModule",{value:!0});var D=u(142),x=C(D),v=u(143),A=C(v),y=z.View.extend({tagName:"li",className:"js-select-item",template:x["default"],events:{click:"onClick"},onClick:function(){this.model.trigger("skillSelected",{model:this.model.toJSON(),improving:this.options.improving})}}),w=z.CollectionView.extend({childView:y,childViewOptions:function(){return{improving:this.options.improving}}}),B=z.View.extend({tagName:"ul",className:"dropdown-menu js-select-dropdown",template:A["default"],regions:{list:{el:".js-skills-list",replaceElement:!0}},ui:{search:".js-search input"},events:{"keyup @ui.search":"onSearchChange"},onRender:function(){this.skills=new w({collection:this.collection,improving:this.options.improving}),this.showChildView("list",this.skills)},onSearchChange:function(){var E=this.ui.search.val().toLowerCase();this.skills.setFilter(function(H,F,G){return H.get("title").toLowerCase().includes(E)})}});s["default"]=B}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b(x.v(x.f("title",A,z,0))),x.fl()},partials:{},subs:{}},"{{title}}",t);return w.render.apply(w,arguments)}},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="val-search js-search">'),x.b("\n"+y),x.b('    <input type="text" placeholder="'),x.b(x.v(x.d("language.searchSkillLabel",A,z,0))),x.b('">'),x.b("\n"+y),x.b("</div>"),x.b("\n"+y),x.b('<div class="js-skills-list"></div>'),x.fl()},partials:{},subs:{}},'<div class="val-search js-search">\n    <input type="text" placeholder="{{language.searchSkillLabel}}">\n</div>\n<div class="js-skills-list"></div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(y){function B(E){return E&&E.__esModule?E:{"default":E}}Object.defineProperty(s,"__esModule",{value:!0});var C=u(142),x=B(C),A=u(145),w=B(A),z=y.View.extend({tagName:"li",template:x["default"],events:{click:"onClick"},onClick:function(){this.model.trigger("levelSelected",this.model.toJSON(),this.options)}}),D=y.CollectionView.extend({childView:z,childViewOptions:function(){return{skillName:this.options.skillName,skillId:this.options.skillId,improving:this.options.improving}}}),v=y.View.extend({tagName:"ul",className:"dropdown-menu js-select-dropdown",template:w["default"],regions:{list:{el:".js-levels-list",replaceElement:!0}},templateContext:function(){return{skillName:this.options.skillName}},onRender:function(){var E=new D({collection:this.collection,skillName:this.options.skillName,skillId:this.options.skillId,improving:this.options.improving});this.showChildView("list",E)}});s["default"]=v}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="selected-skill">'),x.b(x.v(x.f("skillName",A,z,0))),x.b(" "),x.b(x.v(x.d("language.skillNameToLabel",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b('<div class="js-levels-list"></div>'),x.fl()},partials:{},subs:{}},'<div class="selected-skill">{{skillName}} {{language.skillNameToLabel}}</div>\n<div class="js-levels-list"></div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(C){function D(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(s,"__esModule",{value:!0});var v=u(52),x=D(v),E=u(67),B=D(E),y=u(50),w=D(y),A=new C.Service(),z=x["default"].extend({model:C.Model,initialize:function(F){this.url=(0,w["default"])().endpoint.skills,B["default"].prototype.initialize.apply(this,arguments)}}).extend(A);s["default"]=z}).call(s,u(12))},function(t,s,u){(function(B){function D(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(s,"__esModule",{value:!0});var w=u(52),y=D(w),E=u(67),A=D(E),z=u(50),x=D(z),C=new B.Service(),v=y["default"].extend({model:B.Model,initialize:function(F){this.url=(0,x["default"])().endpoint.levels,A["default"].prototype.initialize.apply(this,arguments)}}).extend(C);s["default"]=v}).call(s,u(12))},function(t,s,u){(function(A){function x(B){return B&&B.__esModule?B:{"default":B}}Object.defineProperty(s,"__esModule",{value:!0});var z=u(149),w=x(z),v=A.View.extend({tagName:"li",template:w["default"],events:{"click .js-delete-competency":"deleteCompetency"},deleteCompetency:function(){this.model.destroy()}}),y=A.CollectionView.extend({childView:v});s["default"]=y}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b(x.v(x.f("skillName",A,z,0))),x.b(", "),x.b(x.v(x.f("levelName",A,z,0))),x.b(' <span class="val-icon-trash cursor-pointer js-delete-competency"></span>'),x.fl()},partials:{},subs:{}},'{{skillName}}, {{levelName}} <span class="val-icon-trash cursor-pointer js-delete-competency"></span>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(B){function D(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(s,"__esModule",{value:!0});var w=u(69),y=D(w),A=u(50),x=D(A),C=u(10),v=D(C),z=new B.Service({url:function(F){return""+(0,x["default"])().endpoint.learningPaths},sync:{read:{path:"draft",method:"get"},update:{path:"draft",method:"put"}},targets:{deleteLogo:{path:"draft/logo",method:"delete"},addGoals:{path:"draft/goals",data:function(G,F){return F.data},method:"post"},addGroup:{path:"draft/groups",data:function(G,F){return{title:F.title}},method:"post"},publish:{path:"draft/publish",method:"post"},addRecommendation:{path:"draft/recommended-competences",data:function(G,F){return{skillId:F.skillId,skillName:F.skillName,levelId:F.levelId,levelName:F.levelName}},method:"post"}}}),E=y["default"].extend({defaults:{title:"",logo:"",openBadgesEnabled:!1,hasDraft:!0},getFullLogoUrl:function(){var F=this.get("logoUrl");return F?""+(0,x["default"])().apiPath+F:""},save:function(G,H,F){return""===this.get("title")&&this.set("title",v["default"].language.defaultNameLabel),y["default"].prototype.save.apply(this,[G,H,F])}}).extend(z);s["default"]=E}).call(s,u(12))},function(t,s,u){(function(E){function F(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(s,"__esModule",{value:!0});var G=u(67),D=F(G),x=u(69),z=F(x),C=u(50),y=F(C),A=new E.Service({url:function(H){return(0,y["default"])().endpoint.learningPaths+H.collection.pathId+"/members/"+H.collection.memberType}}),B=z["default"].extend(A),w=new E.Service({sync:{read:{path:function(I,H){return I.pathId+"/members/"+I.memberType},data:function(I,H){return H.data},method:"get"}},targets:{addMembers:{path:function(I,H){return I.pathId+"/members"},data:function(I,H){return H.data},method:"post"}}}),v=D["default"].extend({model:B,initialize:function(){this.url=(0,y["default"])().endpoint.learningPaths,D["default"].prototype.initialize.apply(this,arguments)}}).extend(w);s["default"]=v}).call(s,u(12))},function(t,s,u){(function(A){function C(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(s,"__esModule",{value:!0});var D=u(67),z=C(D),v=u(69),x=C(v),y=u(50),w=C(y),B=new A.Service({sync:{read:{path:function(G,F){return G.pathId+"/available-members/"+G.memberType},data:function(G,F){return F.data},method:"get"}}}),E=z["default"].extend({model:x["default"],initialize:function(){this.url=""+(0,w["default"])().endpoint.learningPaths,this.available=!0,z["default"].prototype.initialize.apply(this,arguments)},getMembersSum:function(){var F=0;return _.each(this.toJSON(),function(G){var H=G.userCount;F+=void 0!=H?H:1}),F}}).extend(B);s["default"]=E}).call(s,u(12))},function(t,s,u){(function(H,C){function U(Z){if(Z&&Z.__esModule){return Z}var X={};if(null!=Z){for(var Y in Z){Object.prototype.hasOwnProperty.call(Z,Y)&&(X[Y]=Z[Y])}}return X["default"]=Z,X}function w(X){return X&&X.__esModule?X:{"default":X}}Object.defineProperty(s,"__esModule",{value:!0});var V=u(154),M=w(V),J=u(155),B=w(J),T=u(156),O=w(T),A=u(10),N=w(A),G=u(106),F=w(G),D=u(45),P=w(D),K=u(62),z=U(K),I=u(58),E=U(I),W=u(57),L=w(W),y=u(157),R=w(y),x=H.View.extend({tagName:"tr",template:M["default"],initialize:function(){this.isMemberUser=this.model.collection.memberType==E.memberType.user},templateContext:function(){var X=function(ag){return'<span class="valamis-tooltip" data-placement="bottom" title="'+N["default"].language.memberAsPartOfGroupHintLabel+'">'+ag+"</span>"},Y="",ab=this.model;if(this.isMemberUser){var ae=E.memberType,af={};af[ae.organization]="organization",af[ae.userGroup]="group",af[ae.role]="role";var ad=ab.get("membershipInfo");Y=_.map([ae.organization,ae.userGroup,ae.role],function(ag){return ab.get(ag).map(function(ai){var ah=_.filter(ad,function(aj){return aj.tpe===af[ag]&&aj.id===ai.id});return ah.length>0?X(ai.name):ai.name}).join(", ")}),Y=_.filter(Y,function(ag){return""!=ag}).join(" • ")}else{Y=this.model.get("userCount")+" "+N["default"].language.membersLabel}var aa=this.model.get("status"),ac=Math.round(100*(this.model.get("progress")||0)),Z=E.statuses;return{available:this.options.available,cid:this.cid,info:Y,isGroup:!this.isMemberUser,progressPercent:ac,isInProgress:aa===Z.inprogress,isSucceed:aa===Z.success,isFailed:aa===Z.failed,isExpired:aa===Z.expired,isExpiring:aa===Z.expiring}},ui:{"delete":".js-member-delete",checkbox:".val-checkbox",tooltip:".valamis-tooltip"},events:{click:"openProgress","click @ui.delete":"memberDelete","change @ui.checkbox":"toggleModelSelected"},modelEvents:{"change:selected":"toggleSelected"},onRender:function(){this.isMemberUser&&this.$el.addClass("cursor-pointer")},toggleModelSelected:function(Z){var X=C(Z.target).prop("checked");this.model.set("selected",X);var Y=this.model.get("userCount");void 0==Y&&(Y=1),this.model.collection.trigger("members:selected:changed",X?Y:-1*Y)},toggleSelected:function(){this.ui.checkbox.prop("checked",this.model.get("selected"))},memberDelete:function(X){X.stopPropagation();var Y=this.model.collection;this.model.destroy({data:{memberIds:this.model.get("id"),memberType:Y.memberType}}).then(function(){Y.trigger("member:removed")},function(){P["default"].channel("notify").trigger("notify","error","failedLabel")})},openProgress:function(){this.isMemberUser&&this.model.trigger("show:user:progress",this.model.collection.indexOf(this.model))}}),Q=H.CollectionView.extend({tagName:"table",className:"val-table",childView:x,childViewOptions:function(){return{available:this.options.available}}}),v=H.View.extend({template:O["default"],templateContext:function(){var X=[],Y=[];return _.each(E.memberType,function(Z,aa){X.push({value:aa,label:N["default"].language[aa+"MembersLabel"]}),Y.push({value:aa,label:N["default"].language[aa+"AddLabel"]})}),{membersType:X,addMembers:Y,available:this.options.available,cid:this.cid}},behaviors:[L["default"]],ui:{search:".js-search input",sort:".js-sort-filter",memberType:".js-member-type",addMembers:".js-add-members",selectAll:".js-select-all",deselectAll:".js-deselect-all",selectedInfo:".js-selected-info",selectedAmount:".js-selected-amount"},events:{"keyup @ui.search":"changeSearchText","click @ui.sort li":"changeSort","click @ui.memberType li":"changeMemberType","click @ui.addMembers li":"addMembers","change @ui.selectAll":"toggleSelectAll","click @ui.deselectAll":"deselectAll"},onRender:function(){this.isSelectedAll=!1,this.selectedMembers=0,this.on("valamis:controls:init",function(){var Y=this,X=_.findKey(E.memberType,function(Z){return Z==Y.model.get("memberType")});this.ui.memberType.valamisDropDown("select",X)},this)},changeSearchText:function(Y){var X=this;clearTimeout(this.inputTimeout),this.inputTimeout=setTimeout(function(){X.model.set("searchtext",C(Y.target).val())},800)},changeSort:function(X){this.model.set("sort",C(X.target).attr("data-value"))},changeMemberType:function(Y){var X=E.memberType[C(Y.target).attr("data-value")];this.model.set("memberType",X),this.deselectAll()},addMembers:function(Y){var X=E.memberType[C(Y.target).attr("data-value")];this.triggerMethod("add:member",X)},toggleSelectAll:function(){this.isSelectedAll=this.ui.selectAll.prop("checked"),this.selectedMembers=this.isSelectedAll?this.options.paginatorModel.get("membersSum"):0,this.updateSelectedText(this.isSelectedAll),this.triggerMethod("toggle:select:all",this.isSelectedAll)},deselectAll:function(){this.ui.selectAll.prop("checked",!1),this.toggleSelectAll()},updateSelectedText:function(X){this.ui.selectedInfo.toggleClass("hidden",!X),this.ui.selectedAmount.text(this.selectedMembers)},checkSelectedAmount:function(Y,X){this.selectedMembers+=Y,this.ui.selectAll.prop("checked",this.selectedMembers==this.options.paginatorModel.get("membersSum")),this.updateSelectedText(X)}}),S=H.View.extend({template:B["default"],templateContext:function(){return{available:this.options.available}},regions:{toolbar:"#viewToolbar",list:"#viewList",more:"#viewPaginatorMore",showing:"#viewPaginatorShowing",noMembers:"#viewNoMembers"},ui:{back:".js-back",add:".js-add-selected",hintLayout:".js-hint-layout",contentLayout:".js-content-layout",selectMembers:".js-select-members"},events:{"click @ui.back":"goBack","click @ui.add":"addSelectedMembers","click @ui.selectMembers":"selectMembers"},childViewEvents:{"add:member":"selectMembers","toggle:select:all":"toggleSelectAll"},initialize:function(){this.paginatorModel=new z.PageModel({itemsOnPage:10,isLazy:!0}),this.members=this.options.members,this.members.memberType=this.options.memberType||E.memberType.user,this.filter=new F["default"]({sort:"name",memberType:this.members.memberType}),this.available=!!this.options.available,this.members.on("collection:update",this.fetch,this)},selectMembers:function(X){this.triggerMethod("select:members",X)},toggleSelectAll:function(X){this.members.each(function(Y){Y.set("selected",X)})},onRender:function(){var aa=this;this.available||this.showChildView("noMembers",new R["default"]());var Y=new v({model:this.filter,paginatorModel:this.paginatorModel,available:this.available});this.showChildView("toolbar",Y),this.filter.on("change",function(ac){Y.deselectAll(),aa.fetch()}),this.members.on("member:removed",function(){aa.fetch(),aa.triggerMethod("preview:path")}),this.members.on("member:update",function(){aa.fetch()}),this.members.on("sync",function(ad){aa.toggleLoading(!1,!ad.hasItems());var ac={totalElements:ad.options.total};ad.available&&_.extend(ac,{membersSum:ad.getMembersSum()}),aa.paginatorModel.set(ac),aa.toggleHint()}),this.paginatorModel.on("pageChanged",function(){aa.fetchMore()}),this.members.on("members:selected:changed",function(ad){var ac=aa.members.filter({selected:!0}).length>0;Y.checkSelectedAmount(ad,ac)},this);var X=new Q({collection:this.members,available:this.available,memberType:this.members.memberType});this.showChildView("list",X);var Z=new z.ValamisPaginatorShowMore({model:this.paginatorModel});this.showChildView("more",Z);var ab=new z.ValamisPaginatorShowing({model:this.paginatorModel});this.showChildView("showing",ab),this.fetch()},onDestroy:function(){this.members.off()},toggleLoading:function(Y,X){this.$(".js-loading-container").toggleClass("hidden",!Y),this.$(".js-info-label").toggleClass("hidden",Y||!X)},fetch:function(){this.paginatorModel.set({totalElements:0}),this.members.memberType=this.filter.get("memberType"),this.members.reset();var X=this.paginatorModel.get("currentPage")*this.paginatorModel.get("itemsOnPage");this.fetchMore(1,X)},fetchMore:function(ab,aa){var Y=this;this.toggleLoading(!0);var X=aa||this.paginatorModel.get("itemsOnPage"),Z=((ab||this.paginatorModel.get("currentPage"))-1)*X;this.members.fetch({data:{skip:Z,take:X,name:this.filter.get("searchtext"),sort:this.filter.get("sort")},add:!0,remove:!1,merge:!1}).then(function(){},function(){P["default"].channel("notify").trigger("notify","error","failedLabel"),Y.toggleLoading(!1)})},toggleHint:function(){var X=!this.available&&0==this.members.length&&this.filter.get("memberType")==E.memberType.user&&!this.filter.get("searchtext");this.ui.hintLayout.toggleClass("hidden",!X),this.ui.contentLayout.toggleClass("hidden",X)},addSelectedMembers:function(){var Y=this,Z=this.members.where({selected:!0});if(0==Z.length){return P["default"].channel("notify").trigger("notify","warning","noUsersSelectedLabel"),!1}var X=_.map(Z,function(aa){return aa.get("id")});this.options.path.set("userMembersCount",this.members.getMembersSum()),this.options.path.addMembers({},{memberType:this.members.memberType,selectedIds:X}).then(function(){Y.goBack()},function(){P["default"].channel("notify").trigger("notify","error","failedLabel")})},goBack:function(){this.triggerMethod("select:members:back")}});s["default"]=S}).call(s,u(11),u(33))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.s(x.f("available",A,z,1),A,z,0,14,205,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('<td class="narrow-col">'),B.b("\n"+y),B.b('    <input type="checkbox" id="'),B.b(B.v(B.f("cid",D,C,0))),B.b("_toggle_"),B.b(B.v(B.f("id",D,C,0))),B.b('" name="check" class="val-checkbox">'),B.b("\n"+y),B.b('    <label class="checkbox-label" for="'),B.b(B.v(B.f("cid",D,C,0))),B.b("_toggle_"),B.b(B.v(B.f("id",D,C,0))),B.b('"></label>'),B.b("\n"+y),B.b("</td>"),B.b("\n"+y)}),A.pop()),x.b('<td class="narrow-col">'),x.b("\n"+y),x.b('    <div class="portraits '),x.s(x.f("isGroup",A,z,1),A,z,0,282,287,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b("group")}),A.pop()),x.b('">'),x.b("\n"+y),x.s(x.f("logo",A,z,1),A,z,0,319,391,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('        <img class="img-circle" src="'),B.b(B.v(B.f("logo",D,C,0))),B.b('" alt="'),B.b(B.v(B.f("name",D,C,0))),B.b('">'),B.b("\n"+y)}),A.pop()),x.s(x.f("userPortraits",A,z,1),A,z,0,427,496,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('        <img class="img-circle" src="'),B.b(B.v(B.d(".",D,C,0))),B.b('" alt="'),B.b(B.v(B.f("name",D,C,0))),B.b('">'),B.b("\n"+y)}),A.pop()),x.b("    </div>"),x.b("\n"+y),x.b("</td>"),x.b("\n"+y),x.b("<td>"),x.b("\n"+y),x.b('    <div class="title">'),x.b(x.v(x.f("name",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b('    <div class="info">'),x.b(x.t(x.f("info",A,z,0))),x.b("</div>"),x.b("\n"+y),x.b("</td>"),x.b("\n"),x.b("\n"+y),x.s(x.f("available",A,z,1),A,z,1,0,0,"")||(x.s(x.f("isGroup",A,z,1),A,z,1,0,0,"")||(x.b('<td class="narrow-col text-right">'),x.b("\n"+y),x.b("    "),x.s(x.f("isInProgress",A,z,1),A,z,0,705,770,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('<span class="val-label">'),B.b(B.v(B.d("language.inProgressStatusLabel",D,C,0))),B.b("</span>")}),A.pop()),x.b("\n"+y),x.b("    "),x.s(x.f("isSucceed",A,z,1),A,z,0,806,876,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('<span class="val-label success">'),B.b(B.v(B.d("language.successStatusLabel",D,C,0))),B.b("</span>")}),A.pop()),x.b("\n"+y),x.b("    "),x.s(x.f("isFailed",A,z,1),A,z,0,908,976,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('<span class="val-label failed">'),B.b(B.v(B.d("language.failedStatusLabel",D,C,0))),B.b("</span>")}),A.pop()),x.b("\n"+y),x.b("    "),x.s(x.f("isExpired",A,z,1),A,z,0,1008,1077,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('<span class="val-label failed">'),B.b(B.v(B.d("language.expiredStatusLabel",D,C,0))),B.b("</span>")}),A.pop()),x.b("\n"+y),x.b("    "),x.s(x.f("isExpiring",A,z,1),A,z,0,1111,1185,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('<span class="val-label inprogress">'),B.b(B.v(B.d("language.expiringStatusLabel",D,C,0))),B.b("</span>")}),A.pop()),x.b("\n"+y),x.b("</td>"),x.b("\n"+y),x.b('<td class="narrow-col path-progress">'),x.b("\n"+y),x.b("    "),x.b(x.v(x.f("progressPercent",A,z,0))),x.b('<span class="val-percent-sign">%</span>'),x.b("\n"+y),x.b("</td>"),x.b("\n"+y)),x.b("\n"+y),x.b('<td class="narrow-col">'),x.b("\n"+y),x.b('    <button class="button medium simple danger no-text js-member-delete">'),x.b("\n"+y),x.b('        <span class="val-icon-trash"></span>'),x.b(x.v(x.d("language.deleteLabel",A,z,0))),x.b("\n"+y),x.b("    </button>"),x.b("\n"+y),x.b("</td>"),x.b("\n"+y)),x.fl()},partials:{},subs:{}},'{{#available}}\n<td class="narrow-col">\n    <input type="checkbox" id="{{cid}}_toggle_{{id}}" name="check" class="val-checkbox">\n    <label class="checkbox-label" for="{{cid}}_toggle_{{id}}"></label>\n</td>\n{{/available}}\n<td class="narrow-col">\n    <div class="portraits {{#isGroup}}group{{/isGroup}}">\n        {{#logo}}\n        <img class="img-circle" src="{{logo}}" alt="{{name}}">\n        {{/logo}}\n        {{#userPortraits}}\n        <img class="img-circle" src="{{.}}" alt="{{name}}">\n        {{/userPortraits}}\n    </div>\n</td>\n<td>\n    <div class="title">{{name}}</div>\n    <div class="info">{{{info}}}</div>\n</td>\n\n{{^available}}\n{{^isGroup}}\n<td class="narrow-col text-right">\n    {{#isInProgress}}<span class="val-label">{{language.inProgressStatusLabel}}</span>{{/isInProgress}}\n    {{#isSucceed}}<span class="val-label success">{{language.successStatusLabel}}</span>{{/isSucceed}}\n    {{#isFailed}}<span class="val-label failed">{{language.failedStatusLabel}}</span>{{/isFailed}}\n    {{#isExpired}}<span class="val-label failed">{{language.expiredStatusLabel}}</span>{{/isExpired}}\n    {{#isExpiring}}<span class="val-label inprogress">{{language.expiringStatusLabel}}</span>{{/isExpiring}}\n</td>\n<td class="narrow-col path-progress">\n    {{progressPercent}}<span class="val-percent-sign">%</span>\n</td>\n{{/isGroup}}\n\n<td class="narrow-col">\n    <button class="button medium simple danger no-text js-member-delete">\n        <span class="val-icon-trash"></span>{{language.deleteLabel}}\n    </button>\n</td>\n{{/available}}',t);return w.render.apply(w,arguments)}},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.s(x.f("available",A,z,1),A,z,1,0,0,"")||(x.b('<div class="tab-header-imitation"></div>'),x.b("\n"+y)),x.b("\n"+y),x.s(x.f("available",A,z,1),A,z,0,86,325,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('<div class="bbm-modal__topbar">'),B.b("\n"+y),B.b('    <button class="button medium simple js-back">'),B.b("\n"+y),B.b('        <span class="val-icon-arrow-left"></span>'),B.b("\n"+y),B.b("        "),B.b(B.v(B.d("language.backToLPLabel",D,C,0))),B.b("\n"+y),B.b("    </button>"),B.b("\n"+y),B.b('    <div class="modal-close val-icon-exit"></div>'),B.b("\n"+y),B.b("</div>"),B.b("\n"+y)}),A.pop()),x.b("\n"+y),x.b('<div class="js-content-layout">'),x.b("\n"+y),x.b('    <div id="viewToolbar"></div>'),x.b("\n"+y),x.b('    <div id="viewList" class="val-table-wrapper"></div>'),x.b("\n"+y),x.b('    <div class="loading-container js-loading-container"></div>'),x.b("\n"+y),x.b('    <label class="valamis-info-label shifted hidden js-info-label">'),x.b(x.v(x.d("language.emptyListLabel",A,z,0))),x.b("</label>"),x.b("\n"+y),x.b('    <div id="viewPaginatorMore" class="text-center"></div>'),x.b("\n"+y),x.b("</div>"),x.b("\n"),x.b("\n"+y),x.s(x.f("available",A,z,1),A,z,0,709,953,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('<div class="bbm-modal__bottombar">'),B.b("\n"+y),B.b('    <button class="button medium primary js-add-selected">'),B.b("\n"+y),B.b("        "),B.b(B.v(B.d("language.saveLabel",D,C,0))),B.b("\n"+y),B.b("    </button>"),B.b("\n"+y),B.b('    <button class="button medium simple js-back">'),B.b("\n"+y),B.b("        "),B.b(B.v(B.d("language.cancelLabel",D,C,0))),B.b("\n"+y),B.b("    </button>"),B.b("\n"+y),B.b("</div>"),B.b("\n"+y)}),A.pop()),x.b("\n"+y),x.s(x.f("available",A,z,1),A,z,1,0,0,"")||(x.b('<div id="viewNoMembers" class="hidden js-hint-layout"></div>'),x.b("\n"+y)),x.fl()},partials:{},subs:{}},'{{^available}}\n<div class="tab-header-imitation"></div>\n{{/available}}\n\n{{#available}}\n<div class="bbm-modal__topbar">\n    <button class="button medium simple js-back">\n        <span class="val-icon-arrow-left"></span>\n        {{language.backToLPLabel}}\n    </button>\n    <div class="modal-close val-icon-exit"></div>\n</div>\n{{/available}}\n\n<div class="js-content-layout">\n    <div id="viewToolbar"></div>\n    <div id="viewList" class="val-table-wrapper"></div>\n    <div class="loading-container js-loading-container"></div>\n    <label class="valamis-info-label shifted hidden js-info-label">{{language.emptyListLabel}}</label>\n    <div id="viewPaginatorMore" class="text-center"></div>\n</div>\n\n{{#available}}\n<div class="bbm-modal__bottombar">\n    <button class="button medium primary js-add-selected">\n        {{language.saveLabel}}\n    </button>\n    <button class="button medium simple js-back">\n        {{language.cancelLabel}}\n    </button>\n</div>\n{{/available}}\n\n{{^available}}\n<div id="viewNoMembers" class="hidden js-hint-layout"></div>\n{{/available}}',t);return w.render.apply(w,arguments)}},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="filters-row val-row filter-members">'),x.b("\n"+y),x.b('    <div class="side-layout">'),x.b("\n"+y),x.b('        <div class="dropdown js-dropdown js-member-type" data-value="user">'),x.b("\n"+y),x.b('            <button class="button medium neutral">'),x.b("\n"+y),x.b('                <span class="dropdown-text"></span>'),x.b("\n"+y),x.b('                <span class="val-icon-arrow-down val-icon-right"></span>'),x.b("\n"+y),x.b("            </button>"),x.b("\n"+y),x.b('            <ul class="dropdown-menu">'),x.b("\n"+y),x.s(x.f("membersType",A,z,1),A,z,0,424,499,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('                <li data-value="'),B.b(B.v(B.f("value",D,C,0))),B.b('">'),B.b(B.v(B.f("label",D,C,0))),B.b("</li>"),B.b("\n"+y)}),A.pop()),x.b("            </ul>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"),x.b("\n"+y),x.b('    <div class="side-layout hide-l">'),x.b("\n"+y),x.s(x.f("available",A,z,1),A,z,1,0,0,"")||(x.b('        <div class="dropdown actions shift-right js-dropdown js-add-members">'),x.b("\n"+y),x.b('            <button class="button medium primary">'),x.b("\n"+y),x.b('                <span class="dropdown-text"> '),x.b(x.v(x.d("language.addMemberLabel",A,z,0))),x.b(" </span>"),x.b("\n"+y),x.b('                <span class="val-icon-arrow-down-two val-icon-right"></span>'),x.b("\n"+y),x.b("            </button>"),x.b("\n"+y),x.b('            <ul class="dropdown-menu">'),x.b("\n"+y),x.s(x.f("addMembers",A,z,1),A,z,0,1000,1075,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('                <li data-value="'),B.b(B.v(B.f("value",D,C,0))),B.b('">'),B.b(B.v(B.f("label",D,C,0))),B.b("</li>"),B.b("\n"+y)}),A.pop()),x.b("            </ul>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y)),x.b("    </div>"),x.b("\n"),x.b("\n"+y),x.b('    <div class="center-layout text-center">'),x.b("\n"+y),x.b('        <div class="members-search val-search js-search">'),x.b("\n"+y),x.b('            <input type="text" placeholder="'),x.b(x.v(x.d("language.membersSearchPlaceholder",A,z,0))),x.b('">'),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"),x.b("\n"+y),x.b('    <div class="side-layout l-only">'),x.b("\n"+y),x.s(x.f("available",A,z,1),A,z,1,0,0,"")||(x.b('    <div class="dropdown actions shift-right js-dropdown js-add-members">'),x.b("\n"+y),x.b('        <button class="button medium primary">'),x.b("\n"+y),x.b('            <span class="dropdown-text"> '),x.b(x.v(x.d("language.addMemberLabel",A,z,0))),x.b(" </span>"),x.b("\n"+y),x.b('            <span class="val-icon-arrow-down-two val-icon-right"></span>'),x.b("\n"+y),x.b("        </button>"),x.b("\n"+y),x.b('        <ul class="dropdown-menu">'),x.b("\n"+y),x.s(x.f("addMembers",A,z,1),A,z,0,1779,1846,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('            <li data-value="'),B.b(B.v(B.f("value",D,C,0))),B.b('">'),B.b(B.v(B.f("label",D,C,0))),B.b("</li>"),B.b("\n"+y)}),A.pop()),x.b("        </ul>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y)),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"+y),x.b('<div class="filters-row val-row showing-row">'),x.b("\n"+y),x.b('    <div class="side-layout">'),x.b("\n"+y),x.s(x.f("available",A,z,1),A,z,0,2022,2205,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('        <input type="checkbox" id="'),B.b(B.v(B.f("cid",D,C,0))),B.b('_selectAll" name="check" class="val-checkbox js-select-all">'),B.b("\n"+y),B.b('        <label class="checkbox-label" for="'),B.b(B.v(B.f("cid",D,C,0))),B.b('_selectAll"></label>'),B.b("\n"+y)}),A.pop()),x.b("\n"+y),x.b('        <div id="viewPaginatorShowing" class="display-inline-block"></div>'),x.b("\n"),x.b("\n"+y),x.s(x.f("available",A,z,1),A,z,0,2319,2666,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('        <div class="js-selected-info display-inline-block hidden">'),B.b("\n"+y),B.b('            <span class="users-selected-label">'),B.b("\n"+y),B.b('                <span class="js-selected-amount"></span> '),B.b(B.v(B.d("language.usersSelectedLabel",D,C,0))),B.b("\n"+y),B.b("            </span>"),B.b("\n"+y),B.b('            - <span class="label-with-action js-deselect-all">'),B.b(B.v(B.d("language.deselectAllLabel",D,C,0))),B.b("</span>"),B.b("\n"+y),B.b("        </div>"),B.b("\n"+y)}),A.pop()),x.b("    </div>"),x.b("\n"+y),x.b('    <div class="side-layout text-right">'),x.b("\n"+y),x.b('        <div class="dropdown js-dropdown shift-right js-sort-filter" data-value="name">'),x.b("\n"+y),x.b('            <button class="button medium simple">'),x.b("\n"+y),x.b('                <span class="dropdown-text"> '),x.b(x.v(x.d("language.byNameAscLabel",A,z,0))),x.b(" </span>"),x.b("\n"+y),x.b('                <span class="val-icon-arrow-down val-icon-right"></span>'),x.b("\n"+y),x.b("            </button>"),x.b("\n"+y),x.b('            <ul class="dropdown-menu">'),x.b("\n"+y),x.b('                <li data-value="name" class="selected"> '),x.b(x.v(x.d("language.byNameAscLabel",A,z,0))),x.b(" </li>"),x.b("\n"+y),x.b('                <li data-value="-name"> '),x.b(x.v(x.d("language.byNameDescLabel",A,z,0))),x.b(" </li>"),x.b("\n"+y),x.b("            </ul>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="filters-row val-row filter-members">\n    <div class="side-layout">\n        <div class="dropdown js-dropdown js-member-type" data-value="user">\n            <button class="button medium neutral">\n                <span class="dropdown-text"></span>\n                <span class="val-icon-arrow-down val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                {{#membersType}}\n                <li data-value="{{value}}">{{label}}</li>\n                {{/membersType}}\n            </ul>\n        </div>\n    </div>\n\n    <div class="side-layout hide-l">\n        {{^available}}\n        <div class="dropdown actions shift-right js-dropdown js-add-members">\n            <button class="button medium primary">\n                <span class="dropdown-text"> {{language.addMemberLabel}} </span>\n                <span class="val-icon-arrow-down-two val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                {{#addMembers}}\n                <li data-value="{{value}}">{{label}}</li>\n                {{/addMembers}}\n            </ul>\n        </div>\n        {{/available}}\n    </div>\n\n    <div class="center-layout text-center">\n        <div class="members-search val-search js-search">\n            <input type="text" placeholder="{{language.membersSearchPlaceholder}}">\n        </div>\n    </div>\n\n    <div class="side-layout l-only">\n    {{^available}}\n    <div class="dropdown actions shift-right js-dropdown js-add-members">\n        <button class="button medium primary">\n            <span class="dropdown-text"> {{language.addMemberLabel}} </span>\n            <span class="val-icon-arrow-down-two val-icon-right"></span>\n        </button>\n        <ul class="dropdown-menu">\n            {{#addMembers}}\n            <li data-value="{{value}}">{{label}}</li>\n            {{/addMembers}}\n        </ul>\n    </div>\n    {{/available}}\n    </div>\n</div>\n<div class="filters-row val-row showing-row">\n    <div class="side-layout">\n        {{#available}}\n        <input type="checkbox" id="{{cid}}_selectAll" name="check" class="val-checkbox js-select-all">\n        <label class="checkbox-label" for="{{cid}}_selectAll"></label>\n        {{/available}}\n\n        <div id="viewPaginatorShowing" class="display-inline-block"></div>\n\n        {{#available}}\n        <div class="js-selected-info display-inline-block hidden">\n            <span class="users-selected-label">\n                <span class="js-selected-amount"></span> {{language.usersSelectedLabel}}\n            </span>\n            - <span class="label-with-action js-deselect-all">{{language.deselectAllLabel}}</span>\n        </div>\n        {{/available}}\n    </div>\n    <div class="side-layout text-right">\n        <div class="dropdown js-dropdown shift-right js-sort-filter" data-value="name">\n            <button class="button medium simple">\n                <span class="dropdown-text"> {{language.byNameAscLabel}} </span>\n                <span class="val-icon-arrow-down val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                <li data-value="name" class="selected"> {{language.byNameAscLabel}} </li>\n                <li data-value="-name"> {{language.byNameDescLabel}} </li>\n            </ul>\n        </div>\n    </div>\n</div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(C,y){function A(K){if(K&&K.__esModule){return K}var I={};if(null!=K){for(var J in K){Object.prototype.hasOwnProperty.call(K,J)&&(I[J]=K[J])}}return I["default"]=K,I}function H(I){return I&&I.__esModule?I:{"default":I}}Object.defineProperty(s,"__esModule",{value:!0});var w=u(158),x=H(w),G=u(10),v=H(G),F=u(58),E=A(F),z=u(57),D=H(z),B=C.View.extend({template:x["default"],templateContext:function(){var I=[],J=[];return _.each(E.memberType,function(K,L){I.push({value:L,label:v["default"].language[L+"MembersLabel"]}),J.push({value:L,label:v["default"].language[L+"AddLabel"]})}),{addMembers:J}},ui:{addMembers:".js-empty-add-members"},events:{"click @ui.addMembers li":"addMembers"},behaviors:[D["default"]],addMembers:function(J){var I=E.memberType[y(J.target).attr("data-value")];this.triggerMethod("add:member",I)}});s["default"]=B}).call(s,u(11),u(33))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="filters-row val-row filter-members">'),x.b("\n"+y),x.b('    <div class="side-layout shift-right">'),x.b("\n"+y),x.b('        <div class="dropdown actions shift-right js-dropdown js-empty-add-members">'),x.b("\n"+y),x.b('            <button class="button medium primary">'),x.b("\n"+y),x.b('                <span class="dropdown-text"> '),x.b(x.v(x.d("language.addMemberLabel",A,z,0))),x.b(" </span>"),x.b("\n"+y),x.b('                <span class="val-icon-arrow-down-two val-icon-right"></span>'),x.b("\n"+y),x.b("            </button>"),x.b("\n"+y),x.b('            <ul class="dropdown-menu">'),x.b("\n"+y),x.s(x.f("addMembers",A,z,1),A,z,0,476,551,"{{ }}")&&(x.rs(A,z,function(D,C,B){B.b('                <li data-value="'),B.b(B.v(B.f("value",D,C,0))),B.b('">'),B.b(B.v(B.f("label",D,C,0))),B.b("</li>"),B.b("\n"+y)}),A.pop()),x.b("            </ul>"),x.b("\n"+y),x.b("        </div>"),x.b("\n"+y),x.b("    </div>"),x.b("\n"+y),x.b("</div>"),x.b("\n"+y),x.b('<div class="target members">'),x.b(x.v(x.d("language.addMembersHint1Label",A,z,0))),x.b("<br/>"),x.b(x.v(x.d("language.addMembersHint2Label",A,z,0))),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="filters-row val-row filter-members">\n    <div class="side-layout shift-right">\n        <div class="dropdown actions shift-right js-dropdown js-empty-add-members">\n            <button class="button medium primary">\n                <span class="dropdown-text"> {{language.addMemberLabel}} </span>\n                <span class="val-icon-arrow-down-two val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                {{#addMembers}}\n                <li data-value="{{value}}">{{label}}</li>\n                {{/addMembers}}\n            </ul>\n        </div>\n    </div>\n</div>\n<div class="target members">{{language.addMembersHint1Label}}<br/>{{language.addMembersHint2Label}}</div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(E){function C(M){if(M&&M.__esModule){return M}var K={};if(null!=M){for(var L in M){Object.prototype.hasOwnProperty.call(M,L)&&(K[L]=M[L])}}return K["default"]=M,K}function J(K){return K&&K.__esModule?K:{"default":K}}Object.defineProperty(s,"__esModule",{value:!0});var y=u(160),v=J(y),B=u(154),F=J(B),I=u(10),w=J(I),H=u(58),G=C(H),A=u(81),x=J(A),D=E.View.extend({template:F["default"],tagName:"tr",templateContext:function(){var K=function(T){return'<span class="valamis-tooltip" data-placement="bottom" title="'+w["default"].language.memberAsPartOfGroupHintLabel+'">'+T+"</span>"},O=this.model,R=G.memberType,S={};S[R.organization]="organization",S[R.userGroup]="group",S[R.role]="role";var Q=O.get("membershipInfo"),L=_.map([R.organization,R.userGroup,R.role],function(T){return O.get(T).map(function(V){var U=_.filter(Q,function(W){return W.tpe===S[T]&&W.id===V.id});return U.length>0?K(V.name):V.name}).join(", ")});L=_.filter(L,function(T){return""!=T}).join(" • ");var N=this.model.get("status"),P=Math.round(100*(this.model.get("progress")||0)),M=G.statuses;return{cid:this.cid,info:L,progressPercent:P,isInProgress:N===M.inprogress,isSucceed:N===M.success,isFailed:N===M.failed,isExpired:N===M.expired,isExpiring:N===M.expiring}}}),z=E.View.extend({className:"user-progress",template:v["default"],regions:{info:".js-user-info",goals:".js-user-goals"},ui:{prevUser:".js-previous-user",nextUser:".js-next-user",back:".js-back"},events:{"click @ui.prevUser":"showForPrevUser","click @ui.nextUser":"showForNextUser","click @ui.back":"goBack"},onRender:function(){this.userIndex=this.options.userIndex||0,this.showProgress()},showForPrevUser:function(){this.userIndex>0&&(this.userIndex--,this.showProgress())},showForNextUser:function(){this.userIndex<this.options.members.length&&(this.userIndex++,this.showProgress())},showProgress:function(){var L=this.options.members.at(this.userIndex);if(L){this.ui.prevUser.prop("disabled",0==this.userIndex),this.ui.nextUser.prop("disabled",this.userIndex==this.options.members.length-1);var K=new D({model:L});this.showChildView("info",K);var M=new x["default"]({path:this.options.path,doAsAdmin:!1,versionId:L.get("statusVersionId"),userId:L.get("id")});this.showChildView("goals",M)}},goBack:function(){this.triggerMethod("user:progress:back")}});s["default"]=z}).call(s,u(11))},function(u,s,v){var t=v(42);u.exports=function(){var w=new t.Template({code:function(A,z,y){var x=this;return x.b(y=y||""),x.b('<div class="bbm-modal__topbar">'),x.b("\n"+y),x.b('    <button class="button medium simple js-back">'),x.b("\n"+y),x.b('        <span class="val-icon-arrow-left"></span>'),x.b("\n"+y),x.b("        "),x.b(x.v(x.d("language.backToMembersLabel",A,z,0))),x.b("\n"+y),x.b("    </button>"),x.b("\n"+y),x.b("</div>"),x.b("\n"+y),x.b('<div class="modal-corner">'),x.b("\n"+y),x.b('    <button class="button medium neutral no-text js-previous-user">'),x.b("\n"+y),x.b('        <span class="val-icon-arrow-left"></span>'),x.b(x.v(x.d("language.previousMemberLabel",A,z,0))),x.b("\n"+y),x.b("    </button>"),x.b("\n"+y),x.b('    <button class="button medium neutral no-text js-next-user">'),x.b("\n"+y),x.b('        <span class="val-icon-arrow-right"></span>'),x.b(x.v(x.d("language.nextMemberLabel",A,z,0))),x.b("\n"+y),x.b("    </button>"),x.b("\n"+y),x.b('    <div class="modal-close val-icon-exit"></div>'),x.b("\n"+y),x.b("</div>"),x.b("\n"+y),x.b("<div>"),x.b("\n"+y),x.b('    <table class="val-table js-user-info"></table>'),x.b("\n"+y),x.b('    <div class="preview-wrapper path-goals js-user-goals"></div>'),x.b("\n"+y),x.b("</div>"),x.fl()},partials:{},subs:{}},'<div class="bbm-modal__topbar">\n    <button class="button medium simple js-back">\n        <span class="val-icon-arrow-left"></span>\n        {{language.backToMembersLabel}}\n    </button>\n</div>\n<div class="modal-corner">\n    <button class="button medium neutral no-text js-previous-user">\n        <span class="val-icon-arrow-left"></span>{{language.previousMemberLabel}}\n    </button>\n    <button class="button medium neutral no-text js-next-user">\n        <span class="val-icon-arrow-right"></span>{{language.nextMemberLabel}}\n    </button>\n    <div class="modal-close val-icon-exit"></div>\n</div>\n<div>\n    <table class="val-table js-user-info"></table>\n    <div class="preview-wrapper path-goals js-user-goals"></div>\n</div>',t);return w.render.apply(w,arguments)}},function(t,s,u){(function(w){function x(A,y,z){A[y]||Object[v](A,y,{writable:!0,configurable:!0,value:z})}if(u(162),u(453),u(455),w._babelPolyfill){throw new Error("only one instance of babel-polyfill is allowed")}w._babelPolyfill=!0;var v="defineProperty";x(String.prototype,"padLeft","".padStart),x(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(y){[][y]&&x(Array,y,Function.call.bind([][y]))})}).call(s,function(){return this}())},function(t,s,u){u(163),u(212),u(213),u(214),u(215),u(217),u(220),u(221),u(222),u(223),u(224),u(225),u(226),u(227),u(228),u(230),u(232),u(234),u(236),u(239),u(240),u(241),u(245),u(247),u(249),u(252),u(253),u(254),u(255),u(257),u(258),u(259),u(260),u(261),u(262),u(263),u(265),u(266),u(267),u(269),u(270),u(271),u(273),u(274),u(275),u(276),u(277),u(278),u(279),u(280),u(281),u(282),u(283),u(284),u(285),u(286),u(291),u(292),u(296),u(297),u(298),u(299),u(301),u(302),u(303),u(304),u(305),u(306),u(307),u(308),u(309),u(310),u(311),u(312),u(313),u(314),u(315),u(316),u(317),u(319),u(320),u(326),u(327),u(329),u(330),u(331),u(335),u(336),u(337),u(338),u(339),u(341),u(342),u(343),u(344),u(347),u(349),u(350),u(351),u(353),u(355),u(357),u(358),u(359),u(361),u(362),u(363),u(364),u(371),u(374),u(375),u(377),u(378),u(381),u(382),u(384),u(385),u(386),u(387),u(388),u(389),u(390),u(391),u(392),u(393),u(394),u(395),u(396),u(397),u(398),u(399),u(400),u(401),u(402),u(404),u(405),u(406),u(407),u(408),u(409),u(411),u(412),u(413),u(414),u(415),u(416),u(417),u(418),u(420),u(421),u(423),u(424),u(425),u(426),u(429),u(430),u(431),u(432),u(433),u(434),u(435),u(436),u(438),u(439),u(440),u(441),u(442),u(443),u(444),u(445),u(446),u(447),u(448),u(451),u(452),t.exports=u(169)},function(u,ao,E){var s=E(164),x=E(165),K=E(166),v=E(168),au=E(178),W=E(182).KEY,ar=E(167),T=E(183),Y=E(184),z=E(179),w=E(185),av=E(186),aa=E(187),I=E(189),A=E(202),S=E(205),y=E(172),V=E(192),O=E(176),B=E(177),Q=E(206),aj=E(209),L=E(211),al=E(171),ae=E(190),H=L.f,X=al.f,D=aj.f,aq=s.Symbol,J=s.JSON,ai=J&&J.stringify,ak="prototype",ap=w("_hidden"),C=w("toPrimitive"),aw={}.propertyIsEnumerable,N=T("symbol-registry"),af=T("symbols"),ad=T("op-symbols"),t=Object[ak],M="function"==typeof aq,P=s.QObject,ag=!P||!P[ak]||!P[ak].findChild,ab=K&&ar(function(){return 7!=Q(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a})?function(aA,az,aB){var ay=H(t,az);ay&&delete t[az],X(aA,az,aB),ay&&aA!==t&&X(t,az,ay)}:X,am=function(ay){var az=af[ay]=Q(aq[ak]);return az._k=ay,az},F=M&&"symbol"==typeof aq.iterator?function(ay){return"symbol"==typeof ay}:function(ay){return ay instanceof aq},ah=function(az,ay,aA){return az===t&&ah(ad,ay,aA),y(az),ay=O(ay,!0),y(aA),x(af,ay)?(aA.enumerable?(x(az,ap)&&az[ap][ay]&&(az[ap][ay]=!1),aA=Q(aA,{enumerable:B(0,!1)})):(x(az,ap)||X(az,ap,B(1,{})),az[ap][ay]=!0),ab(az,ay,aA)):X(az,ay,aA)},ax=function(aB,aD){y(aB);for(var aA,aC=A(aD=V(aD)),az=0,ay=aC.length;ay>az;){ah(aB,aA=aC[az++],aD[aA])}return aB},G=function(ay,az){return void 0===az?Q(ay):ax(Q(ay),az)},U=function(ay){var az=aw.call(this,ay=O(ay,!0));return !(this===t&&x(af,ay)&&!x(ad,ay))&&(!(az||!x(this,ay)||!x(af,ay)||x(this,ap)&&this[ap][ay])||az)},Z=function(az,ay){if(az=V(az),ay=O(ay,!0),az!==t||!x(af,ay)||x(ad,ay)){var aA=H(az,ay);return !aA||!x(af,ay)||x(az,ap)&&az[ap][ay]||(aA.enumerable=!0),aA}},ac=function(aB){for(var aA,aC=D(V(aB)),ay=[],az=0;aC.length>az;){x(af,aA=aC[az++])||aA==ap||aA==W||ay.push(aA)}return ay},R=function(aB){for(var aA,aC=aB===t,aD=D(aC?ad:V(aB)),ay=[],az=0;aD.length>az;){!x(af,aA=aD[az++])||aC&&!x(t,aA)||ay.push(af[aA])}return ay};M||(aq=function(){if(this instanceof aq){throw TypeError("Symbol is not a constructor!")}var ay=z(arguments.length>0?arguments[0]:void 0),az=function(aA){this===t&&az.call(ad,aA),x(this,ap)&&x(this[ap],ay)&&(this[ap][ay]=!1),ab(this,ay,B(1,aA))};return K&&ag&&ab(t,ay,{configurable:!0,set:az}),am(ay)},au(aq[ak],"toString",function(){return this._k}),L.f=Z,al.f=ah,E(210).f=aj.f=ac,E(204).f=U,E(203).f=R,K&&!E(188)&&au(t,"propertyIsEnumerable",U,!0),av.f=function(ay){return am(w(ay))}),v(v.G+v.W+v.F*!M,{Symbol:aq});for(var an="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),at=0;an.length>at;){w(an[at++])}for(var an=ae(w.store),at=0;an.length>at;){aa(an[at++])}v(v.S+v.F*!M,"Symbol",{"for":function(ay){return x(N,ay+="")?N[ay]:N[ay]=aq(ay)},keyFor:function(ay){if(F(ay)){return I(N,ay)}throw TypeError(ay+" is not a symbol!")},useSetter:function(){ag=!0},useSimple:function(){ag=!1}}),v(v.S+v.F*!M,"Object",{create:G,defineProperty:ah,defineProperties:ax,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ac,getOwnPropertySymbols:R}),J&&v(v.S+v.F*(!M||ar(function(){var ay=aq();return"[null]"!=ai([ay])||"{}"!=ai({a:ay})||"{}"!=ai(Object(ay))})),"JSON",{stringify:function(aC){if(void 0!==aC&&!F(aC)){for(var aB,ay,az=[aC],aA=1;arguments.length>aA;){az.push(arguments[aA++])}return aB=az[1],"function"==typeof aB&&(ay=aB),!ay&&S(aB)||(aB=function(aD,aE){if(ay&&(aE=ay.call(this,aD,aE)),!F(aE)){return aE}}),az[1]=aB,ai.apply(J,az)}}}),aq[ak][C]||E(170)(aq[ak],C,aq[ak].valueOf),Y(aq,"Symbol"),Y(Math,"Math",!0),Y(s.JSON,"JSON",!0)},function(t,s){var u=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=u)},function(t,s){var u={}.hasOwnProperty;t.exports=function(w,v){return u.call(w,v)}},function(t,s,u){t.exports=!u(167)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,s){t.exports=function(u){try{return !!u()}catch(v){return !0}}},function(u,y,t){var s=t(164),v=t(169),z=t(170),A=t(178),B=t(180),x="prototype",w=function(O,E,C){var P,Q,L,H,D=O&w.F,G=O&w.G,K=O&w.S,F=O&w.P,J=O&w.B,M=G?s:K?s[E]||(s[E]={}):(s[E]||{})[x],I=G?v:v[E]||(v[E]={}),N=I[x]||(I[x]={});G&&(C=E);for(P in C){Q=!D&&M&&void 0!==M[P],L=(Q?M:C)[P],H=J&&Q?B(L,s):F&&"function"==typeof L?B(Function.call,L):L,M&&A(M,P,L,O&w.U),I[P]!=L&&z(I,P,H),F&&N[P]!=L&&(N[P]=L)}};s.core=v,w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,u.exports=w},function(u,t){var s=u.exports={version:"2.4.0"};"number"==typeof __e&&(__e=s)},function(u,t,v){var w=v(171),s=v(177);u.exports=v(166)?function(x,y,z){return w.f(x,y,s(1,z))}:function(x,y,z){return x[y]=z,x}},function(v,t,x){var s=x(172),w=x(174),u=x(176),y=Object.defineProperty;t.f=x(166)?Object.defineProperty:function(B,z,C){if(s(B),z=u(z,!0),s(C),w){try{return y(B,z,C)}catch(A){}}if("get" in C||"set" in C){throw TypeError("Accessors not supported!")}return"value" in C&&(B[z]=C.value),B}},function(u,t,v){var s=v(173);u.exports=function(w){if(!s(w)){throw TypeError(w+" is not an object!")}return w}},function(t,s){t.exports=function(u){return"object"==typeof u?null!==u:"function"==typeof u}},function(t,s,u){t.exports=!u(166)&&!u(167)(function(){return 7!=Object.defineProperty(u(175)("div"),"a",{get:function(){return 7}}).a})},function(v,u,x){var t=x(173),s=x(164).document,w=t(s)&&t(s.createElement);v.exports=function(y){return w?s.createElement(y):{}}},function(u,t,v){var s=v(173);u.exports=function(y,w){if(!s(y)){return y}var x,z;if(w&&"function"==typeof(x=y.toString)&&!s(z=x.call(y))){return z}if("function"==typeof(x=y.valueOf)&&!s(z=x.call(y))){return z}if(!w&&"function"==typeof(x=y.toString)&&!s(z=x.call(y))){return z}throw TypeError("Can't convert object to primitive value")}},function(t,s){t.exports=function(v,u){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:u}}},function(v,w,u){var t=u(164),x=u(170),A=u(165),z=u(179)("src"),B="toString",y=Function[B],s=(""+y).split(B);u(169).inspectSource=function(C){return y.call(C)},(v.exports=function(E,C,G,D){var F="function"==typeof G;F&&(A(G,"name")||x(G,"name",C)),E[C]!==G&&(F&&(A(G,z)||x(G,z,E[C]?""+E[C]:s.join(String(C)))),E===t?E[C]=G:D?E[C]?E[C]=G:x(E,C,G):(delete E[C],x(E,C,G)))})(Function.prototype,B,function(){return"function"==typeof this&&this[z]||y.call(this)})},function(u,s){var v=0,t=Math.random();u.exports=function(w){return"Symbol(".concat(void 0===w?"":w,")_",(++v+t).toString(36))}},function(u,t,v){var s=v(181);u.exports=function(w,y,x){if(s(w),void 0===y){return w}switch(x){case 1:return function(z){return w.call(y,z)};case 2:return function(A,z){return w.call(y,A,z)};case 3:return function(A,z,B){return w.call(y,A,z,B)}}return function(){return w.apply(y,arguments)}}},function(t,s){t.exports=function(u){if("function"!=typeof u){throw TypeError(u+" is not a function!")}return u}},function(w,x,v){var E=v(179)("meta"),G=v(173),D=v(165),t=v(171).f,u=0,C=Object.isExtensible||function(){return !0},B=!v(167)(function(){return C(Object.preventExtensions({}))}),y=function(H){t(H,E,{value:{i:"O"+ ++u,w:{}}})},A=function(I,H){if(!G(I)){return"symbol"==typeof I?I:("string"==typeof I?"S":"P")+I}if(!D(I,E)){if(!C(I)){return"F"}if(!H){return"E"}y(I)}return I[E].i},z=function(I,H){if(!D(I,E)){if(!C(I)){return !0}if(!H){return !1}y(I)}return I[E].w},s=function(H){return B&&F.NEED&&C(H)&&!D(H,E)&&y(H),H},F=w.exports={KEY:E,NEED:!1,fastKey:A,getWeak:z,onFreeze:s}},function(u,t,x){var v=x(164),w="__core-js_shared__",s=v[w]||(v[w]={});u.exports=function(y){return s[y]||(s[y]={})}},function(u,s,x){var v=x(171).f,t=x(165),w=x(185)("toStringTag");u.exports=function(A,y,z){A&&!t(A=z?A:A.prototype,w)&&v(A,w,{configurable:!0,value:y})}},function(v,t,y){var s=y(183)("wks"),u=y(179),w=y(164).Symbol,x="function"==typeof w,z=v.exports=function(A){return s[A]||(s[A]=x&&w[A]||(x?w:u)("Symbol."+A))};z.store=s},function(t,s,u){s.f=u(185)},function(v,u,z){var x=z(164),t=z(169),y=z(188),w=z(186),s=z(171).f;v.exports=function(A){var B=t.Symbol||(t.Symbol=y?{}:x.Symbol||{});"_"==A.charAt(0)||A in B||s(B,A,{value:w.f(A)})}},function(t,s){t.exports=!1},function(t,s,u){var w=u(190),v=u(192);t.exports=function(y,A){for(var z,D=v(y),C=w(D),B=C.length,x=0;B>x;){if(D[z=C[x++]]===A){return z}}}},function(u,t,w){var s=w(191),v=w(201);u.exports=Object.keys||function(x){return s(x,v)}},function(v,s,x){var t=x(165),y=x(192),w=x(196)(!1),u=x(200)("IE_PROTO");v.exports=function(A,E){var C,D=y(A),B=0,z=[];for(C in D){C!=u&&t(D,C)&&z.push(C)}for(;E.length>B;){t(D,C=E[B++])&&(~w(z,C)||z.push(C))}return z}},function(t,s,u){var w=u(193),v=u(195);t.exports=function(x){return w(v(x))}},function(t,s,u){var v=u(194);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(w){return"String"==v(w)?w.split(""):Object(w)}},function(t,s){var u={}.toString;t.exports=function(v){return u.call(v).slice(8,-1)}},function(t,s){t.exports=function(u){if(void 0==u){throw TypeError("Can't call method on  "+u)}return u}},function(u,t,w){var x=w(192),s=w(197),v=w(199);u.exports=function(y){return function(F,B,A){var D,E=x(F),C=s(E.length),z=v(A,C);if(y&&B!=B){for(;C>z;){if(D=E[z++],D!=D){return !0}}}else{for(;C>z;z++){if((y||z in E)&&E[z]===B){return y||z||0}}}return !y&&-1}}},function(v,t,w){var s=w(198),u=Math.min;v.exports=function(x){return x>0?u(s(x),9007199254740991):0}},function(t,s){var u=Math.ceil,v=Math.floor;t.exports=function(w){return isNaN(w=+w)?0:(w>0?v:u)(w)}},function(w,u,x){var t=x(198),s=Math.max,v=Math.min;w.exports=function(y,z){return y=t(y),y<0?s(y+z,0):v(y,z)}},function(u,s,w){var v=w(183)("keys"),t=w(179);u.exports=function(x){return v[x]||(v[x]=t(x))}},function(t,s){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(v,u,w){var x=w(190),s=w(203),t=w(204);v.exports=function(D){var y=x(D),C=s.f;if(C){for(var B,z=C(D),E=t.f,A=0;z.length>A;){E.call(D,B=z[A++])&&y.push(B)}}return y}},function(t,s){s.f=Object.getOwnPropertySymbols},function(t,s){s.f={}.propertyIsEnumerable},function(t,s,u){var v=u(194);t.exports=Array.isArray||function(w){return"Array"==v(w)}},function(t,w,s){var y=s(172),B=s(207),A=s(201),x=s(200)("IE_PROTO"),u=function(){},v="prototype",z=function(){var G,F=s(175)("iframe"),E=A.length,C="<",D=">";for(F.style.display="none",s(208).appendChild(F),F.src="javascript:",G=F.contentWindow.document,G.open(),G.write(C+"script"+D+"document.F=Object"+C+"/script"+D),G.close(),z=G.F;E--;){delete z[v][A[E]]}return z()};t.exports=Object.create||function(E,D){var C;return null!==E?(u[v]=y(E),C=new u(),u[v]=null,C[x]=E):C=z(),void 0===D?C:B(C,D)}},function(u,t,v){var w=v(171),s=v(172),x=v(190);u.exports=v(166)?Object.defineProperties:function(D,y){s(D);for(var C,B=x(y),A=B.length,z=0;A>z;){w.f(D,C=B[z++],y[C])}return D}},function(t,s,u){t.exports=u(164).document&&document.documentElement},function(t,s,x){var z=x(192),u=x(210).f,w={}.toString,v="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],y=function(A){try{return u(A)}catch(B){return v.slice()}};t.exports.f=function(A){return v&&"[object Window]"==w.call(A)?y(A):u(z(A))}},function(u,t,w){var s=w(191),v=w(201).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(x){return s(x,v)}},function(u,x,t){var B=t(204),v=t(177),w=t(192),z=t(176),A=t(165),s=t(174),y=Object.getOwnPropertyDescriptor;x.f=t(166)?y:function(E,C){if(E=w(E),C=z(C,!0),s){try{return y(E,C)}catch(D){}}if(A(E,C)){return v(!B.f.call(E,C),E[C])}}},function(t,s,u){var v=u(168);v(v.S,"Object",{create:u(206)})},function(t,s,u){var v=u(168);v(v.S+v.F*!u(166),"Object",{defineProperty:u(171).f})},function(t,s,u){var v=u(168);v(v.S+v.F*!u(166),"Object",{defineProperties:u(207)})},function(u,s,v){var w=v(192),t=v(211).f;v(216)("getOwnPropertyDescriptor",function(){return function(y,x){return t(w(y),x)}})},function(v,u,w){var x=w(168),t=w(169),s=w(167);v.exports=function(z,y){var A=(t.Object||{})[z]||Object[z],B={};B[z]=y(A),x(x.S+x.F*s(function(){A(1)}),"Object",B)}},function(t,s,v){var u=v(218),w=v(219);v(216)("getPrototypeOf",function(){return function(x){return w(u(x))}})},function(t,s,u){var v=u(195);t.exports=function(w){return Object(v(w))}},function(w,s,y){var t=y(165),x=y(218),v=y(200)("IE_PROTO"),u=Object.prototype;w.exports=Object.getPrototypeOf||function(z){return z=x(z),t(z,v)?z[v]:"function"==typeof z.constructor&&z instanceof z.constructor?z.constructor.prototype:z instanceof Object?u:null}},function(u,t,w){var v=w(218),s=w(190);w(216)("keys",function(){return function(x){return s(v(x))}})},function(t,s,u){u(216)("getOwnPropertyNames",function(){return u(209).f})},function(u,t,w){var s=w(173),v=w(182).onFreeze;w(216)("freeze",function(x){return function(y){return x&&s(y)?x(v(y)):y}})},function(u,t,w){var s=w(173),v=w(182).onFreeze;w(216)("seal",function(x){return function(y){return x&&s(y)?x(v(y)):y}})},function(u,t,w){var s=w(173),v=w(182).onFreeze;w(216)("preventExtensions",function(x){return function(y){return x&&s(y)?x(v(y)):y}})},function(u,t,v){var s=v(173);v(216)("isFrozen",function(w){return function(x){return !s(x)||!!w&&w(x)}})},function(u,t,v){var s=v(173);v(216)("isSealed",function(w){return function(x){return !s(x)||!!w&&w(x)}})},function(u,t,v){var s=v(173);v(216)("isExtensible",function(w){return function(x){return !!s(x)&&(!w||w(x))}})},function(t,s,u){var v=u(168);v(v.S+v.F,"Object",{assign:u(229)})},function(u,v,t){var y=t(190),x=t(203),z=t(204),A=t(218),s=t(193),w=Object.assign;u.exports=!w||t(167)(function(){var C={},F={},E=Symbol(),D="abcdefghijklmnopqrst";return C[E]=7,D.split("").forEach(function(B){F[B]=B}),7!=w({},C)[E]||Object.keys(w({},F)).join("")!=D})?function(I,B){for(var E=A(I),D=arguments.length,H=1,K=x.f,J=z.f;D>H;){for(var L,G=s(arguments[H++]),M=K?y(G).concat(K(G)):y(G),C=M.length,F=0;C>F;){J.call(G,L=M[F++])&&(E[L]=G[L])}}return E}:w},function(t,s,u){var v=u(168);v(v.S,"Object",{is:u(231)})},function(t,s){t.exports=Object.is||function(u,v){return u===v?0!==u||1/u===1/v:u!=u&&v!=v}},function(t,s,u){var v=u(168);v(v.S,"Object",{setPrototypeOf:u(233).set})},function(w,v,x){var s=x(173),u=x(172),t=function(z,y){if(u(z),!s(y)&&null!==y){throw TypeError(y+": can't set as prototype!")}};w.exports={set:Object.setPrototypeOf||("__proto__" in {}?function(B,z,A){try{A=x(180)(Function.call,x(211).f(Object.prototype,"__proto__").set,2),A(B,[]),z=!(B instanceof Array)}catch(y){z=!0}return function(D,C){return t(D,C),z?D.__proto__=C:A(D,C),D}}({},!1):void 0),check:t}},function(u,s,v){var t=v(235),w={};w[v(185)("toStringTag")]="z",w+""!="[object z]"&&v(178)(Object.prototype,"toString",function(){return"[object "+t(this)+"]"},!0)},function(t,s,x){var y=x(194),w=x(185)("toStringTag"),v="Arguments"==y(function(){return arguments}()),u=function(A,z){try{return A[z]}catch(B){}};t.exports=function(A){var C,z,D;return void 0===A?"Undefined":null===A?"Null":"string"==typeof(z=u(C=Object(A),w))?z:v?y(C):"Object"==(D=y(C))&&"function"==typeof C.callee?"Arguments":D}},function(t,s,u){var v=u(168);v(v.P,"Function",{bind:u(237)})},function(u,y,t){var v=t(181),A=t(173),x=t(238),s=[].slice,w={},z=function(E,B,C){if(!(B in w)){for(var G=[],D=0;D<B;D++){G[D]="a["+D+"]"}w[B]=Function("F,a","return new F("+G.join(",")+")")}return w[B](E,C)};u.exports=Function.bind||function(E){var D=v(this),B=s.call(arguments,1),C=function(){var F=B.concat(s.call(arguments));return this instanceof C?z(D,F.length,F):x(D,F,E)};return A(D.prototype)&&(C.prototype=D.prototype),C}},function(t,s){t.exports=function(w,v,x){var u=void 0===x;switch(v.length){case 0:return u?w():w.call(x);case 1:return u?w(v[0]):w.call(x,v[0]);case 2:return u?w(v[0],v[1]):w.call(x,v[0],v[1]);case 3:return u?w(v[0],v[1],v[2]):w.call(x,v[0],v[1],v[2]);case 4:return u?w(v[0],v[1],v[2],v[3]):w.call(x,v[0],v[1],v[2],v[3])}return w.apply(x,v)}},function(t,w,s){var y=s(171).f,u=s(177),A=s(165),x=Function.prototype,v=/^\s*function ([^ (]*)/,B="name",z=Object.isExtensible||function(){return !0};B in x||s(166)&&y(x,B,{configurable:!0,get:function(){try{var D=this,C=(""+D).match(v)[1];return A(D,B)||!z(D)||y(D,B,u(5,C)),C}catch(E){return""}}})},function(v,t,y){var s=y(173),w=y(219),x=y(185)("hasInstance"),u=Function.prototype;x in u||y(171).f(u,x,{value:function(z){if("function"!=typeof this||!s(z)){return !1}if(!s(this.prototype)){return z instanceof this}for(;z=w(z);){if(this.prototype===z){return !0}}return !1}})},function(t,s,v){var w=v(168),u=v(242);w(w.G+w.F*(parseInt!=u),{parseInt:u})},function(u,t,y){var x=y(164).parseInt,w=y(243).trim,s=y(244),v=/^[\-+]?0[xX]/;u.exports=8!==x(s+"08")||22!==x(s+"0x16")?function(B,A){var z=w(String(B),3);return x(z,A>>>0||(v.test(z)?16:10))}:x},function(w,B,v){var z=v(168),A=v(195),t=v(167),D=v(244),s="["+D+"]",C="",E=RegExp("^"+s+s+"*"),y=RegExp(s+s+"*$"),u=function(G,F,H){var K={},J=t(function(){return !!D[G]()||C[G]()!=C}),I=K[G]=J?F(x):D[G];H&&(K[H]=I),z(z.P+z.F*J,"String",K)},x=u.trim=function(F,G){return F=String(A(F)),1&G&&(F=F.replace(E,"")),2&G&&(F=F.replace(y,"")),F};w.exports=u},function(t,s){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(u,t,v){var w=v(168),s=v(246);w(w.G+w.F*(parseFloat!=s),{parseFloat:s})},function(u,t,w){var s=w(164).parseFloat,v=w(243).trim;u.exports=1/s(w(244)+"-0")!==-(1/0)?function(z){var y=v(String(z),3),x=s(y);return 0===x&&"-"==y.charAt(0)?-0:x}:s},function(t,M,v){var G=v(164),u=v(165),y=v(194),z=v(248),w=v(176),K=v(167),F=v(210).f,L=v(211).f,x=v(171).f,N=v(243).trim,D="Number",H=G[D],A=H,E=H.prototype,C=y(v(206)(E))==D,s="trim" in String.prototype,J=function(P){var U=w(P,!1);if("string"==typeof U&&U.length>2){U=s?U.trim():N(U,3);var W,X,Y,V=U.charCodeAt(0);if(43===V||45===V){if(W=U.charCodeAt(2),88===W||120===W){return NaN}}else{if(48===V){switch(U.charCodeAt(1)){case 66:case 98:X=2,Y=49;break;case 79:case 111:X=8,Y=55;break;default:return +U}for(var Q,R=U.slice(2),T=0,S=R.length;T<S;T++){if(Q=R.charCodeAt(T),Q<48||Q>Y){return NaN}}return parseInt(R,X)}}}return +U};if(!H(" 0o1")||!H("0b1")||H("+0x1")){H=function(R){var P=arguments.length<1?0:R,Q=this;return Q instanceof H&&(C?K(function(){E.valueOf.call(Q)}):y(Q)!=D)?z(new A(J(P)),Q,H):J(P)};for(var O,B=v(166)?F(A):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;B.length>I;I++){u(A,O=B[I])&&!u(H,O)&&x(H,O,L(A,O))}H.prototype=E,E.constructor=H,v(178)(G,D,H)}},function(u,t,v){var s=v(173),w=v(233).set;u.exports=function(y,A,B){var z,x=A.constructor;return x!==B&&"function"==typeof x&&(z=x.prototype)!==B.prototype&&s(z)&&w&&w(y,z),y}},function(v,B,u){var x=u(168),H=u(198),y=u(250),t=u(251),I=(1).toFixed,E=Math.floor,D=[0,0,0,0,0,0],A="Number.toFixed: incorrect invocation!",G="0",s=function(M,L){for(var K=-1,J=L;++K<6;){J+=M*D[K],D[K]=J%10000000,J=E(J/10000000)}},C=function(L){for(var J=6,K=0;--J>=0;){K+=D[J],D[J]=E(K/L),K=K%L*10000000}},w=function(){for(var K=6,L="";--K>=0;){if(""!==L||0===K||0!==D[K]){var J=String(D[K]);L=""===L?J:L+t.call(G,7-J.length)+J}}return L},F=function(J,L,K){return 0===L?K:L%2===1?F(J,L-1,K*J):F(J*J,L/2,K)},z=function(J){for(var L=0,K=J;K>=4096;){L+=12,K/=4096}for(;K>=2;){L+=1,K/=2}return L};x(x.P+x.F*(!!I&&("0.000"!==0.00008.toFixed(3)||"1"!==0.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(1000000000000000100).toFixed(0))||!u(167)(function(){I.call({})})),"Number",{toFixed:function(Q){var N,O,L,K,P=y(this,A),M=H(Q),R="",J=G;if(M<0||M>20){throw RangeError(A)}if(P!=P){return"NaN"}if(P<=-1e+21||P>=1e+21){return String(P)}if(P<0&&(R="-",P=-P),P>1e-21){if(N=z(P*F(2,69,1))-69,O=N<0?P*F(2,-N,1):P/F(2,N,1),O*=4503599627370496,N=52-N,N>0){for(s(0,O),L=M;L>=7;){s(10000000,0),L-=7}for(s(F(10,L,1),0),L=N-1;L>=23;){C(1<<23),L-=23}C(1<<L),s(1,1),C(2),J=w()}else{s(0,O),s(1<<-N,0),J=w()+t.call(G,M)}}return M>0?(K=J.length,J=R+(K<=M?"0."+t.call(G,M-K)+J:J.slice(0,K-M)+"."+J.slice(K-M))):J=R+J,J}})},function(t,s,u){var v=u(194);t.exports=function(w,x){if("number"!=typeof w&&"Number"!=v(w)){throw TypeError(x)}return +w}},function(u,t,v){var s=v(198),w=v(195);u.exports=function(y){var z=String(w(this)),x="",A=s(y);if(A<0||A==1/0){throw RangeError("Count can't be negative")}for(;A>0;(A>>>=1)&&(z+=z)){1&A&&(x+=z)}return x}},function(u,s,v){var y=v(168),w=v(167),t=v(250),x=(1).toPrecision;y(y.P+y.F*(w(function(){return"1"!==x.call(1,void 0)})||!w(function(){x.call({})})),"Number",{toPrecision:function(z){var A=t(this,"Number#toPrecision: incorrect invocation!");return void 0===z?x.call(A):x.call(A,z)}})},function(t,s,u){var v=u(168);v(v.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,s,v){var w=v(168),u=v(164).isFinite;w(w.S,"Number",{isFinite:function(x){return"number"==typeof x&&u(x)}})},function(t,s,u){var v=u(168);v(v.S,"Number",{isInteger:u(256)})},function(u,t,w){var s=w(173),v=Math.floor;u.exports=function(x){return !s(x)&&isFinite(x)&&v(x)===x}},function(t,s,u){var v=u(168);v(v.S,"Number",{isNaN:function(w){return w!=w}})},function(u,t,w){var x=w(168),v=w(256),s=Math.abs;x(x.S,"Number",{isSafeInteger:function(y){return v(y)&&s(y)<=9007199254740991}})},function(t,s,u){var v=u(168);v(v.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,s,u){var v=u(168);v(v.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(u,t,v){var w=v(168),s=v(246);w(w.S+w.F*(Number.parseFloat!=s),"Number",{parseFloat:s})},function(t,s,v){var w=v(168),u=v(242);w(w.S+w.F*(Number.parseInt!=u),"Number",{parseInt:u})},function(t,s,w){var y=w(168),x=w(264),v=Math.sqrt,u=Math.acosh;y(y.S+y.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(z){return(z=+z)<1?NaN:z>94906265.62425156?Math.log(z)+Math.LN2:x(z-1+v(z-1)*v(z+1))}})},function(t,s){t.exports=Math.log1p||function(u){return(u=+u)>-1e-8&&u<1e-8?u-u*u/2:Math.log(1+u)}},function(t,s,v){function w(y){return isFinite(y=+y)&&0!=y?y<0?-w(-y):Math.log(y+Math.sqrt(y*y+1)):y}var x=v(168),u=Math.asinh;x(x.S+x.F*!(u&&1/u(0)>0),"Math",{asinh:w})},function(u,t,v){var w=v(168),s=Math.atanh;w(w.S+w.F*!(s&&1/s(-0)<0),"Math",{atanh:function(y){return 0==(y=+y)?y:Math.log((1+y)/(1-y))/2}})},function(u,t,v){var w=v(168),s=v(268);w(w.S,"Math",{cbrt:function(y){return s(y=+y)*Math.pow(Math.abs(y),1/3)}})},function(t,s){t.exports=Math.sign||function(u){return 0==(u=+u)||u!=u?u:u<0?-1:1}},function(t,s,u){var v=u(168);v(v.S,"Math",{clz32:function(w){return(w>>>=0)?31-Math.floor(Math.log(w+0.5)*Math.LOG2E):32}})},function(t,s,u){var w=u(168),v=Math.exp;w(w.S,"Math",{cosh:function(y){return(v(y=+y)+v(-y))/2}})},function(t,s,v){var w=v(168),u=v(272);w(w.S+w.F*(u!=Math.expm1),"Math",{expm1:u})},function(t,s){var u=Math.expm1;t.exports=!u||u(10)>22025.465794806718||u(10)<22025.465794806718||u(-2e-17)!=-2e-17?function(v){return 0==(v=+v)?v:v>-0.000001&&v<0.000001?v+v*v/2:Math.exp(v)-1}:u},function(t,y,s){var x=s(168),u=s(268),A=Math.pow,w=A(2,-52),C=A(2,-23),z=A(2,127)*(2-C),v=A(2,-126),B=function(D){return D+1/w-1/w};x(x.S,"Math",{fround:function(E){var F,D,G=Math.abs(E),H=u(E);return G<v?H*B(G/v/C)*v*C:(F=(1+C/w)*G,D=F-(F-G),D>z||D!=D?H*(1/0):H*D)}})},function(u,t,v){var w=v(168),s=Math.abs;w(w.S,"Math",{hypot:function(A,y){for(var x,E,C=0,B=0,z=arguments.length,D=0;B<z;){x=s(arguments[B++]),D<x?(E=D/x,C=C*E*E+1,D=x):x>0?(E=x/D,C+=E*E):C+=x}return D===1/0?1/0:D*Math.sqrt(C)}})},function(t,s,v){var w=v(168),u=Math.imul;w(w.S+w.F*v(167)(function(){return u(4294967295,5)!=-5||2!=u.length}),"Math",{imul:function(z,F){var B=65535,C=+z,E=+F,D=B&C,A=B&E;return 0|D*A+((B&C>>>16)*A+D*(B&E>>>16)<<16>>>0)}})},function(t,s,u){var v=u(168);v(v.S,"Math",{log10:function(w){return Math.log(w)/Math.LN10}})},function(t,s,u){var v=u(168);v(v.S,"Math",{log1p:u(264)})},function(t,s,u){var v=u(168);v(v.S,"Math",{log2:function(w){return Math.log(w)/Math.LN2}})},function(t,s,u){var v=u(168);v(v.S,"Math",{sign:u(268)})},function(t,s,u){var x=u(168),w=u(272),v=Math.exp;x(x.S+x.F*u(167)(function(){return !Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(y){return Math.abs(y=+y)<1?(w(y)-w(-y))/2:(v(y-1)-v(-y-1))*(Math.E/2)}})},function(t,s,u){var x=u(168),w=u(272),v=Math.exp;x(x.S,"Math",{tanh:function(z){var A=w(z=+z),y=w(-z);return A==1/0?1:y==1/0?-1:(A-y)/(v(z)+v(-z))}})},function(t,s,u){var v=u(168);v(v.S,"Math",{trunc:function(w){return(w>0?Math.floor:Math.ceil)(w)}})},function(v,s,x){var y=x(168),w=x(199),u=String.fromCharCode,t=String.fromCodePoint;y(y.S+y.F*(!!t&&1!=t.length),"String",{fromCodePoint:function(z){for(var D,C=[],A=arguments.length,B=0;A>B;){if(D=+arguments[B++],w(D,1114111)!==D){throw RangeError(D+" is not a valid code point")}C.push(D<65536?u(D):u(((D-=65536)>>10)+55296,D%1024+56320))}return C.join("")}})},function(u,t,v){var x=v(168),w=v(192),s=v(197);x(x.S,"String",{raw:function(D){for(var A=w(D.raw),y=s(A.length),z=arguments.length,C=[],B=0;y>B;){C.push(String(A[B++])),B<z&&C.push(String(arguments[B]))}return C.join("")}})},function(t,s,u){u(243)("trim",function(v){return function(){return v(this,3)}})},function(t,s,u){var v=u(287)(!0);u(288)(String,"String",function(w){this._t=String(w),this._i=0},function(){var w,y=this._t,x=this._i;return x>=y.length?{value:void 0,done:!0}:(w=v(y,x),this._i+=w.length,{value:w,done:!1})})},function(u,t,v){var s=v(198),w=v(195);u.exports=function(x){return function(D,E){var A,y,C=String(w(D)),B=s(E),z=C.length;return B<0||B>=z?x?"":void 0:(A=C.charCodeAt(B),A<55296||A>56319||B+1===z||(y=C.charCodeAt(B+1))<56320||y>57343?x?C.charAt(B):A:x?C.slice(B,B+2):(A-55296<<10)+(y-56320)+65536)}}},function(s,I,v){var x=v(188),J=v(168),B=v(178),A=v(170),t=v(165),z=v(289),F=v(290),D=v(184),u=v(219),w=v(185)("iterator"),H=!([].keys&&"next" in [].keys()),y="@@iterator",G="keys",C="values",E=function(){return this};s.exports=function(R,O,P,U,X,W,ac){F(P,O,U);var Y,ab,S,L=function(ad){if(!H&&ad in T){return T[ad]}switch(ad){case G:return function(){return new P(this,ad)};case C:return function(){return new P(this,ad)}}return function(){return new P(this,ad)}},M=O+" Iterator",Q=X==C,aa=!1,T=R.prototype,Z=T[w]||T[y]||X&&T[X],N=Z||L(X),K=X?Q?L("entries"):N:void 0,V="Array"==O?T.entries||Z:Z;if(V&&(S=u(V.call(new R())),S!==Object.prototype&&(D(S,M,!0),x||t(S,w)||A(S,w,E))),Q&&Z&&Z.name!==C&&(aa=!0,N=function(){return Z.call(this)}),x&&!ac||!H&&!aa&&T[w]||A(T,w,N),z[O]=N,z[M]=E,X){if(Y={values:Q?N:L(C),keys:W?N:L(G),entries:K},ac){for(ab in Y){ab in T||B(T,ab,Y[ab])}}else{J(J.P+J.F*(H||aa),O,Y)}}return Y}},function(t,s){t.exports={}},function(w,t,y){var v=y(206),x=y(177),u=y(184),s={};y(170)(s,y(185)("iterator"),function(){return this}),w.exports=function(B,A,z){B.prototype=v(s,{next:x(1,z)}),u(B,A+" Iterator")}},function(t,s,u){var w=u(168),v=u(287)(!1);w(w.P,"String",{codePointAt:function(x){return v(this,x)}})},function(x,u,y){var z=y(168),t=y(197),w=y(293),v="endsWith",s=""[v];z(z.P+z.F*y(295)(v),"String",{endsWith:function(C){var F=w(this,C,v),E=arguments.length>1?arguments[1]:void 0,A=t(F.length),B=void 0===E?A:Math.min(t(E),A),D=String(C);return s?s.call(F,D,B):F.slice(B-D.length,B)===D}})},function(u,t,v){var s=v(294),w=v(195);u.exports=function(y,x,z){if(s(x)){throw TypeError("String#"+z+" doesn't accept regex!")}return String(w(y))}},function(v,t,w){var s=w(173),x=w(194),u=w(185)("match");v.exports=function(z){var y;return s(z)&&(void 0!==(y=z[u])?!!y:"RegExp"==x(z))}},function(u,s,v){var t=v(185)("match");u.exports=function(w){var x=/./;try{"/./"[w](x)}catch(z){try{return x[t]=!1,!"/./"[w](x)}catch(y){}}return !0}},function(v,t,w){var x=w(168),u=w(293),s="includes";x(x.P+x.F*w(295)(s),"String",{includes:function(y){return !!~u(this,y,s).indexOf(y,arguments.length>1?arguments[1]:void 0)}})},function(t,s,u){var v=u(168);v(v.P,"String",{repeat:u(251)})},function(w,t,x){var z=x(168),s=x(197),v=x(293),y="startsWith",u=""[y];z(z.P+z.F*x(295)(y),"String",{startsWith:function(B){var D=v(this,B,y),A=s(Math.min(arguments.length>1?arguments[1]:void 0,D.length)),C=String(B);return u?u.call(D,C,A):D.slice(A,A+C.length)===C}})},function(t,s,u){u(300)("anchor",function(v){return function(w){return v(this,"a","name",w)}})},function(w,u,x){var z=x(168),s=x(167),y=x(195),t=/"/g,v=function(B,A,D,E){var C=String(y(B)),F="<"+A;return""!==D&&(F+=" "+D+'="'+String(E).replace(t,"&quot;")+'"'),F+">"+C+"</"+A+">"};w.exports=function(C,A){var B={};B[C]=A(v),z(z.P+z.F*s(function(){var D=""[C]('"');return D!==D.toLowerCase()||D.split('"').length>3}),"String",B)}},function(t,s,u){u(300)("big",function(v){return function(){return v(this,"big","","")}})},function(t,s,u){u(300)("blink",function(v){return function(){return v(this,"blink","","")}})},function(t,s,u){u(300)("bold",function(v){return function(){return v(this,"b","","")}})},function(t,s,u){u(300)("fixed",function(v){return function(){return v(this,"tt","","")}})},function(t,s,u){u(300)("fontcolor",function(v){return function(w){return v(this,"font","color",w)}})},function(t,s,u){u(300)("fontsize",function(v){return function(w){return v(this,"font","size",w)}})},function(t,s,u){u(300)("italics",function(v){return function(){return v(this,"i","","")}})},function(t,s,u){u(300)("link",function(v){return function(w){return v(this,"a","href",w)}})},function(t,s,u){u(300)("small",function(v){return function(){return v(this,"small","","")}})},function(t,s,u){u(300)("strike",function(v){return function(){return v(this,"strike","","")}})},function(t,s,u){u(300)("sub",function(v){return function(){return v(this,"sub","","")}})},function(t,s,u){u(300)("sup",function(v){return function(){return v(this,"sup","","")}})},function(t,s,u){var v=u(168);v(v.S,"Date",{now:function(){return new Date().getTime()}})},function(u,s,w){var x=w(168),v=w(218),t=w(176);x(x.P+x.F*w(167)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(y){var A=v(this),z=t(A);return"number"!=typeof z||isFinite(z)?A.toISOString():null}})},function(v,u,x){var y=x(168),t=x(167),s=Date.prototype.getTime,w=function(z){return z>9?z:"0"+z};y(y.P+y.F*(t(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-50000000000000-1).toISOString()})||!t(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(s.call(this))){throw RangeError("Invalid time value")}var B=this,C=B.getUTCFullYear(),z=B.getUTCMilliseconds(),A=C<0?"-":C>9999?"+":"";return A+("00000"+Math.abs(C)).slice(A?-6:-4)+"-"+w(B.getUTCMonth()+1)+"-"+w(B.getUTCDate())+"T"+w(B.getUTCHours())+":"+w(B.getUTCMinutes())+":"+w(B.getUTCSeconds())+"."+(z>99?z:"0"+w(z))+"Z"}})},function(w,t,y){var u=Date.prototype,z="Invalid Date",x="toString",v=u[x],s=u.getTime;new Date(NaN)+""!=z&&y(178)(u,x,function(){var A=s.call(this);return A===A?v.call(this):z})},function(u,t,w){var s=w(185)("toPrimitive"),v=Date.prototype;s in v||w(170)(v,s,w(318))},function(v,t,x){var s=x(172),u=x(176),w="number";v.exports=function(y){if("string"!==y&&y!==w&&"default"!==y){throw TypeError("Incorrect hint")}return u(s(this),y!=w)}},function(t,s,u){var v=u(168);v(v.S,"Array",{isArray:u(205)})},function(t,v,s){var z=s(180),u=s(168),B=s(218),C=s(321),w=s(322),y=s(197),x=s(323),A=s(324);u(u.S+u.F*!s(325)(function(D){Array.from(D)}),"Array",{from:function(N){var F,P,G,K,M=B(N),E="function"==typeof this?this:Array,I=arguments.length,H=I>1?arguments[1]:void 0,D=void 0!==H,L=0,J=A(M);if(D&&(H=z(H,I>2?arguments[2]:void 0,2)),void 0==J||E==Array&&w(J)){for(F=y(M.length),P=new E(F);F>L;L++){x(P,L,D?H(M[L],L):M[L])}}else{for(K=J.call(M),P=new E();!(G=K.next()).done;L++){x(P,L,D?C(K,H,[G.value,L],!0):G.value)}}return P.length=L,P}})},function(u,t,v){var s=v(172);u.exports=function(z,y,A,w){try{return w?y(s(A)[0],A[1]):y(A)}catch(B){var x=z["return"];throw void 0!==x&&s(x.call(z)),B}}},function(v,u,x){var w=x(289),t=x(185)("iterator"),s=Array.prototype;v.exports=function(y){return void 0!==y&&(w.Array===y||s[t]===y)}},function(v,t,w){var u=w(171),s=w(177);v.exports=function(y,x,z){x in y?u.f(y,x,s(0,z)):y[x]=z}},function(v,t,x){var u=x(235),s=x(185)("iterator"),w=x(289);v.exports=x(169).getIteratorMethod=function(y){if(void 0!=y){return y[s]||y["@@iterator"]||w[u(y)]}}},function(w,t,y){var s=y(185)("iterator"),v=!1;try{var u=[7][s]();u["return"]=function(){v=!0},Array.from(u,function(){throw 2})}catch(x){}w.exports=function(B,C){if(!C&&!v){return !1}var D=!1;try{var z=[7],A=z[s]();A.next=function(){return{done:D=!0}},z[s]=function(){return A},B(z)}catch(E){}return D}},function(t,s,v){var w=v(168),u=v(323);w(w.S+w.F*v(167)(function(){function x(){}return !(Array.of.call(x) instanceof x)}),"Array",{of:function(){for(var z=0,y=arguments.length,x=new ("function"==typeof this?this:Array)(y);y>z;){u(x,z,arguments[z++])}return x.length=y,x}})},function(u,t,v){var x=v(168),w=v(192),s=[].join;x(x.P+x.F*(v(193)!=Object||!v(328)(s)),"Array",{join:function(y){return s.call(w(this),void 0===y?",":y)}})},function(u,t,v){var s=v(167);u.exports=function(x,w){return !!x&&s(function(){w?x.call(null,function(){},1):x.call(null)})}},function(u,x,t){var v=t(168),z=t(208),y=t(194),w=t(199),A=t(197),s=[].slice;v(v.P+v.F*t(167)(function(){z&&s.call(z)}),"Array",{slice:function(C,D){var G=A(this.length),H=y(this);if(D=void 0===D?G:D,"Array"==H){return s.call(this,C,D)}for(var B=w(C,G),I=w(D,G),J=A(I-B),F=Array(J),E=0;E<J;E++){F[E]="String"==H?this.charAt(B+E):this[B+E]}return F}})},function(u,y,t){var x=t(168),v=t(181),A=t(218),s=t(167),w=[].sort,z=[1,2,3];x(x.P+x.F*(s(function(){z.sort(void 0)})||!s(function(){z.sort(null)})||!t(328)(w)),"Array",{sort:function(B){return void 0===B?w.call(A(this)):w.call(A(this),v(B))}})},function(u,t,w){var x=w(168),v=w(332)(0),s=w(328)([].forEach,!0);x(x.P+x.F*!s,"Array",{forEach:function(y){return v(this,y,arguments[1])}})},function(v,u,y){var t=y(180),z=y(193),x=y(218),s=y(197),w=y(333);v.exports=function(I,A){var C=1==I,E=2==I,H=3==I,D=4==I,G=6==I,B=5==I||G,F=A||w;return function(S,L,Q){for(var K,R,N=x(S),T=z(N),P=t(L,Q,3),J=s(T.length),M=0,U=C?F(S,J):E?F(S,0):void 0;J>M;M++){if((B||M in T)&&(K=T[M],R=P(K,M,N),I)){if(C){U[M]=R}else{if(R){switch(I){case 3:return !0;case 5:return K;case 6:return M;case 2:U.push(K)}}else{if(D){return !1}}}}}return G?-1:H||D?D:U}}},function(t,s,v){var u=v(334);t.exports=function(w,x){return new (u(w))(x)}},function(v,u,w){var s=w(173),t=w(205),x=w(185)("species");v.exports=function(y){var z;return t(y)&&(z=y.constructor,"function"!=typeof z||z!==Array&&!t(z.prototype)||(z=void 0),s(z)&&(z=z[x],null===z&&(z=void 0))),void 0===z?Array:z}},function(t,s,u){var w=u(168),v=u(332)(1);w(w.P+w.F*!u(328)([].map,!0),"Array",{map:function(x){return v(this,x,arguments[1])}})},function(t,s,v){var w=v(168),u=v(332)(2);w(w.P+w.F*!v(328)([].filter,!0),"Array",{filter:function(x){return u(this,x,arguments[1])}})},function(t,s,v){var w=v(168),u=v(332)(3);w(w.P+w.F*!v(328)([].some,!0),"Array",{some:function(x){return u(this,x,arguments[1])}})},function(t,s,v){var w=v(168),u=v(332)(4);w(w.P+w.F*!v(328)([].every,!0),"Array",{every:function(x){return u(this,x,arguments[1])}})},function(u,t,v){var w=v(168),s=v(340);w(w.P+w.F*!v(328)([].reduce,!0),"Array",{reduce:function(x){return s(this,x,arguments.length,arguments[1],!1)}})},function(v,u,x){var t=x(181),w=x(218),y=x(193),s=x(197);v.exports=function(F,C,A,H,G){t(C);var E=w(F),I=y(E),z=s(E.length),D=G?z-1:0,B=G?-1:1;if(A<2){for(;;){if(D in I){H=I[D],D+=B;break}if(D+=B,G?D<0:z<=D){throw TypeError("Reduce of empty array with no initial value")}}}for(;G?D>=0:z>D;D+=B){D in I&&(H=C(H,I[D],D,E))}return H}},function(u,t,v){var w=v(168),s=v(340);w(w.P+w.F*!v(328)([].reduceRight,!0),"Array",{reduceRight:function(x){return s(this,x,arguments.length,arguments[1],!0)}})},function(u,s,w){var y=w(168),t=w(196)(!1),v=[].indexOf,x=!!v&&1/[1].indexOf(1,-0)<0;y(y.P+y.F*(x||!w(328)(v)),"Array",{indexOf:function(z){return x?v.apply(this,arguments)||0:t(this,z,arguments[1])}})},function(u,x,t){var w=t(168),v=t(192),y=t(198),z=t(197),A=[].lastIndexOf,s=!!A&&1/[1].lastIndexOf(1,-0)<0;w(w.P+w.F*(s||!t(328)(A)),"Array",{lastIndexOf:function(C){if(s){return A.apply(this,arguments)||0}var E=v(this),D=z(E.length),B=D-1;for(arguments.length>1&&(B=Math.min(B,y(arguments[1]))),B<0&&(B=D+B);B>=0;B--){if(B in E&&E[B]===C){return B||0}}return -1}})},function(t,s,u){var v=u(168);v(v.P,"Array",{copyWithin:u(345)}),u(346)("copyWithin")},function(u,t,x){var w=x(218),v=x(199),s=x(197);u.exports=[].copyWithin||function(E,y){var B=w(this),D=s(B.length),F=v(E,D),G=v(y,D),A=arguments.length>2?arguments[2]:void 0,C=Math.min((void 0===A?D:v(A,D))-G,D-F),z=1;for(G<F&&F<G+C&&(z=-1,G+=C-1,F+=C-1);C-->0;){G in B?B[F]=B[G]:delete B[F],F+=z,G+=z}return B}},function(u,t,v){var w=v(185)("unscopables"),s=Array.prototype;void 0==s[w]&&v(170)(s,w,{}),u.exports=function(x){s[w][x]=!0}},function(t,s,u){var v=u(168);v(v.P,"Array",{fill:u(348)}),u(346)("fill")},function(u,t,x){var w=x(218),v=x(199),s=x(197);u.exports=function(D){for(var E=w(this),C=s(E.length),z=arguments.length,B=v(z>1?arguments[1]:void 0,C),y=z>2?arguments[2]:void 0,A=void 0===y?C:v(y,C);A>B;){E[B++]=D}return E}},function(u,t,x){var y=x(168),v=x(332)(5),s="find",w=!0;s in []&&Array(1)[s](function(){w=!1}),y(y.P+y.F*w,"Array",{find:function(z){return v(this,z,arguments.length>1?arguments[1]:void 0)}}),x(346)(s)},function(u,t,x){var y=x(168),v=x(332)(6),s="findIndex",w=!0;s in []&&Array(1)[s](function(){w=!1}),y(y.P+y.F*w,"Array",{findIndex:function(z){return v(this,z,arguments.length>1?arguments[1]:void 0)}}),x(346)(s)},function(t,s,u){u(352)("Array")},function(u,t,w){var v=w(164),x=w(171),s=w(166),y=w(185)("species");u.exports=function(z){var A=v[z];s&&A&&!A[y]&&x.f(A,y,{configurable:!0,get:function(){return this}})}},function(t,s,x){var w=x(346),v=x(354),u=x(289),y=x(192);t.exports=x(288)(Array,"Array",function(A,z){this._t=y(A),this._i=0,this._k=z},function(){var B=this._t,A=this._k,z=this._i++;return !B||z>=B.length?(this._t=void 0,v(1)):"keys"==A?v(0,z):"values"==A?v(0,B[z]):v(0,[z,B[z]])},"values"),u.Arguments=u.Array,w("keys"),w("values"),w("entries")},function(t,s){t.exports=function(u,v){return{value:v,done:!!u}}},function(s,J,t){var D=t(164),y=t(248),u=t(171).f,C=t(210).f,G=t(294),I=t(356),v=D.RegExp,z=v,B=v.prototype,x=/a/g,w=/a/g,H=new v(x)!==x;if(t(166)&&(!H||t(167)(function(){return w[t(185)("match")]=!1,v(x)!=x||v(w)==w||"/a/i"!=v(x,"i")}))){v=function(N,L){var M=this instanceof v,O=G(N),K=void 0===L;return !M&&O&&N.constructor===v&&K?N:y(H?new z(O&&!K?N.source:N,L):z((O=N instanceof v)?N.source:N,O&&K?I.call(N):L),M?this:B,v)};for(var F=(function(K){K in v||u(v,K,{configurable:!0,get:function(){return z[K]},set:function(L){z[K]=L}})}),A=C(z),E=0;A.length>E;){F(A[E++])}B.constructor=v,v.prototype=B,t(178)(D,"RegExp",v)}t(352)("RegExp")},function(u,t,v){var s=v(172);u.exports=function(){var x=s(this),w="";return x.global&&(w+="g"),x.ignoreCase&&(w+="i"),x.multiline&&(w+="m"),x.unicode&&(w+="u"),x.sticky&&(w+="y"),w}},function(u,v,t){t(358);var z=t(172),s=t(356),x=t(166),A="toString",y=/./[A],w=function(B){t(178)(RegExp.prototype,A,B,!0)};t(167)(function(){return"/a/b"!=y.call({source:"a",flags:"b"})})?w(function(){var B=z(this);return"/".concat(B.source,"/","flags" in B?B.flags:!x&&B instanceof RegExp?s.call(B):void 0)}):y.name!=A&&w(function(){return y.call(this)})},function(t,s,u){u(166)&&"g"!=/./g.flags&&u(171).f(RegExp.prototype,"flags",{configurable:!0,get:u(356)})},function(t,s,u){u(360)("match",1,function(x,w,v){return[function(z){var A=x(this),y=void 0==z?void 0:z[w];return void 0!==y?y.call(z,A):new RegExp(z)[w](String(A))},v]})},function(v,t,x){var u=x(170),z=x(178),s=x(167),y=x(195),w=x(185);v.exports=function(C,F,B){var E=w(C),D=B(y,E,""[C]),A=D[0],G=D[1];s(function(){var H={};return H[E]=function(){return 7},7!=""[C](H)})&&(z(String.prototype,C,A),u(RegExp.prototype,E,2==F?function(I,H){return G.call(I,this,H)}:function(H){return G.call(H,this)}))}},function(t,s,u){u(360)("replace",2,function(w,x,v){return[function(A,y){var B=w(this),z=void 0==A?void 0:A[x];return void 0!==z?z.call(A,B,y):v.call(String(B),A,y)},v]})},function(t,s,u){u(360)("search",1,function(x,v,w){return[function(z){var A=x(this),y=void 0==z?void 0:z[v];return void 0!==y?y.call(z,A):new RegExp(z)[v](String(A))},w]})},function(t,s,u){u(360)("split",2,function(y,A,D){var w=u(294),E=D,B=[].push,z="split",v="length",x="lastIndex";if("c"=="abbc"[z](/(b)*/)[1]||4!="test"[z](/(?:)/,-1)[v]||2!="ab"[z](/(?:ab)*/)[v]||4!="."[z](/(.?)(.?)/)[v]||"."[z](/()()/)[v]>1||""[z](/.?/)[v]){var C=void 0===/()??/.exec("")[1];D=function(M,J){var P=String(this);if(void 0===M&&0===J){return[]}if(!w(M)){return E.call(P,M,J)}var G,N,O,Q,L,I=[],H=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.unicode?"u":"")+(M.sticky?"y":""),F=0,R=void 0===J?4294967295:J>>>0,K=new RegExp(M.source,H+"g");for(C||(G=new RegExp("^"+K.source+"$(?!\\s)",H));(N=K.exec(P))&&(O=N.index+N[0][v],!(O>F&&(I.push(P.slice(F,N.index)),!C&&N[v]>1&&N[0].replace(G,function(){for(L=1;L<arguments[v]-2;L++){void 0===arguments[L]&&(N[L]=void 0)}}),N[v]>1&&N.index<P[v]&&B.apply(I,N.slice(1)),Q=N[0][v],F=O,I[v]>=R)));){K[x]===N.index&&K[x]++}return F===P[v]?!Q&&K.test("")||I.push(""):I.push(P.slice(F)),I[v]>R?I.slice(0,R):I}}else{"0"[z](void 0,0)[v]&&(D=function(G,F){return void 0===G&&0===F?[]:E.call(this,G,F)})}return[function(I,F){var H=y(this),G=void 0==I?void 0:I[A];return void 0!==G?G.call(I,H,F):D.call(String(H),I,F)},D]})},function(v,U,z){var K,P,H,B=z(188),t=z(164),I=z(180),u=z(235),w=z(168),R=z(173),V=z(181),F=z(365),M=z(366),O=z(367),Q=z(368).set,x=z(369)(),C="Promise",Z=t.TypeError,Y=t.process,J=t[C],Y=t.process,y="process"==u(Y),s=function(){},G=!!function(){try{var ae=J.resolve(1),ac=(ae.constructor={})[z(185)("species")]=function(af){af(s,s)};return(y||"function"==typeof PromiseRejectionEvent)&&ae.then(s) instanceof ac}catch(ad){}}(),ab=function(ad,ac){return ad===ac||ad===J&&ac===H},T=function(ac){var ad;return !(!R(ac)||"function"!=typeof(ad=ac.then))&&ad},aa=function(ac){return ab(J,ac)?new S(ac):new P(ac)},S=P=function(ae){var ad,ac;this.promise=new ae(function(af,ag){if(void 0!==ad||void 0!==ac){throw Z("Bad Promise constructor")}ad=af,ac=ag}),this.resolve=V(ad),this.reject=V(ac)},W=function(ac){try{ac()}catch(ad){return{error:ad}}},D=function(ae,ad){if(!ae._n){ae._n=!0;var ac=ae._c;x(function(){for(var ah=ae._v,ag=1==ae._s,af=0,ai=function(ao){var aj,aq,ak=ag?ao.ok:ao.fail,an=ao.resolve,am=ao.reject,al=ao.domain;try{ak?(ag||(2==ae._h&&N(ae),ae._h=1),ak===!0?aj=ah:(al&&al.enter(),aj=ak(ah),al&&al.exit()),aj===ao.promise?am(Z("Promise-chain cycle")):(aq=T(aj))?aq.call(aj,an,am):an(aj)):am(ah)}catch(ap){am(ap)}};ac.length>af;){ai(ac[af++])}ae._c=[],ae._n=!1,ad&&!ae._h&&X(ae)})}},X=function(ac){Q.call(t,function(){var ag,ae,ad,af=ac._v;if(E(ac)&&(ag=W(function(){y?Y.emit("unhandledRejection",af,ac):(ae=t.onunhandledrejection)?ae({promise:ac,reason:af}):(ad=t.console)&&ad.error&&ad.error("Unhandled promise rejection",af)}),ac._h=y||E(ac)?2:1),ac._a=void 0,ag){throw ag.error}})},E=function(af){if(1==af._h){return !1}for(var ae,ad=af._a||af._c,ac=0;ad.length>ac;){if(ae=ad[ac++],ae.fail||!E(ae.promise)){return !1}}return !0},N=function(ac){Q.call(t,function(){var ad;y?Y.emit("rejectionHandled",ac):(ad=t.onrejectionhandled)&&ad({promise:ac,reason:ac._v})})},L=function(ac){var ad=this;ad._d||(ad._d=!0,ad=ad._w||ad,ad._v=ac,ad._s=2,ad._a||(ad._a=ad._c.slice()),D(ad,!0))},A=function(ac){var af,ae=this;if(!ae._d){ae._d=!0,ae=ae._w||ae;try{if(ae===ac){throw Z("Promise can't be resolved itself")}(af=T(ac))?x(function(){var ah={_w:ae,_d:!1};try{af.call(ac,I(A,ah,1),I(L,ah,1))}catch(ag){L.call(ah,ag)}}):(ae._v=ac,ae._s=1,D(ae,!1))}catch(ad){L.call({_w:ae,_d:!1},ad)}}};G||(J=function(ad){F(this,J,C,"_h"),V(ad),K.call(this);try{ad(I(A,this,1),I(L,this,1))}catch(ac){L.call(this,ac)}},K=function(ac){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},K.prototype=z(370)(J.prototype,{then:function(ae,ac){var ad=aa(O(this,J));return ad.ok="function"!=typeof ae||ae,ad.fail="function"==typeof ac&&ac,ad.domain=y?Y.domain:void 0,this._c.push(ad),this._a&&this._a.push(ad),this._s&&D(this,!1),ad.promise},"catch":function(ac){return this.then(void 0,ac)}}),S=function(){var ac=new K();this.promise=ac,this.resolve=I(A,ac,1),this.reject=I(L,ac,1)}),w(w.G+w.W+w.F*!G,{Promise:J}),z(184)(J,C),z(352)(C),H=z(169)[C],w(w.S+w.F*!G,C,{reject:function(ad){var ac=aa(this),ae=ac.reject;return ae(ad),ac.promise}}),w(w.S+w.F*(B||!G),C,{resolve:function(ac){if(ac instanceof J&&ab(ac.constructor,this)){return ac}var ae=aa(this),ad=ae.resolve;return ad(ac),ae.promise}}),w(w.S+w.F*!(G&&z(325)(function(ac){J.all(ac)["catch"](s)})),C,{all:function(af){var ag=this,ac=aa(ag),ae=ac.resolve,ad=ac.reject,ah=W(function(){var ai=[],aj=0,ak=1;M(af,!1,function(an){var al=aj++,am=!1;ai.push(void 0),ak++,ag.resolve(an).then(function(ao){am||(am=!0,ai[al]=ao,--ak||ae(ai))},ad)}),--ak||ae(ai)});return ah&&ad(ah.error),ac.promise},race:function(ae){var af=this,ac=aa(af),ad=ac.reject,ag=W(function(){M(ae,!1,function(ah){af.resolve(ah).then(ac.resolve,ad)})});return ag&&ad(ag.error),ac.promise}})},function(t,s){t.exports=function(w,x,u,v){if(!(w instanceof x)||void 0!==v&&v in w){throw TypeError(u+": incorrect invocation!")}return w}},function(t,u,s){var z=s(180),C=s(321),v=s(322),w=s(172),x=s(197),B=s(324),A={},y={},u=t.exports=function(D,I,N,L,M){var E,F,H,O,G=M?function(){return D}:B(D),K=z(N,L,I?2:1),J=0;if("function"!=typeof G){throw TypeError(D+" is not iterable!")}if(v(G)){for(E=x(D.length);E>J;J++){if(O=I?K(w(F=D[J])[0],F[1]):K(D[J]),O===A||O===y){return O}}}else{for(H=G.call(D);!(F=H.next()).done;){if(O=C(H,K,F.value,I),O===A||O===y){return O}}}};u.BREAK=A,u.RETURN=y},function(v,u,w){var s=w(172),t=w(181),x=w(185)("species");v.exports=function(A,z){var y,B=s(A).constructor;return void 0===B||void 0==(y=s(B)[x])?z:t(y)}},function(u,J,v){var w,L,y,D=v(180),K=v(238),A=v(208),H=v(175),F=v(164),C=F.process,t=F.setImmediate,G=F.clearImmediate,s=F.MessageChannel,z=0,E={},I="onreadystatechange",B=function(){var N=+this;if(E.hasOwnProperty(N)){var M=E[N];delete E[N],M()}},x=function(M){B.call(M.data)};t&&G||(t=function(O){for(var M=[],N=1;arguments.length>N;){M.push(arguments[N++])}return E[++z]=function(){K("function"==typeof O?O:Function(O),M)},w(z),z},G=function(M){delete E[M]},"process"==v(194)(C)?w=function(M){C.nextTick(D(B,M,1))}:s?(L=new s(),y=L.port2,L.port1.onmessage=x,w=D(y.postMessage,y,1)):F.addEventListener&&"function"==typeof postMessage&&!F.importScripts?(w=function(M){F.postMessage(M+"","*")},F.addEventListener("message",x,!1)):w=I in H("script")?function(M){A.appendChild(H("script"))[I]=function(){A.removeChild(this),B.call(M)}}:function(M){setTimeout(D(B,M,1),0)}),u.exports={set:t,clear:G}},function(v,x,u){var t=u(164),A=u(368).set,w=t.MutationObserver||t.WebKitMutationObserver,s=t.process,y=t.Promise,z="process"==u(194)(s);v.exports=function(){var E,G,D,C=function(){var J,I;for(z&&(J=s.domain)&&J.exit();E;){I=E.fn,E=E.next;try{I()}catch(K){throw E?D():G=void 0,K}}G=void 0,J&&J.enter()};if(z){D=function(){s.nextTick(C)}}else{if(w){var B=!0,F=document.createTextNode("");new w(C).observe(F,{characterData:!0}),D=function(){F.data=B=!B}}else{if(y&&y.resolve){var H=y.resolve();D=function(){H.then(C)}}else{D=function(){A.call(t,C)}}}}return function(J){var I={fn:J,next:void 0};G&&(G.next=I),E||(E=I,D()),G=I}}},function(t,s,u){var v=u(178);t.exports=function(y,z,x){for(var w in z){v(y,w,z[w],x)}return y}},function(u,t,v){var s=v(372);u.exports=v(373)("Map",function(w){return function(){return w(this,arguments.length>0?arguments[0]:void 0)}},{get:function(w){var x=s.getEntry(this,w);return x&&x.v},set:function(w,x){return s.def(this,0===w?0:w,x)}},s,!0)},function(v,A,u){var F=u(171).f,B=u(206),x=u(370),I=u(180),H=u(365),y=u(195),s=u(366),t=u(288),w=u(354),D=u(352),C=u(166),E=u(182).fastKey,G=C?"_s":"size",z=function(M,K){var L,J=E(K);if("F"!==J){return M._i[J]}for(L=M._f;L;L=L.n){if(L.k==K){return L}}};v.exports={getConstructor:function(N,L,K,J){var M=N(function(O,P){H(O,M,L,"_i"),O._i=B(null),O._f=void 0,O._l=void 0,O[G]=0,void 0!=P&&s(P,K,O[J],O)});return x(M.prototype,{clear:function(){for(var P=this,Q=P._i,O=P._f;O;O=O.n){O.r=!0,O.p&&(O.p=O.p.n=void 0),delete Q[O.i]}P._f=P._l=void 0,P[G]=0},"delete":function(O){var S=this,R=z(S,O);if(R){var P=R.n,Q=R.p;delete S._i[R.i],R.r=!0,Q&&(Q.n=P),P&&(P.p=Q),S._f==R&&(S._f=P),S._l==R&&(S._l=Q),S[G]--}return !!R},forEach:function(O){H(this,M,"forEach");for(var P,Q=I(O,arguments.length>1?arguments[1]:void 0,3);P=P?P.n:this._f;){for(Q(P.v,P.k,this);P&&P.r;){P=P.p}}},has:function(O){return !!z(this,O)}}),C&&F(M.prototype,"size",{get:function(){return y(this[G])}}),M},def:function(N,K,O){var M,J,L=z(N,K);return L?L.v=O:(N._l=L={i:J=E(K,!0),k:K,v:O,p:M=N._l,n:void 0,r:!1},N._f||(N._f=L),M&&(M.n=L),N[G]++,"F"!==J&&(N._i[J]=L)),N},getEntry:z,setStrong:function(L,K,J){t(L,K,function(N,M){this._t=N,this._k=M,this._l=void 0},function(){for(var O=this,M=O._k,N=O._l;N&&N.r;){N=N.p}return O._t&&(O._l=N=N?N.n:O._t._f)?"keys"==M?w(0,N.k):"values"==M?w(0,N.v):w(0,[N.k,N.v]):(O._t=void 0,w(1))},J?"entries":"values",!J,!0),D(K)}}},function(w,z,v){var u=v(164),y=v(168),B=v(178),x=v(370),G=v(182),s=v(366),E=v(365),F=v(173),t=v(167),C=v(325),A=v(184),D=v(248);w.exports=function(Y,H,P,U,K,N){var S=u[Y],I=S,W=K?"set":"add",R=I&&I.prototype,T={},V=function(O){var Z=R[O];B(R,O,"delete"==O?function(aa){return !(N&&!F(aa))&&Z.call(this,0===aa?0:aa)}:"has"==O?function(aa){return !(N&&!F(aa))&&Z.call(this,0===aa?0:aa)}:"get"==O?function(aa){return N&&!F(aa)?void 0:Z.call(this,0===aa?0:aa)}:"add"==O?function(aa){return Z.call(this,0===aa?0:aa),this}:function(ab,aa){return Z.call(this,0===ab?0:ab,aa),this})};if("function"==typeof I&&(N||R.forEach&&!t(function(){new I().entries().next()}))){var X=new I(),Q=X[W](N?{}:-0,1)!=X,J=t(function(){X.has(1)}),L=C(function(O){new I(O)}),M=!N&&t(function(){for(var Z=new I(),O=5;O--;){Z[W](O,O)}return !Z.has(-0)});L||(I=H(function(aa,Z){E(aa,I,Y);var O=D(new S(),aa,I);return void 0!=Z&&s(Z,K,O[W],O),O}),I.prototype=R,R.constructor=I),(J||M)&&(V("delete"),V("has"),K&&V("get")),(M||Q)&&V(W),N&&R.clear&&delete R.clear}else{I=U.getConstructor(H,Y,K,W),x(I.prototype,P),G.NEED=!0}return A(I,Y),T[Y]=I,y(y.G+y.W+y.F*(I!=S),T),N||U.setStrong(I,Y,K),I}},function(u,t,v){var s=v(372);u.exports=v(373)("Set",function(w){return function(){return w(this,arguments.length>0?arguments[0]:void 0)}},{add:function(w){return s.def(this,w=0===w?0:w,w)}},s)},function(w,y,v){var u,E=v(332)(0),D=v(178),H=v(182),I=v(229),C=v(376),G=v(173),B=H.getWeak,F=Object.isExtensible,s=C.ufstore,z={},t=function(J){return function(){return J(this,arguments.length>0?arguments[0]:void 0)}},x={get:function(J){if(G(J)){var K=B(J);return K===!0?s(this).get(J):K?K[this._i]:void 0}},set:function(J,K){return C.def(this,J,K)}},A=w.exports=v(373)("WeakMap",t,x,C,!0,!0);7!=new A().set((Object.freeze||Object)(z),7).get(z)&&(u=C.getConstructor(t),I(u.prototype,x),H.NEED=!0,E(["delete","has","get","set"],function(J){var K=A.prototype,L=K[J];D(K,J,function(O,N){if(G(O)&&!F(O)){this._f||(this._f=new u());var M=this._f[J](O,N);return"set"==J?this:M}return L.call(this,O,N)})}))},function(x,z,w){var y=w(370),B=w(182).getWeak,G=w(172),I=w(173),H=w(365),t=w(366),u=w(332),A=w(165),D=u(5),F=u(6),v=0,s=function(J){return J._l||(J._l=new E())},E=function(){this.a=[]},C=function(J,K){return D(J.a,function(L){return L[0]===K})};E.prototype={get:function(J){var K=C(this,J);if(K){return K[1]}},has:function(J){return !!C(this,J)},set:function(J,L){var K=C(this,J);K?K[1]=L:this.a.push([J,L])},"delete":function(K){var J=F(this.a,function(L){return L[0]===K});return ~J&&this.a.splice(J,1),!!~J}},x.exports={getConstructor:function(N,L,K,J){var M=N(function(O,P){H(O,M,L,"_i"),O._i=v++,O._l=void 0,void 0!=P&&t(P,K,O[J],O)});return y(M.prototype,{"delete":function(O){if(!I(O)){return !1}var P=B(O);return P===!0?s(this)["delete"](O):P&&A(P,this._i)&&delete P[this._i]},has:function(O){if(!I(O)){return !1}var P=B(O);return P===!0?s(this).has(O):P&&A(P,this._i)}}),M},def:function(K,J,M){var L=B(G(J),!0);return L===!0?s(K).set(J,M):L[K._i]=M,K},ufstore:s}},function(t,s,v){var u=v(376);v(373)("WeakSet",function(w){return function(){return w(this,arguments.length>0?arguments[0]:void 0)}},{add:function(w){return u.def(this,w,!0)}},u,!1,!0)},function(s,I,t){var J=t(168),y=t(379),E=t(380),F=t(172),C=t(199),H=t(197),A=t(173),u=t(164).ArrayBuffer,z=t(367),B=E.ArrayBuffer,x=E.DataView,D=y.ABV&&u.isView,w=B.prototype.slice,G=y.VIEW,v="ArrayBuffer";J(J.G+J.W+J.F*(u!==B),{ArrayBuffer:B}),J(J.S+J.F*!y.CONSTR,v,{isView:function(K){return D&&D(K)||A(K)&&G in K}}),J(J.P+J.U+J.F*t(167)(function(){return !new B(2).slice(1,void 0).byteLength}),v,{slice:function(K,N){if(void 0!==w&&void 0===N){return w.call(F(this),K)}for(var Q=F(this).byteLength,O=C(K,Q),R=C(void 0===N?Q:N,Q),S=new (z(this,B))(H(R-O)),M=new x(this),L=new x(S),P=0;O<R;){L.setUint8(P++,M.getUint8(O++))}return S}}),t(352)(v)},function(u,w,t){for(var F,s=t(164),A=t(170),B=t(179),E=B("typed_array"),C=B("view"),z=!(!s.ArrayBuffer||!s.DataView),y=z,x=0,v=9,D="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");x<v;){(F=s[D[x++]])?(A(F.prototype,E,!0),A(F.prototype,C,!0)):y=!1}u.exports={ABV:z,CONSTR:y,TYPED:E,VIEW:C}},function(z,ao,J){var u=J(164),S=J(166),O=J(188),Y=J(379),ap=J(170),F=J(370),Q=J(167),R=J(365),aj=J(198),L=J(197),I=J(210).f,Z=J(171).f,ah=J(348),ab=J(184),an="ArrayBuffer",N="DataView",am="prototype",y="Wrong length!",ak="Wrong index!",aq=u[an],E=u[N],W=u.Math,ag=u.RangeError,al=u.Infinity,M=aq,ae=W.abs,ad=W.pow,C=W.floor,G=W.log,K=W.LN2,t="buffer",ai="byteLength",x="byteOffset",B=S?"_b":t,v=S?"_l":ai,U=S?"_o":x,af=function(aJ,az,aG){var aH,aB,aI,aD=Array(aG),aA=8*aG-az-1,aF=(1<<aA)-1,ay=aF>>1,aC=23===az?ad(2,-24)-ad(2,-77):0,aE=0,aK=aJ<0||0===aJ&&1/aJ<0?1:0;for(aJ=ae(aJ),aJ!=aJ||aJ===al?(aB=aJ!=aJ?1:0,aH=aF):(aH=C(G(aJ)/K),aJ*(aI=ad(2,-aH))<1&&(aH--,aI*=2),aJ+=aH+ay>=1?aC/aI:aC*ad(2,1-ay),aJ*aI>=2&&(aH++,aI/=2),aH+ay>=aF?(aB=0,aH=aF):aH+ay>=1?(aB=(aJ*aI-1)*ad(2,az),aH+=ay):(aB=aJ*ad(2,ay-1)*ad(2,az),aH=0));az>=8;aD[aE++]=255&aB,aB/=256,az-=8){}for(aH=aH<<az|aB,aA+=az;aA>0;aD[aE++]=255&aH,aH/=256,aA-=8){}return aD[--aE]|=128*aK,aD},aw=function(aC,az,aF){var aB,aA=8*aF-az-1,aE=(1<<aA)-1,ay=aE>>1,aH=aA-7,aD=aF-1,aI=aC[aD--],aG=127&aI;for(aI>>=7;aH>0;aG=256*aG+aC[aD],aD--,aH-=8){}for(aB=aG&(1<<-aH)-1,aG>>=-aH,aH+=az;aH>0;aB=256*aB+aC[aD],aD--,aH-=8){}if(0===aG){aG=1-ay}else{if(aG===aE){return aB?NaN:aI?-al:al}aB+=ad(2,az),aG-=ay}return(aI?-1:1)*aB*ad(2,aG-az)},s=function(ay){return ay[3]<<24|ay[2]<<16|ay[1]<<8|ay[0]},A=function(ay){return[255&ay]},D=function(ay){return[255&ay,ay>>8&255]},ac=function(ay){return[255&ay,ay>>8&255,ay>>16&255,ay>>24&255]},av=function(ay){return af(ay,52,8)},au=function(ay){return af(ay,23,4)},V=function(aA,az,ay){Z(aA[am],az,{get:function(){return this[ay]}})},at=function(aC,aG,aA,az){var aB=+aA,aE=aj(aB);if(aB!=aE||aE<0||aE+aG>aC[v]){throw ag(ak)}var aF=aC[B]._b,ay=aE+aC[U],aD=aF.slice(ay,ay+aG);return az?aD:aD.reverse()},X=function(aE,aJ,aC,az,aH,aB){var aD=+aC,aI=aj(aD);if(aD!=aI||aI<0||aI+aJ>aE[v]){throw ag(ak)}for(var aG=aE[B]._b,ay=aI+aE[U],aF=az(+aH),aA=0;aA<aJ;aA++){aG[ay+aA]=aF[aB?aA:aJ-aA-1]}},ax=function(aA,az){R(aA,aq,an);var aB=+az,ay=L(aB);if(aB!=ay){throw ag(y)}return ay};if(Y.ABV){if(!Q(function(){new aq()})||!Q(function(){new aq(0.5)})){aq=function(ay){return new M(ax(this,ay))};for(var T,H=aq[am]=M[am],aa=I(M),ar=0;aa.length>ar;){(T=aa[ar++]) in aq||ap(aq,T,M[T])}O||(H.constructor=aq)}var w=new E(new aq(2)),P=E[am].setInt8;w.setInt8(0,2147483648),w.setInt8(1,2147483649),!w.getInt8(0)&&w.getInt8(1)||F(E[am],{setInt8:function(ay,az){P.call(this,ay,az<<24>>24)},setUint8:function(ay,az){P.call(this,ay,az<<24>>24)}},!0)}else{aq=function(az){var ay=ax(this,az);this._b=ah.call(Array(ay),0),this[v]=ay},E=function(ay,aB,az){R(this,E,N),R(ay,aq,N);var aA=ay[v],aC=aj(aB);if(aC<0||aC>aA){throw ag("Wrong offset!")}if(az=void 0===az?aA-aC:L(az),aC+az>aA){throw ag(y)}this[B]=ay,this[U]=aC,this[v]=az},S&&(V(aq,ai,"_l"),V(E,t,"_b"),V(E,ai,"_l"),V(E,x,"_o")),F(E[am],{getInt8:function(ay){return at(this,1,ay)[0]<<24>>24},getUint8:function(ay){return at(this,1,ay)[0]},getInt16:function(az){var ay=at(this,2,az,arguments[1]);return(ay[1]<<8|ay[0])<<16>>16},getUint16:function(az){var ay=at(this,2,az,arguments[1]);return ay[1]<<8|ay[0]},getInt32:function(ay){return s(at(this,4,ay,arguments[1]))},getUint32:function(ay){return s(at(this,4,ay,arguments[1]))>>>0},getFloat32:function(ay){return aw(at(this,4,ay,arguments[1]),23,4)},getFloat64:function(ay){return aw(at(this,8,ay,arguments[1]),52,8)},setInt8:function(ay,az){X(this,1,ay,A,az)},setUint8:function(ay,az){X(this,1,ay,A,az)},setInt16:function(ay,az){X(this,2,ay,D,az,arguments[2])},setUint16:function(ay,az){X(this,2,ay,D,az,arguments[2])},setInt32:function(ay,az){X(this,4,ay,ac,az,arguments[2])},setUint32:function(ay,az){X(this,4,ay,ac,az,arguments[2])},setFloat32:function(ay,az){X(this,4,ay,au,az,arguments[2])},setFloat64:function(ay,az){X(this,8,ay,av,az,arguments[2])}})}ab(aq,an),ab(E,N),ap(E[am],Y.VIEW,!0),ao[an]=aq,ao[N]=E},function(t,s,u){var v=u(168);v(v.G+v.W+v.F*!u(379).ABV,{DataView:u(380).DataView})},function(t,s,u){u(383)("Int8",1,function(v){return function(y,w,x){return v(this,y,w,x)}})},function(bc,au,a2){if(a2(166)){var aN=a2(188),M=a2(164),a5=a2(167),u=a2(168),ay=a2(379),S=a2(380),ap=a2(180),a6=a2(365),ax=a2(177),aI=a2(170),an=a2(370),aY=a2(198),aj=a2(197),aC=a2(199),aS=a2(176),ak=a2(165),aP=a2(231),aO=a2(235),X=a2(173),x=a2(218),O=a2(322),F=a2(206),L=a2(219),aZ=a2(210).f,ac=a2(324),aQ=a2(179),V=a2(185),al=a2(332),a8=a2(196),N=a2(367),aw=a2(353),K=a2(289),aK=a2(325),H=a2(352),w=a2(348),aF=a2(345),am=a2(171),P=a2(211),ad=am.f,a3=P.f,U=M.RangeError,ag=M.TypeError,ah=M.Uint8Array,aH="ArrayBuffer",bf="Shared"+aH,aW="BYTES_PER_ELEMENT",a7="prototype",aD=Array[a7],ae=S.ArrayBuffer,v=S.DataView,a0=al(0),bg=al(2),y=al(3),R=al(4),aV=al(5),Q=al(6),a1=a8(!0),G=a8(!1),be=aw.values,D=aw.keys,z=aw.entries,A=aD.lastIndexOf,aU=aD.reduce,a4=aD.reduceRight,av=aD.join,J=aD.sort,aR=aD.slice,I=aD.toString,aX=aD.toLocaleString,T=V("iterator"),ar=V("toStringTag"),aM=aQ("typed_constructor"),ao=aQ("def_constructor"),af=ay.CONSTR,bb=ay.TYPED,W=ay.VIEW,ai="Wrong length!",E=al(1,function(bi,bh){return B(N(bi,bi[ao]),bh)}),ba=a5(function(){return 1===new ah(new Uint16Array([1]).buffer)[0]}),az=!!ah&&!!ah[a7].set&&a5(function(){new ah(1).set({})}),aB=function(bi,bh){if(void 0===bi){throw ag(ai)}var bk=+bi,bj=aj(bi);if(bh&&!aP(bk,bj)){throw U(ai)}return bj},at=function(bi,bh){var bj=aY(bi);if(bj<0||bj%bh){throw U("Wrong offset!")}return bj},s=function(bh){if(X(bh)&&bb in bh){return bh}throw ag(bh+" is not a typed array!")},B=function(bi,bh){if(!(X(bi)&&aM in bi)){throw ag("It is not a typed array constructor!")}return new bi(bh)},aE=function(bi,bh){return aq(N(bi,bi[ao]),bh)},aq=function(bl,bk){for(var bi=0,bj=bk.length,bh=B(bl,bj);bj>bi;){bh[bi]=bk[bi++]}return bh},aT=function(bj,bi,bh){ad(bj,bi,{get:function(){return this._d[bh]}})},aL=function(bi){var bo,bj,br,bs,bk,bp,bq=x(bi),bm=arguments.length,bl=bm>1?arguments[1]:void 0,bh=void 0!==bl,bn=ac(bq);if(void 0!=bn&&!O(bn)){for(bp=bn.call(bq),br=[],bo=0;!(bk=bp.next()).done;bo++){br.push(bk.value)}bq=br}for(bh&&bm>2&&(bl=ap(bl,arguments[2],2)),bo=0,bj=aj(bq.length),bs=B(this,bj);bj>bo;bo++){bs[bo]=bh?bl(bq[bo],bo):bq[bo]}return bs},Y=function(){for(var bi=0,bj=arguments.length,bh=B(this,bj);bj>bi;){bh[bi]=arguments[bi++]}return bh},C=!!ah&&a5(function(){aX.call(new ah(1))}),aa=function(){return aX.apply(C?aR.call(s(this)):s(this),arguments)},bd={copyWithin:function(bh,bi){return aF.call(s(this),bh,bi,arguments.length>2?arguments[2]:void 0)},every:function(bh){return R(s(this),bh,arguments.length>1?arguments[1]:void 0)},fill:function(bh){return w.apply(s(this),arguments)},filter:function(bh){return aE(this,bg(s(this),bh,arguments.length>1?arguments[1]:void 0))},find:function(bh){return aV(s(this),bh,arguments.length>1?arguments[1]:void 0)},findIndex:function(bh){return Q(s(this),bh,arguments.length>1?arguments[1]:void 0)},forEach:function(bh){a0(s(this),bh,arguments.length>1?arguments[1]:void 0)},indexOf:function(bh){return G(s(this),bh,arguments.length>1?arguments[1]:void 0)},includes:function(bh){return a1(s(this),bh,arguments.length>1?arguments[1]:void 0)},join:function(bh){return av.apply(s(this),arguments)},lastIndexOf:function(bh){return A.apply(s(this),arguments)},map:function(bh){return E(s(this),bh,arguments.length>1?arguments[1]:void 0)},reduce:function(bh){return aU.apply(s(this),arguments)},reduceRight:function(bh){return a4.apply(s(this),arguments)},reverse:function(){for(var bl,bk=this,bj=s(bk).length,bi=Math.floor(bj/2),bh=0;bh<bi;){bl=bk[bh],bk[bh++]=bk[--bj],bk[bj]=bl}return bk},some:function(bh){return y(s(this),bh,arguments.length>1?arguments[1]:void 0)},sort:function(bh){return J.call(s(this),bh)},subarray:function(bj,bh){var bl=s(this),bk=bl.length,bi=aC(bj,bk);return new (N(bl,bl[ao]))(bl.buffer,bl.byteOffset+bi*bl.BYTES_PER_ELEMENT,aj((void 0===bh?bk:aC(bh,bk))-bi))}},a9=function(bi,bh){return aE(this,aR.call(s(this),bi,bh))},Z=function(bi){s(this);var bm=at(arguments[1],1),bk=this.length,bl=x(bi),bh=aj(bl.length),bj=0;if(bh+bm>bk){throw U(ai)}for(;bj<bh;){this[bm+bj]=bl[bj++]}},ab={entries:function(){return z.call(s(this))},keys:function(){return D.call(s(this))},values:function(){return be.call(s(this))}},t=function(bi,bh){return X(bi)&&bi[bb]&&"symbol"!=typeof bh&&bh in bi&&String(+bh)==String(bh)},aJ=function(bi,bh){return t(bi,bh=aS(bh,!0))?ax(2,bi[bh]):a3(bi,bh)},aA=function(bi,bh,bj){return !(t(bi,bh=aS(bh,!0))&&X(bj)&&ak(bj,"value"))||ak(bj,"get")||ak(bj,"set")||bj.configurable||ak(bj,"writable")&&!bj.writable||ak(bj,"enumerable")&&!bj.enumerable?ad(bi,bh,bj):(bi[bh]=bj.value,bi)};af||(P.f=aJ,am.f=aA),u(u.S+u.F*!af,"Object",{getOwnPropertyDescriptor:aJ,defineProperty:aA}),a5(function(){I.call({})})&&(I=aX=function(){return av.call(this)});var aG=an({},bd);an(aG,ab),aI(aG,T,ab.values),an(aG,{slice:a9,set:Z,constructor:function(){},toString:I,toLocaleString:aa}),aT(aG,"buffer","b"),aT(aG,"byteOffset","o"),aT(aG,"byteLength","l"),aT(aG,"length","e"),ad(aG,ar,{get:function(){return this[bb]}}),bc.exports=function(bj,bl,bn,bm){bm=!!bm;var bo=bj+(bm?"Clamped":"")+"Array",bx="Uint8Array"!=bo,bs="get"+bj,br="set"+bj,bw=M[bo],bu=bw||{},bk=bw&&L(bw),bA=!bw||!ay.ABV,bq={},bi=bw&&bw[a7],bp=function(bC,bB){var bD=bC._d;return bD.v[bs](bB*bl+bD.o,ba)},by=function(bC,bB,bE){var bD=bC._d;bm&&(bE=(bE=Math.round(bE))<0?0:bE>255?255:255&bE),bD.v[br](bB*bl+bD.o,bE,ba)},bt=function(bC,bB){ad(bC,bB,{get:function(){return bp(this,bB)},set:function(bD){return by(this,bB,bD)},enumerable:!0})};bA?(bw=bn(function(bH,bF,bK,bJ){a6(bH,bw,bo,"_d");var bE,bL,bC,bI,bG=0,bD=0;if(X(bF)){if(!(bF instanceof ae||(bI=aO(bF))==aH||bI==bf)){return bb in bF?aq(bw,bF):aL.call(bw,bF)}bE=bF,bD=at(bK,bl);var bB=bF.byteLength;if(void 0===bJ){if(bB%bl){throw U(ai)}if(bL=bB-bD,bL<0){throw U(ai)}}else{if(bL=aj(bJ)*bl,bL+bD>bB){throw U(ai)}}bC=bL/bl}else{bC=aB(bF,!0),bL=bC*bl,bE=new ae(bL)}for(aI(bH,"_d",{b:bE,o:bD,l:bL,e:bC,v:new v(bE)});bG<bC;){bt(bH,bG++)}}),bi=bw[a7]=F(aG),aI(bi,"constructor",bw)):aK(function(bB){new bw(null),new bw(bB)},!0)||(bw=bn(function(bD,bE,bC,bF){a6(bD,bw,bo);var bB;return X(bE)?bE instanceof ae||(bB=aO(bE))==aH||bB==bf?void 0!==bF?new bu(bE,at(bC,bl),bF):void 0!==bC?new bu(bE,at(bC,bl)):new bu(bE):bb in bE?aq(bw,bE):aL.call(bw,bE):new bu(aB(bE,bx))}),a0(bk!==Function.prototype?aZ(bu).concat(aZ(bk)):aZ(bu),function(bB){bB in bw||aI(bw,bB,bu[bB])}),bw[a7]=bi,aN||(bi.constructor=bw));var bv=bi[T],bh=!!bv&&("values"==bv.name||void 0==bv.name),bz=ab.values;aI(bw,aM,!0),aI(bi,bb,bo),aI(bi,W,!0),aI(bi,ao,bw),(bm?new bw(1)[ar]==bo:ar in bi)||ad(bi,ar,{get:function(){return bo}}),bq[bo]=bw,u(u.G+u.W+u.F*(bw!=bu),bq),u(u.S,bo,{BYTES_PER_ELEMENT:bl,from:aL,of:Y}),aW in bi||aI(bi,aW,bl),u(u.P,bo,bd),H(bo),u(u.P+u.F*az,bo,{set:Z}),u(u.P+u.F*!bh,bo,ab),u(u.P+u.F*(bi.toString!=I),bo,{toString:I}),u(u.P+u.F*a5(function(){new bw(1).slice()}),bo,{slice:a9}),u(u.P+u.F*(a5(function(){return[1,2].toLocaleString()!=new bw([1,2]).toLocaleString()})||!a5(function(){bi.toLocaleString.call([1,2])})),bo,{toLocaleString:aa}),K[bo]=bh?bv:bz,aN||bh||aI(bi,T,bz)}}else{bc.exports=function(){}}},function(t,s,u){u(383)("Uint8",1,function(v){return function(y,w,x){return v(this,y,w,x)}})},function(t,s,u){u(383)("Uint8",1,function(v){return function(y,w,x){return v(this,y,w,x)}},!0)},function(t,s,u){u(383)("Int16",2,function(v){return function(y,w,x){return v(this,y,w,x)}})},function(t,s,u){u(383)("Uint16",2,function(v){return function(y,w,x){return v(this,y,w,x)}})},function(t,s,u){u(383)("Int32",4,function(v){return function(y,w,x){return v(this,y,w,x)}})},function(t,s,u){u(383)("Uint32",4,function(v){return function(y,w,x){return v(this,y,w,x)}})},function(t,s,u){u(383)("Float32",4,function(v){return function(y,w,x){return v(this,y,w,x)}})},function(t,s,u){u(383)("Float64",8,function(v){return function(y,w,x){return v(this,y,w,x)}})},function(v,u,y){var z=y(168),t=y(181),s=y(172),w=(y(164).Reflect||{}).apply,x=Function.apply;z(z.S+z.F*!y(167)(function(){w(function(){})}),"Reflect",{apply:function(E,B,D){var C=t(E),A=s(D);return w?w(C,B,A):x.call(C,B,A)}})},function(w,A,v){var z=v(168),B=v(206),y=v(181),D=v(172),E=v(173),t=v(167),C=v(237),s=(v(164).Reflect||{}).construct,u=t(function(){function G(){}return !(s(function(){},[],G) instanceof G)}),x=!t(function(){s(function(){})});z(z.S+z.F*(u||x),"Reflect",{construct:function(J,H){y(J),D(H);var K=arguments.length<3?J:y(arguments[2]);if(x&&!u){return s(J,H,K)}if(J==K){switch(H.length){case 0:return new J();case 1:return new J(H[0]);case 2:return new J(H[0],H[1]);case 3:return new J(H[0],H[1],H[2]);case 4:return new J(H[0],H[1],H[2],H[3])}var L=[null];return L.push.apply(L,H),new (C.apply(J,L))()}var I=K.prototype,G=B(E(I)?I:Object.prototype),F=Function.apply.call(J,G,H);return E(F)?F:G}})},function(v,t,w){var x=w(171),y=w(168),s=w(172),u=w(176);y(y.S+y.F*w(167)(function(){Reflect.defineProperty(x.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(C,A,z){s(C),A=u(A,!0),s(z);try{return x.f(C,A,z),!0}catch(B){return !1}}})},function(u,t,w){var x=w(168),v=w(211).f,s=w(172);x(x.S,"Reflect",{deleteProperty:function(z,y){var A=v(s(z),y);return !(A&&!A.configurable)&&delete z[y]}})},function(u,t,v){var x=v(168),s=v(172),w=function(A){this._t=s(A),this._i=0;var y,z=this._k=[];for(y in A){z.push(y)}};v(290)(w,"Object",function(){var y,A=this,z=A._k;do{if(A._i>=z.length){return{value:void 0,done:!0}}}while(!((y=z[A._i++]) in A._t));return{value:y,done:!1}}),x(x.S,"Reflect",{enumerate:function(y){return new w(y)}})},function(t,w,s){function u(F,E){var G,C,D=arguments.length<3?F:arguments[2];return y(F)===D?F[E]:(G=x.f(F,E))?A(G,"value")?G.value:void 0!==G.get?G.get.call(D):void 0:B(C=z(F))?u(C,E,D):void 0}var x=s(211),z=s(219),A=s(165),v=s(168),B=s(173),y=s(172);v(v.S,"Reflect",{get:u})},function(u,t,w){var v=w(211),x=w(168),s=w(172);x(x.S,"Reflect",{getOwnPropertyDescriptor:function(z,y){return v.f(s(z),y)}})},function(v,u,w){var x=w(168),t=w(219),s=w(172);x(x.S,"Reflect",{getPrototypeOf:function(y){return t(s(y))}})},function(t,s,u){var v=u(168);v(v.S,"Reflect",{has:function(x,w){return w in x}})},function(u,t,v){var x=v(168),s=v(172),w=Object.isExtensible;x(x.S,"Reflect",{isExtensible:function(y){return s(y),!w||w(y)}})},function(t,s,u){var v=u(168);v(v.S,"Reflect",{ownKeys:u(403)})},function(v,u,x){var w=x(210),t=x(203),s=x(172),y=x(164).Reflect;v.exports=y&&y.ownKeys||function(A){var B=w.f(s(A)),z=t.f;return z?B.concat(z(A)):B}},function(u,t,w){var x=w(168),s=w(172),v=Object.preventExtensions;x(x.S,"Reflect",{preventExtensions:function(z){s(z);try{return v&&v(z),!0}catch(y){return !1}}})},function(u,w,t){function A(K,J,F){var E,H,I=arguments.length<4?K:arguments[3],G=x.f(z(K),J);if(!G){if(D(H=B(K))){return A(H,J,F,I)}G=s(0)}return C(G,"value")?!(G.writable===!1||!D(I))&&(E=x.f(I,J)||s(0),E.value=F,y.f(I,J,E),!0):void 0!==G.set&&(G.set.call(I,F),!0)}var y=t(171),x=t(211),B=t(219),C=t(165),v=t(168),s=t(177),z=t(172),D=t(173);v(v.S,"Reflect",{set:A})},function(t,s,v){var w=v(168),u=v(233);u&&w(w.S,"Reflect",{setPrototypeOf:function(z,x){u.check(z,x);try{return u.set(z,x),!0}catch(y){return !1}}})},function(u,t,v){var w=v(168),s=v(196)(!0);w(w.P,"Array",{includes:function(x){return s(this,x,arguments.length>1?arguments[1]:void 0)}}),v(346)("includes")},function(t,s,u){var w=u(168),v=u(287)(!0);w(w.P,"String",{at:function(x){return v(this,x)}})},function(t,s,u){var w=u(168),v=u(410);w(w.P,"String",{padStart:function(x){return v(this,x,arguments.length>1?arguments[1]:void 0,!0)}})},function(u,t,w){var s=w(197),v=w(251),x=w(195);u.exports=function(G,z,A,D){var E=String(x(G)),y=E.length,H=void 0===A?" ":String(A),B=s(z);if(B<=y||""==H){return E}var F=B-y,C=v.call(H,Math.ceil(F/H.length));return C.length>F&&(C=C.slice(0,F)),D?C+E:E+C}},function(t,s,u){var w=u(168),v=u(410);w(w.P,"String",{padEnd:function(x){return v(this,x,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,s,u){u(243)("trimLeft",function(v){return function(){return v(this,1)}},"trimStart")},function(t,s,u){u(243)("trimRight",function(v){return function(){return v(this,2)}},"trimEnd")},function(t,x,s){var v=s(168),w=s(195),A=s(197),u=s(294),z=s(356),B=RegExp.prototype,y=function(D,C){this._r=D,this._s=C};s(290)(y,"RegExp String",function(){var C=this._r.exec(this._s);return{value:C,done:null===C}}),v(v.P,"String",{matchAll:function(E){if(w(this),!u(E)){throw TypeError(E+" is not a regexp!")}var D=String(this),C="flags" in B?String(E.flags):z.call(E),F=new RegExp(E.source,~C.indexOf("g")?C:"g"+C);return F.lastIndex=A(E.lastIndex),new y(F,D)}})},function(t,s,u){u(187)("asyncIterator")},function(t,s,u){u(187)("observable")},function(u,t,x){var z=x(168),s=x(403),y=x(192),v=x(211),w=x(323);z(z.S,"Object",{getOwnPropertyDescriptors:function(C){for(var E,G=y(C),B=v.f,F=s(G),A={},D=0;F.length>D;){w(A,E=F[D++],B(G,E))}return A}})},function(t,s,v){var w=v(168),u=v(419)(!1);w(w.S,"Object",{values:function(x){return u(x)}})},function(t,s,u){var x=u(190),w=u(192),v=u(204).f;t.exports=function(y){return function(C){for(var B,F=w(C),E=x(F),D=E.length,A=0,z=[];D>A;){v.call(F,B=E[A++])&&z.push(y?[B,F[B]]:F[B])}return z}}},function(t,s,v){var w=v(168),u=v(419)(!0);w(w.S,"Object",{entries:function(x){return u(x)}})},function(v,t,x){var y=x(168),w=x(218),s=x(181),u=x(171);x(166)&&y(y.P+x(422),"Object",{__defineGetter__:function(A,z){u.f(w(this),A,{get:s(z),enumerable:!0,configurable:!0})}})},function(t,s,u){t.exports=u(188)||!u(167)(function(){var v=Math.random();__defineSetter__.call(null,v,function(){}),delete u(164)[v]})},function(v,t,x){var y=x(168),w=x(218),s=x(181),u=x(171);x(166)&&y(y.P+x(422),"Object",{__defineSetter__:function(z,A){u.f(w(this),z,{set:s(A),enumerable:!0,configurable:!0})}})},function(u,s,y){var z=y(168),x=y(218),t=y(176),w=y(219),v=y(211).f;y(166)&&z(z.P+y(422),"Object",{__lookupGetter__:function(B){var E,C=x(this),A=t(B,!0);do{if(E=v(C,A)){return E.get}}while(C=w(C))}})},function(u,s,y){var z=y(168),x=y(218),t=y(176),w=y(219),v=y(211).f;y(166)&&z(z.P+y(422),"Object",{__lookupSetter__:function(B){var E,C=x(this),A=t(B,!0);do{if(E=v(C,A)){return E.set}}while(C=w(C))}})},function(t,s,u){var v=u(168);v(v.P+v.R,"Map",{toJSON:u(427)("Map")})},function(u,s,v){var t=v(235),w=v(428);u.exports=function(x){return function(){if(t(this)!=x){throw TypeError(x+"#toJSON isn't generic")}return w(this)}}},function(t,s,u){var v=u(366);t.exports=function(y,x){var w=[];return v(y,!1,w.push,w,x),w}},function(t,s,u){var v=u(168);v(v.P+v.R,"Set",{toJSON:u(427)("Set")})},function(t,s,u){var v=u(168);v(v.S,"System",{global:u(164)})},function(t,s,u){var w=u(168),v=u(194);w(w.S,"Error",{isError:function(x){return"Error"===v(x)}})},function(t,s,u){var v=u(168);v(v.S,"Math",{iaddh:function(z,y,C,B){var x=z>>>0,w=y>>>0,A=C>>>0;return w+(B>>>0)+((x&A|(x|A)&~(x+A>>>0))>>>31)|0}})},function(t,s,u){var v=u(168);v(v.S,"Math",{isubh:function(z,y,C,B){var x=z>>>0,w=y>>>0,A=C>>>0;return w-(B>>>0)-((~x&A|~(x^A)&x-A>>>0)>>>31)|0}})},function(t,s,u){var v=u(168);v(v.S,"Math",{imulh:function(E,C){var y=65535,A=+E,z=+C,x=A&y,D=z&y,w=A>>16,B=z>>16,F=(w*D>>>0)+(x*D>>>16);return w*B+(F>>16)+((x*B>>>0)+(F&y)>>16)}})},function(t,s,u){var v=u(168);v(v.S,"Math",{umulh:function(E,C){var y=65535,A=+E,z=+C,x=A&y,D=z&y,w=A>>>16,B=z>>>16,F=(w*D>>>0)+(x*D>>>16);return w*B+(F>>>16)+((x*B>>>0)+(F&y)>>>16)}})},function(w,t,y){var v=y(437),s=y(172),x=v.key,u=v.set;v.exp({defineMetadata:function(C,A,B,z){u(C,A,s(B),x(z))}})},function(w,D,v){var u=v(371),C=v(168),x=v(183)("metadata"),F=x.store||(x.store=new (v(375))()),y=function(J,G,I){var H=F.get(J);if(!H){if(!I){return}F.set(J,H=new u())}var K=H.get(G);if(!K){if(!I){return}H.set(G,K=new u())}return K},B=function(H,J,I){var G=y(J,I,!1);return void 0!==G&&G.has(H)},A=function(H,J,I){var G=y(J,I,!1);return void 0===G?void 0:G.get(H)},t=function(H,G,J,I){y(J,I,!0).set(H,G)},s=function(J,G){var H=y(J,G,!1),I=[];return H&&H.forEach(function(K,L){I.push(L)}),I},E=function(G){return void 0===G||"symbol"==typeof G?G:String(G)},z=function(G){C(C.S,"Reflect",G)};w.exports={store:F,map:y,has:B,get:A,set:t,keys:s,key:E,exp:z}},function(w,u,z){var v=z(437),s=z(172),x=v.key,y=v.map,t=v.store;v.exp({deleteMetadata:function(E,D){var A=arguments.length<3?void 0:x(arguments[2]),C=y(s(D),A,!1);if(void 0===C||!C["delete"](E)){return !1}if(C.size){return !0}var B=t.get(D);return B["delete"](A),!!B.size||t["delete"](D)}})},function(t,w,s){var z=s(437),B=s(172),A=s(219),u=z.has,v=z.get,x=z.key,y=function(D,G,F){var C=u(D,G,F);if(C){return v(D,G,F)}var E=A(G);return null!==E?y(D,E,F):void 0};z.exp({getMetadata:function(D,C){return y(D,B(C),arguments.length<3?void 0:x(arguments[2]))}})},function(u,w,t){var C=t(374),z=t(428),y=t(437),B=t(172),A=t(219),s=y.keys,x=y.key,v=function(G,F){var H=s(G,F),E=A(G);if(null===E){return H}var D=v(E,F);return D.length?H.length?z(new C(H.concat(D))):D:H};y.exp({getMetadataKeys:function(D){return v(B(D),arguments.length<2?void 0:x(arguments[1]))}})},function(w,t,y){var v=y(437),s=y(172),u=v.get,x=v.key;v.exp({getOwnMetadata:function(A,z){return u(A,s(z),arguments.length<3?void 0:x(arguments[2]))}})},function(w,u,y){var v=y(437),t=y(172),s=v.keys,x=v.key;v.exp({getOwnMetadataKeys:function(z){return s(t(z),arguments.length<2?void 0:x(arguments[1]))}})},function(u,w,t){var y=t(437),A=t(172),z=t(219),v=y.has,x=y.key,s=function(C,F,E){var B=v(C,F,E);if(B){return !0}var D=z(F);return null!==D&&s(C,D,E)};y.exp({hasMetadata:function(C,B){return s(C,A(B),arguments.length<3?void 0:x(arguments[2]))}})},function(w,t,y){var v=y(437),s=y(172),u=v.has,x=v.key;v.exp({hasOwnMetadata:function(A,z){return u(A,s(z),arguments.length<3?void 0:x(arguments[2]))}})},function(x,u,z){var w=z(437),s=z(172),t=z(181),y=w.key,v=w.set;w.exp({metadata:function(B,A){return function(D,C){v(B,A,(void 0!==C?s:t)(D),y(C))}}})},function(t,s,x){var y=x(168),u=x(369)(),w=x(164).process,v="process"==x(194)(w);y(y.G,{asap:function(z){var A=v&&w.domain;u(A?A.bind(z):z)}})},function(v,M,x){var N=x(168),H=x(164),K=x(169),J=x(369)(),G=x(185)("observable"),L=x(181),I=x(172),E=x(365),B=x(370),C=x(170),z=x(366),A=z.RETURN,u=function(O){return null==O?void 0:L(O)},t=function(P){var O=P._c;O&&(P._c=void 0,O())},F=function(O){return void 0===O._o},y=function(O){F(O)||(O._o=void 0,t(O))},D=function(O,Q){I(O),this._c=void 0,this._o=O,O=new w(this);try{var P=Q(O),R=P;null!=P&&("function"==typeof P.unsubscribe?P=function(){R.unsubscribe()}:L(P),this._c=P)}catch(S){return void O.error(S)}F(this)&&t(this)};D.prototype=B({},{unsubscribe:function(){y(this)}});var w=function(O){this._s=O};w.prototype=B({},{next:function(R){var Q=this._s;if(!F(Q)){var P=Q._o;try{var O=u(P.next);if(O){return O.call(P,R)}}catch(S){try{y(Q)}finally{throw S}}}},error:function(R){var Q=this._s;if(F(Q)){throw R}var P=Q._o;Q._o=void 0;try{var O=u(P.error);if(!O){throw R}R=O.call(P,R)}catch(S){try{t(Q)}finally{throw S}}return t(Q),R},complete:function(R){var Q=this._s;if(!F(Q)){var P=Q._o;Q._o=void 0;try{var O=u(P.complete);R=O?O.call(P,R):void 0}catch(S){try{t(Q)}finally{throw S}}return t(Q),R}}});var s=function(O){E(this,s,"Observable","_f")._f=L(O)};B(s.prototype,{subscribe:function(O){return new D(O,this._f)},forEach:function(O){var P=this;return new (K.Promise||H.Promise)(function(S,R){L(O);var Q=P.subscribe({next:function(T){try{return O(T)}catch(U){R(U),Q.unsubscribe()}},error:R,complete:S})})}}),B(s,{from:function(O){var Q="function"==typeof this?this:s,R=u(I(O)[G]);if(R){var P=I(R.call(O));return P.constructor===Q?P:new Q(function(S){return P.subscribe(S)})}return new Q(function(T){var S=!1;return J(function(){if(!S){try{if(z(O,!1,function(V){if(T.next(V),S){return A}})===A){return}}catch(U){if(S){throw U}return void T.error(U)}T.complete()}}),function(){S=!0}})},of:function(){for(var Q=0,O=arguments.length,P=Array(O);Q<O;){P[Q]=arguments[Q++]}return new ("function"==typeof this?this:s)(function(S){var R=!1;return J(function(){if(!R){for(var T=0;T<P.length;++T){if(S.next(P[T]),R){return}}S.complete()}}),function(){R=!0}})}}),C(s.prototype,G,function(){return this}),N(N.G,{Observable:s}),x(352)("Observable")},function(v,y,u){var t=u(164),w=u(168),x=u(238),A=u(449),B=t.navigator,z=!!B&&/MSIE .\./.test(B.userAgent),s=function(C){return z?function(D,E){return C(x(A,[].slice.call(arguments,2),"function"==typeof D?D:Function(D)),E)}:C};w(w.G+w.B+w.F*z,{setTimeout:s(t.setTimeout),setInterval:s(t.setInterval)})},function(v,t,x){var w=x(450),u=x(238),s=x(181);v.exports=function(){for(var C=s(this),D=arguments.length,B=Array(D),A=0,y=w._,z=!1;D>A;){(B[A]=arguments[A++])===y&&(z=!0)}return function(){var H,I=this,F=arguments.length,G=0,E=0;if(!z&&!F){return u(C,B,I)}if(H=B.slice(),z){for(;D>G;G++){H[G]===y&&(H[G]=arguments[E++])}}for(;F>E;){H.push(arguments[E++])}return u(C,H,I)}}},function(t,s,u){t.exports=u(164)},function(t,s,u){var w=u(168),v=u(368);w(w.G+w.B,{setImmediate:v.set,clearImmediate:v.clear})},function(u,G,v){for(var t=v(353),A=v(178),D=v(164),z=v(170),y=v(289),F=v(185),w=F("iterator"),s=F("toStringTag"),J=y.Array,B=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],E=0;E<5;E++){var I,x=B[E],H=D[x],C=H&&H.prototype;if(C){C[w]||z(C,w,J),C[s]||z(C,s,x),y[x]=J;for(I in t){C[I]||A(C,I,t[I],!0)}}}},function(t,s,u){(function(v,w){!function(W){function J(aj,ad,af,ae){var ah=ad&&ad.prototype instanceof D?ad:D,ai=Object.create(ah.prototype),ag=new U(ae||[]);return ai._invoke=C(aj,af,ag),ai}function I(ae,ag,ad){try{return{type:"normal",arg:ae.call(ag,ad)}}catch(af){return{type:"throw",arg:af}}}function D(){}function Q(){}function H(){}function Z(ad){["next","throw","return"].forEach(function(ae){ad[ae]=function(af){return this._invoke(ae,af)}})}function S(af){function ae(an,ai,am,al){var aj=I(af[an],af,ai);if("throw"!==aj.type){var ah=aj.arg,ak=ah.value;return ak&&"object"==typeof ak&&P.call(ak,"__await")?Promise.resolve(ak.__await).then(function(ao){ae("next",ao,am,al)},function(ao){ae("throw",ao,am,al)}):Promise.resolve(ak).then(function(ao){ah.value=ao,am(ah)},al)}al(aj.arg)}function ad(aj,ah){function ai(){return new Promise(function(al,ak){ae(aj,ah,al,ak)})}return ag=ag?ag.then(ai,ai):ai()}"object"==typeof w&&w.domain&&(ae=w.domain.bind(ae));var ag;this._invoke=ad}function C(ag,ad,ae){var af=z;return function(al,ah){if(af===V){throw new Error("Generator is already running")}if(af===E){if("throw"===al){throw ah}return R()}for(ae.method=al,ae.arg=ah;;){var aj=ae.delegate;if(aj){var ak=K(aj,ae);if(ak){if(ak===F){continue}return ak}}if("next"===ae.method){ae.sent=ae._sent=ae.arg}else{if("throw"===ae.method){if(af===z){throw af=E,ae.arg}ae.dispatchException(ae.arg)}else{"return"===ae.method&&ae.abrupt("return",ae.arg)}}af=V;var ai=I(ag,ad,ae);if("normal"===ai.type){if(af=ae.done?E:T,ai.arg===F){continue}return{value:ai.arg,done:ae.done}}"throw"===ai.type&&(af=E,ae.method="throw",ae.arg=ai.arg)}}}function K(af,ae){var ah=af.iterator[ae.method];if(ah===G){if(ae.delegate=null,"throw"===ae.method){if(af.iterator["return"]&&(ae.method="return",ae.arg=G,K(af,ae),"throw"===ae.method)){return F}ae.method="throw",ae.arg=new TypeError("The iterator does not provide a 'throw' method")}return F}var ad=I(ah,af.iterator,ae.arg);if("throw"===ad.type){return ae.method="throw",ae.arg=ad.arg,ae.delegate=null,F}var ag=ad.arg;return ag?ag.done?(ae[af.resultName]=ag.value,ae.next=af.nextLoc,"return"!==ae.method&&(ae.method="next",ae.arg=G),ae.delegate=null,F):ag:(ae.method="throw",ae.arg=new TypeError("iterator result is not an object"),ae.delegate=null,F)}function M(ae){var ad={tryLoc:ae[0]};1 in ae&&(ad.catchLoc=ae[1]),2 in ae&&(ad.finallyLoc=ae[2],ad.afterLoc=ae[3]),this.tryEntries.push(ad)}function y(ae){var ad=ae.completion||{};ad.type="normal",delete ad.arg,ae.completion=ad}function U(ad){this.tryEntries=[{tryLoc:"root"}],ad.forEach(M,this),this.reset(!0)}function A(af){if(af){var ag=af[Y];if(ag){return ag.call(af)}if("function"==typeof af.next){return af}if(!isNaN(af.length)){var ad=-1,ae=function ae(){for(;++ad<af.length;){if(P.call(af,ad)){return ae.value=af[ad],ae.done=!1,ae}}return ae.value=G,ae.done=!0,ae};return ae.next=ae}}return{next:R}}function R(){return{value:G,done:!0}}var G,L=Object.prototype,P=L.hasOwnProperty,ab="function"==typeof Symbol?Symbol:{},Y=ab.iterator||"@@iterator",O=ab.toStringTag||"@@toStringTag",ac="object"==typeof t,X=W.regeneratorRuntime;if(X){return void (ac&&(t.exports=X))}X=W.regeneratorRuntime=ac?t.exports:{},X.wrap=J;var z="suspendedStart",T="suspendedYield",V="executing",E="completed",F={},N={};N[Y]=function(){return this};var x=Object.getPrototypeOf,B=x&&x(x(A([])));B&&B!==L&&P.call(B,Y)&&(N=B);var aa=H.prototype=D.prototype=Object.create(N);Q.prototype=aa.constructor=H,H.constructor=Q,H[O]=Q.displayName="GeneratorFunction",X.isGeneratorFunction=function(ae){var ad="function"==typeof ae&&ae.constructor;return !!ad&&(ad===Q||"GeneratorFunction"===(ad.displayName||ad.name))},X.mark=function(ad){return Object.setPrototypeOf?Object.setPrototypeOf(ad,H):(ad.__proto__=H,O in ad||(ad[O]="GeneratorFunction")),ad.prototype=Object.create(aa),ad},X.awrap=function(ad){return{__await:ad}},Z(S.prototype),X.AsyncIterator=S,X.async=function(ah,ad,ag,af){var ae=new S(J(ah,ad,ag,af));return X.isGeneratorFunction(ad)?ae:ae.next().then(function(ai){return ai.done?ai.value:ae.next()})},Z(aa),aa[O]="Generator",aa.toString=function(){return"[object Generator]"},X.keys=function(ad){var ag=[];for(var ae in ad){ag.push(ae)}return ag.reverse(),function af(){for(;ag.length;){var ah=ag.pop();if(ah in ad){return af.value=ah,af.done=!1,af}}return af.done=!0,af}},X.values=A,U.prototype={constructor:U,reset:function(ae){if(this.prev=0,this.next=0,this.sent=this._sent=G,this.done=!1,this.delegate=null,this.method="next",this.arg=G,this.tryEntries.forEach(y),!ae){for(var ad in this){"t"===ad.charAt(0)&&P.call(this,ad)&&!isNaN(+ad.slice(1))&&(this[ad]=G)}}},stop:function(){this.done=!0;var ad=this.tryEntries[0],ae=ad.completion;if("throw"===ae.type){throw ae.arg}return this.rval},dispatchException:function(ah){function ak(am,al){return ad.type="throw",ad.arg=ah,ag.next=am,al&&(ag.method="next",ag.arg=G),!!al}if(this.done){throw ah}for(var ag=this,af=this.tryEntries.length-1;af>=0;--af){var aj=this.tryEntries[af],ad=aj.completion;if("root"===aj.tryLoc){return ak("end")}if(aj.tryLoc<=this.prev){var ai=P.call(aj,"catchLoc"),ae=P.call(aj,"finallyLoc");if(ai&&ae){if(this.prev<aj.catchLoc){return ak(aj.catchLoc,!0)}if(this.prev<aj.finallyLoc){return ak(aj.finallyLoc)}}else{if(ai){if(this.prev<aj.catchLoc){return ak(aj.catchLoc,!0)}}else{if(!ae){throw new Error("try statement without catch or finally")}if(this.prev<aj.finallyLoc){return ak(aj.finallyLoc)}}}}}},abrupt:function(ah,ad){for(var af=this.tryEntries.length-1;af>=0;--af){var ai=this.tryEntries[af];if(ai.tryLoc<=this.prev&&P.call(ai,"finallyLoc")&&this.prev<ai.finallyLoc){var ag=ai;break}}ag&&("break"===ah||"continue"===ah)&&ag.tryLoc<=ad&&ad<=ag.finallyLoc&&(ag=null);var ae=ag?ag.completion:{};return ae.type=ah,ae.arg=ad,ag?(this.method="next",this.next=ag.finallyLoc,F):this.complete(ae)},complete:function(ae,ad){if("throw"===ae.type){throw ae.arg}return"break"===ae.type||"continue"===ae.type?this.next=ae.arg:"return"===ae.type?(this.rval=this.arg=ae.arg,this.method="return",this.next="end"):"normal"===ae.type&&ad&&(this.next=ad),F},finish:function(ad){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var af=this.tryEntries[ae];if(af.finallyLoc===ad){return this.complete(af.completion,af.afterLoc),y(af),F}}},"catch":function(ae){for(var af=this.tryEntries.length-1;af>=0;--af){var ah=this.tryEntries[af];if(ah.tryLoc===ae){var ad=ah.completion;if("throw"===ad.type){var ag=ad.arg;y(ah)}return ag}}throw new Error("illegal catch attempt")},delegateYield:function(ae,af,ad){return this.delegate={iterator:A(ae),resultName:af,nextLoc:ad},"next"===this.method&&(this.arg=G),F}}}("object"==typeof v?v:"object"==typeof window?window:"object"==typeof self?self:this)}).call(s,function(){return this}(),u(454))},function(x,z){function F(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}function s(J){if(A===setTimeout){return setTimeout(J,0)}if((A===F||!A)&&setTimeout){return A=setTimeout,setTimeout(J,0)}try{return A(J,0)}catch(K){try{return A.call(null,J,0)}catch(K){return A.call(this,J,0)}}}function t(J){if(v===clearTimeout){return clearTimeout(J)}if((v===w||!v)&&clearTimeout){return v=clearTimeout,clearTimeout(J)}try{return v(J)}catch(K){try{return v.call(null,J)}catch(K){return v.call(this,J)}}}function E(){G&&C&&(G=!1,C.length?B=C.concat(B):D=-1,B.length&&I())}function I(){if(!G){var K=s(E);G=!0;for(var J=B.length;J;){for(C=B,B=[];++D<J;){C&&C[D].run()}D=-1,J=B.length}C=null,G=!1,t(K)}}function y(J,K){this.fun=J,this.array=K}function H(){}var A,v,u=x.exports={};!function(){try{A="function"==typeof setTimeout?setTimeout:F}catch(J){A=F}try{v="function"==typeof clearTimeout?clearTimeout:w}catch(J){v=w}}();var C,B=[],G=!1,D=-1;u.nextTick=function(J){var K=new Array(arguments.length-1);if(arguments.length>1){for(var L=1;L<arguments.length;L++){K[L-1]=arguments[L]}}B.push(new y(J,K)),1!==B.length||G||s(I)},y.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=H,u.addListener=H,u.once=H,u.off=H,u.removeListener=H,u.removeAllListeners=H,u.emit=H,u.binding=function(J){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(J){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,s,u){u(456),t.exports=u(169).RegExp.escape},function(u,s,v){var w=v(168),t=v(457)(/[\\^$*+?.()|[\]{}]/g,"\\$&");w(w.S,"RegExp",{escape:function(x){return t(x)}})},function(t,s){t.exports=function(u,w){var v=w===Object(w)?function(x){return w[x]}:w;return function(x){return String(x).replace(u,v)}}}])});