<!-- LIFERAY 7
    before deploy to liferay: delete dependencies from this file,
    change prefix in amd-loader-config.js and
    delete amd-loader.js from dist/valamis/ -->

<head>
    <!-- must be deleted before included in Liferay -->
    <link rel="stylesheet" href="/css/valamis.css"/>
    <link rel="stylesheet" href="/css/learning-paths.css"/>
    <link rel="stylesheet" href="/css/backbone.modal.css"/>
    <link rel="stylesheet" href="/css/backbone.modal.theme.css"/>
    <link rel="stylesheet" href="/css/toastr.css"/>

    <script type="text/javascript">
        var __CONFIG__ = __CONFIG__ || {};
        __CONFIG__.url = '';
    </script>

    <script type="text/javascript" src="/js/valamis/amd-loader.js"></script>
    <script type="text/javascript" src="/js/valamis/amd-loader-config.js"></script>
    <!-- must be deleted before included in Liferay -->
</head>

<body>

<div class="valamis">
    <section class="portlet" min-width="768px 480px 1024px">
        <div class="wrapper">
            <div class="portlet-content">
                <div class="portlet-content-container">
                    <div class="portlet-body">
                        <div id="learningPathsAppRegion" class="val-portlet"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

<script type="text/javascript">
    Liferay = {
        ThemeDisplay: {}
    };

    Liferay.ThemeDisplay.getLanguageId = () => { return "en_US" };
    Liferay.ThemeDisplay.authToken = 'liferay-authToken';
    Liferay.ThemeDisplay.getScopeGroupId = () => { return "21289" };
    Liferay.ThemeDisplay.getPlid = () => { return "11289" };
    Liferay.ThemeDisplay.getUserId = () => { return "125" };

    var learningPathsAppOptions = {
        'apiPath': 'http://localhost:8000/delegate/',
        'resourcePath': 'http://localhost:8000/',
        'endpoint': {
            'learningPaths': 'learning-paths/',
            'courses': 'courses',
            'liferayActivities': 'activities',
            'goals': 'goals',
            'goalGroups': 'goal-groups',
            'sequencing': 'sequencing/Tincan/'
        },
        permissions: {
            modify: true //eval("{{permissionToModify}}")
        }
    };
    require('learning-paths', function (module) {
        module.default.start();
    })
</script>

</body>