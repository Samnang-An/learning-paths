!function(a){function c(e){if(b[e]){return b[e].exports}var d=b[e]={exports:{},id:e,loaded:!1};return a[e].call(d.exports,d,d.exports,c),d.loaded=!0,d.exports}var b={};return c.m=a,c.c=b,c.p="",c(0)}([function(b,a,e){function c(g){return g&&g.__esModule?g:{"default":g}}var f=e(1),d=c(f);document.addEventListener("DOMContentLoaded",function(){return d["default"].start()})},function(b,a,c){(function(v,D,h){function g(M){return M&&M.__esModule?M:{"default":M}}function n(M,N){if(!(M instanceof N)){throw new TypeError("Cannot call a class as a function")}}function y(M,N){if(!M){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !N||"object"!=typeof N&&"function"!=typeof N?M:N}function B(N,M){if("function"!=typeof M&&null!==M){throw new TypeError("Super expression must either be null or a function, not "+typeof M)}N.prototype=Object.create(M&&M.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(N,M):N.__proto__=M)}Object.defineProperty(a,"__esModule",{value:!0});var E,k,F=function(){function M(Q,O){for(var N=0;N<O.length;N++){var P=O[N];P.enumerable=P.enumerable||!1,P.configurable=!0,"value" in P&&(P.writable=!0),Object.defineProperty(Q,P.key,P)}}return function(P,N,O){return N&&M(P.prototype,N),O&&M(P,O),P}}(),f=function I(N,Q,P){null===N&&(N=Function.prototype);var R=Object.getOwnPropertyDescriptor(N,Q);if(void 0===R){var O=Object.getPrototypeOf(N);return null===O?void 0:I(O,Q,P)}if("value" in R){return R.value}var M=R.get;if(void 0!==M){return M.call(P)}},L=c(4),x=c(23),q=g(x),i=c(26),m=g(i),u=c(27),t=g(u),d=c(28),e=g(d),K=c(29),H=g(K),w=c(37),J=g(w),s=c(40),r=g(s),p=c(36),G=g(p),j=c(41),A=g(j),o=c(43),l=g(o),z=function(M){function N(){return n(this,N),y(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return B(N,M),F(N,[{key:"start",value:function(O){D._babelPolyfill||c(151),this.language=O.language,this.permissions=O.permissions,t["default"].init({language:O.language,permissions:O.permissions}),e["default"].init(),f(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"start",this).call(this)}}]),N}(v.Application),C=(E=(0,L.mixin)({region:"#learningPathsAppRegion"}),E(k=function(N){function M(){return n(this,M),y(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return B(M,N),F(M,[{key:"start",value:function(Q,V){var S=this,O=function(W){return""+(0,r["default"])().resourcePath+"i18n/learningPaths_"+W+".properties"},U=m["default"].getUserLocale(),T="en",P=O(U),R=O(T);q["default"].loadProperties(P,R,function(W){f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"start",S).call(S,{language:W,permissions:(0,r["default"])().permissions})},function(W){console.error("Can't load locale resources (user or default)")})}},{key:"onStart",value:function(){var Q=this;this.getRegion().reset(),this.notifyService&&_.isFunction(this.notifyService.destroy)&&this.notifyService.destroy(),this.modalService&&_.isFunction(this.modalService.destroy)&&this.modalService.destroy(),window.hasOwnProperty("elementQuery")&&elementQuery.init();var O=new l["default"]();this.notifyService=new H["default"](),this.modalService=new J["default"]({region:O.getRegion("modals")});var R=this;this.openLpId=void 0;var P=h.Router.extend({routes:{"":"index","learning-path/:id":"openedByLink"},index:function(){},openedByLink:function(S){R.openLpId=S}});this.router=new P(),h.History.started||h.history.start(),this.activities=new A["default"](),this.activities.fetch().then(function(){Q.showView(O)},function(){G["default"].channel("notify").trigger("notify","error","failedLabel")})}}]),M}(z))||k);a["default"]=new C()}).call(a,c(2),function(){return this}(),c(3))},function(b,a){b.exports=Marionette},function(b,a){b.exports=Backbone},function(b,u,c){function a(v){return v&&v.__esModule?v["default"]:v}Object.defineProperty(u,"__esModule",{value:!0});var n=c(5);u.override=a(n);var d=c(8);u.deprecate=a(d),u.deprecated=a(d);var m=c(9);u.suppressWarnings=a(m);var k=c(10);u.memoize=a(k);var q=c(11);u.autobind=a(q);var p=c(12);u.readonly=a(p);var h=c(13);u.enumerable=a(h);var i=c(14);u.nonenumerable=a(i);var f=c(15);u.nonconfigurable=a(f);var g=c(16);u.debounce=a(g);var j=c(17);u.throttle=a(j);var o=c(18);u.decorate=a(o);var e=c(19);u.mixin=a(e),u.mixins=a(e);var s=c(7);u.lazyInitialize=a(s);var r=c(20);u.time=a(r);var l=c(21);u.extendDescriptor=a(l);var t=c(22);u.applyDecorators=a(t)},function(b,r,d){function g(s,t){if(!(s instanceof t)){throw new TypeError("Cannot call a class as a function")}}function k(s){return s.hasOwnProperty("value")?"data":s.hasOwnProperty("get")||s.hasOwnProperty("set")?"accessor":"data"}function q(t,u,s){s.assert(t.length===u.length)}function c(u,x,s){var w=typeof u.value,v=typeof x.value;if("undefined"===w&&"undefined"===v&&s.error("descriptor values are both undefined. (class properties are are not currently supported)'"),w!==v){var t="function"===v&&void 0===w;(t||void 0!==w)&&s.error('value types do not match. {parent} is "'+w+'", {child} is "'+v+'"')}switch(v){case"function":q(u.value,x.value,s);break;default:s.error('Unexpected error. Please file a bug with: {parent} is "'+w+'", {child} is "'+v+'"')}}function e(x,y,t){var v="function"==typeof x.get,u="function"==typeof y.get,s="function"==typeof x.set,w="function"==typeof y.set;(v||u)&&(!v&&s&&t.error("{parent} is setter but {child} is getter"),!u&&w&&t.error("{parent} is getter but {child} is setter"),q(x.get,y.get,t)),(s||w)&&(!s&&v&&t.error("{parent} is getter but {child} is setter"),!w&&u&&t.error("{parent} is setter but {child} is getter"),q(x.set,y.set,t))}function n(u,w,s){var v=k(u),t=k(w);switch(v!==t&&s.error('descriptor types do not match. {parent} is "'+v+'", {child} is "'+t+'"'),t){case"data":c(u,w,s);break;case"accessor":e(u,w,s)}}function m(B,y){var v=!0,s=!1,z=void 0;try{for(var A,w=o[Symbol.iterator]();!(v=(A=w.next()).done);v=!0){var x=A.value,u=x(y);if(u in B){return u}}}catch(t){s=!0,z=t}finally{try{!v&&w["return"]&&w["return"]()}finally{if(s){throw z}}}return null}function i(y,v,x){x.key=v;var z=Object.getPrototypeOf(y),w=Object.getOwnPropertyDescriptor(z,v),u=new f(z,y,w,x);if(void 0===w){var t=m(z,v),s=t?'\n\n  Did you mean "'+t+'"?':"";u.error("No descriptor matching {child} was found on the prototype chain."+s)}return n(w,x,u),x}function l(){for(var s=arguments.length,t=Array(s),u=0;u<s;u++){t[u]=arguments[u]}return(0,a.decorate)(i,t)}Object.defineProperty(r,"__esModule",{value:!0});var p=function(){function s(w,u){for(var t=0;t<u.length;t++){var v=u[t];v.enumerable=v.enumerable||!1,v.configurable=!0,"value" in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(v,t,u){return t&&s(v.prototype,t),u&&s(v,u),v}}();r["default"]=l;var a=d(6),h="{child} does not properly override {parent}",j=/^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/,f=function(){function s(t,v,w,u){g(this,s),this.parentKlass=t,this.childKlass=v,this.parentDescriptor=w,this.childDescriptor=u}return p(s,[{key:"_getTopic",value:function(t){return void 0===t?null:"value" in t?t.value:"get" in t?t.get:"set" in t?t.set:void 0}},{key:"_extractTopicSignature",value:function(t){switch(typeof t){case"function":return this._extractFunctionSignature(t);default:return this.key}}},{key:"_extractFunctionSignature",value:function(t){var u=this;return t.toString().replace(j,function(w,v,x){return void 0===v&&(v=u.key),v+x})}},{key:"key",get:function(){return this.childDescriptor.key}},{key:"parentNotation",get:function(){return this.parentKlass.constructor.name+"#"+this.parentPropertySignature}},{key:"childNotation",get:function(){return this.childKlass.constructor.name+"#"+this.childPropertySignature}},{key:"parentTopic",get:function(){return this._getTopic(this.parentDescriptor)}},{key:"childTopic",get:function(){return this._getTopic(this.childDescriptor)}},{key:"parentPropertySignature",get:function(){return this._extractTopicSignature(this.parentTopic)}},{key:"childPropertySignature",get:function(){return this._extractTopicSignature(this.childTopic)}}]),p(s,[{key:"assert",value:function(u){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];u!==!0&&this.error(h+t)}},{key:"error",value:function(u){var t=this;throw u=u.replace("{parent}",function(v){return t.parentNotation}).replace("{child}",function(v){return t.childNotation}),new SyntaxError(u)}}]),s}(),o=[function(s){return s.toLowerCase()},function(s){return s.toUpperCase()},function(s){return s+"s"},function(s){return s.slice(0,-1)},function(s){return s.slice(1,s.length)}];b.exports=r["default"]},function(d,v,e){function c(x){return x&&x.__esModule?x:{"default":x}}function f(x){if(Array.isArray(x)){for(var z=0,y=Array(x.length);z<x.length;z++){y[z]=x[z]}return y}return Array.from(x)}function g(x,y){if(!(x instanceof y)){throw new TypeError("Cannot call a class as a function")}}function s(C,x,z){var A=z[x];if(A){var B={};for(var y in A){B[y]=A[y]}B.value=B.initializer?B.initializer.call(C):void 0,Object.defineProperty(C,x,B)}}function w(A){if(!A||!A.hasOwnProperty){return !1}for(var z=["value","initializer","get","set"],y=0,x=z.length;y<x;y++){if(A.hasOwnProperty(z[y])){return !0}}return !1}function m(x,y){return w(y[y.length-1])?x.apply(void 0,f(y).concat([[]])):function(){return x.apply(void 0,i.call(arguments).concat([y]))}}function t(x){return x.hasOwnProperty(n)===!1&&j(x,n,{value:new q()}),x[n]}function l(y){var x={};return k(y).forEach(function(z){return x[z]=o(y,z)}),x}function p(x){return function(y){return Object.defineProperty(this,x,{configurable:!0,writable:!0,enumerable:!0,value:y}),y}}Object.defineProperty(v,"__esModule",{value:!0});var i=Array.prototype.slice,b=function(){function x(C,F,D){for(var A=0;A<F.length;A++){var y=F[A],G=y.decorators,E=y.key;if(delete y.key,delete y.decorators,y.enumerable=y.enumerable||!1,y.configurable=!0,("value" in y||y.initializer)&&(y.writable=!0),G){for(var B=0;B<G.length;B++){var z=G[B];if("function"!=typeof z){throw new TypeError("The decorator for method "+y.key+" is of the invalid type "+typeof z)}y=z(C,E,y)||y}if(void 0!==y.initializer){D[E]=y;continue}}Object.defineProperty(C,E,y)}}return function(B,z,A,C,y){return z&&x(B.prototype,z,C),A&&x(B,A,y),B}}();v.isDescriptor=w,v.decorate=m,v.metaFor=t,v.getOwnPropertyDescriptors=l,v.createDefaultSetter=p;var u=e(7),r=c(u),j=Object.defineProperty,o=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,q=function(){function y(){g(this,y),s(this,"debounceTimeoutIds",x),s(this,"throttleTimeoutIds",x),s(this,"throttlePreviousTimestamps",x)}var x={};return b(y,[{key:"debounceTimeoutIds",decorators:[r["default"]],initializer:function(){return{}},enumerable:!0},{key:"throttleTimeoutIds",decorators:[r["default"]],initializer:function(){return{}},enumerable:!0},{key:"throttlePreviousTimestamps",decorators:[r["default"]],initializer:function(){return{}},enumerable:!0}],null,x),y}(),n="function"==typeof Symbol?Symbol("__core_decorators__"):"__core_decorators__",k=a?function(x){return h(x).concat(a(x))}:h;v.getOwnKeys=k},function(d,c,f){function b(m,i,l){var h=l.configurable,g=l.enumerable,j=l.initializer,k=l.value;return{configurable:h,enumerable:g,get:function(){if(this!==m){var n=j?j.call(this):k;return Object.defineProperty(this,i,{configurable:h,enumerable:g,writable:!0,value:n}),n}},set:(0,a.createDefaultSetter)(i)}}function e(){for(var g=arguments.length,h=Array(g),i=0;i<g;i++){h[i]=arguments[i]}return(0,a.decorate)(b,h)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var a=f(6);d.exports=c["default"]},function(c,e,b){function f(q,r,j,o){var m=i(o,2),n=m[0],k=void 0===n?a:n,l=m[1],s=void 0===l?{}:l;if("function"!=typeof j.value){throw new SyntaxError("Only functions can be marked as deprecated")}var p=q.constructor.name+"#"+r;return s.url&&(k+="\n\n    See "+s.url+" for more details.\n\n"),d({},j,{value:function(){return console.warn("DEPRECATION "+p+": "+k),j.value.apply(this,arguments)}})}function g(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++){k[l]=arguments[l]}return(0,h.decorate)(f,k)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function j(o,n){var r=[],k=!0,q=!1,p=void 0;try{for(var s,m=o[Symbol.iterator]();!(k=(s=m.next()).done)&&(r.push(s.value),!n||r.length!==n);k=!0){}}catch(l){q=!0,p=l}finally{try{!k&&m["return"]&&m["return"]()}finally{if(q){throw p}}}return r}return function(k,l){if(Array.isArray(k)){return k}if(Symbol.iterator in Object(k)){return j(k,l)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=Object.assign||function(m){for(var k=1;k<arguments.length;k++){var l=arguments[k];for(var j in l){Object.prototype.hasOwnProperty.call(l,j)&&(m[j]=l[j])}}return m};e["default"]=g;var h=b(6),a="This function will be removed in future versions.";c.exports=e["default"]},function(b,d,a){function h(){}function i(m,n,k){var l=console.warn;console.warn=h;var j=n.apply(m,k);return console.warn=l,j}function e(l,j,k){return c({},k,{value:function(){return i(this,k.value,arguments)}})}function f(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++){k[l]=arguments[l]}return(0,g.decorate)(e,k)}Object.defineProperty(d,"__esModule",{value:!0});var c=Object.assign||function(m){for(var k=1;k<arguments.length;k++){var l=arguments[k];for(var j in l){Object.prototype.hasOwnProperty.call(l,j)&&(m[j]=l[j])}}return m};d["default"]=f;var g=a(6);b.exports=d["default"]},function(b,e,a){function c(n,l,m){return l in n?Object.defineProperty(n,l,{value:m,enumerable:!0,configurable:!0,writable:!0}):n[l]=m,n}function k(l,m){return m===Object(m)?m:l[m]||(l[m]={})}function j(p,q,o,m,l){var n=q.apply(p,o);return m[l]=n,n}function i(n){var l=void 0,m=void 0;return n.value?(l=n.value,m="value"):n.get?(l=n.get,m="get"):n.set&&(l=n.set,m="set"),{fn:l,wrapKey:m}}function f(o,r,l){console.warn("DEPRECATION: @memoize is deprecated and will be removed shortly. Use @decorate with lodash's memoize helper.\n\n  https://github.com/jayphelps/core-decorators.js#decorate");var s=i(l),q=s.fn,p=s.wrapKey,t=new WeakMap(),m=Object.create(null),u=Object.create(null),n=0;return d({},l,c({},p,function(){for(var B=arguments.length,A=Array(B),v=0;v<B;v++){A[v]=arguments[v]}for(var w="0",z=0,y=A.length;z<y;z++){var D=A[z],x=k(u,D),C=t.get(x);void 0===C&&(C=++n,t.set(x,C)),w+=C}return m[w]||j(this,q,arguments,m,w)}))}function h(){for(var l=arguments.length,n=Array(l),m=0;m<l;m++){n[m]=arguments[m]}return(0,g.decorate)(f,n)}Object.defineProperty(e,"__esModule",{value:!0});var d=Object.assign||function(o){for(var m=1;m<arguments.length;m++){var n=arguments[m];for(var l in n){Object.prototype.hasOwnProperty.call(n,l)&&(o[l]=n[l])}}return o};e["default"]=h;var g=a(6);b.exports=e["default"]},function(d,e,c){function k(n){if(Array.isArray(n)){for(var p=0,o=Array(n.length);p<n.length;p++){o[p]=n[p]}return o}return Array.from(n)}function i(o,n){return o.bind?o.bind(n):function(){return o.apply(n,arguments)}}function j(p,o){if("undefined"==typeof WeakMap){throw new Error("Using @autobind on "+o.name+"() requires WeakMap support due to its use of super."+o.name+"()\n      See https://github.com/jayphelps/core-decorators.js/issues/20")}a||(a=new WeakMap()),a.has(p)===!1&&a.set(p,new WeakMap());var n=a.get(p);return n.has(o)===!1&&n.set(o,i(o,p)),n.get(o)}function m(t){var q=(0,h.getOwnPropertyDescriptors)(t.prototype),p=!0,n=!1,v=void 0;try{for(var w,s=(0,h.getOwnKeys)(q)[Symbol.iterator]();!(p=(w=s.next()).done);p=!0){var u=w.value,r=q[u];"function"==typeof r.value&&"constructor"!==u&&b(t.prototype,u,l(t.prototype,u,r))}}catch(o){n=!0,v=o}finally{try{!p&&s["return"]&&s["return"]()}finally{if(n){throw v}}}}function l(t,p,s){var r=s.value,o=s.configurable,n=s.enumerable;if("function"!=typeof r){throw new SyntaxError("@autobind can only be used on functions, not: "+r)}var q=t.constructor;return{configurable:o,enumerable:n,get:function(){if(this===t){return r}if(this.constructor!==q&&Object.getPrototypeOf(this).constructor===q){return r}if(this.constructor!==q&&p in this.constructor.prototype){return j(this,r)}var u=i(r,this);return b(this,p,{configurable:!0,writable:!0,enumerable:!1,value:u}),u},set:(0,h.createDefaultSetter)(p)}}function f(n){return 1===n.length?m.apply(void 0,k(n)):l.apply(void 0,k(n))}function g(){for(var n=arguments.length,o=Array(n),p=0;p<n;p++){o[p]=arguments[p]}return 0===o.length?function(){return f(arguments)}:f(o)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=g;var h=c(6),b=Object.defineProperty,a=void 0;d.exports=e["default"]},function(e,d,f){function c(i,g,h){return h.writable=!1,h}function b(){for(var g=arguments.length,h=Array(g),i=0;i<g;i++){h[i]=arguments[i]}return(0,a.decorate)(c,h)}Object.defineProperty(d,"__esModule",{value:!0}),d["default"]=b;var a=f(6);e.exports=d["default"]},function(e,d,f){function c(i,g,h){return h.enumerable=!0,h}function b(){for(var g=arguments.length,h=Array(g),i=0;i<g;i++){h[i]=arguments[i]}return(0,a.decorate)(c,h)}Object.defineProperty(d,"__esModule",{value:!0}),d["default"]=b;var a=f(6);e.exports=d["default"]},function(e,c,f){function b(i,g,h){return h.enumerable=!1,h}function d(){for(var g=arguments.length,h=Array(g),i=0;i<g;i++){h[i]=arguments[i]}return(0,a.decorate)(b,h)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var a=f(6);e.exports=c["default"]},function(d,c,e){function b(i,g,h){return h.configurable=!1,h}function f(){for(var g=arguments.length,h=Array(g),i=0;i<g;i++){h[i]=arguments[i]}return(0,a.decorate)(b,h)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=f;var a=e(6);d.exports=c["default"]},function(b,d,a){function e(q,r,j,o){var m=h(o,2),n=m[0],p=void 0===n?i:n,l=m[1],k=void 0!==l&&l,s=j.value;if("function"!=typeof s){throw new SyntaxError("Only functions can be debounced")}return c({},j,{value:function(){var y=this,x=(0,f.metaFor)(this),v=x.debounceTimeoutIds,w=v[r],t=k&&!w,u=arguments;clearTimeout(w),v[r]=setTimeout(function(){delete v[r],k||s.apply(y,u)},p),t&&s.apply(this,u)}})}function g(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++){k[l]=arguments[l]}return(0,f.decorate)(e,k)}Object.defineProperty(d,"__esModule",{value:!0});var h=function(){function j(o,n){var r=[],k=!0,q=!1,p=void 0;try{for(var s,m=o[Symbol.iterator]();!(k=(s=m.next()).done)&&(r.push(s.value),!n||r.length!==n);k=!0){}}catch(l){q=!0,p=l}finally{try{!k&&m["return"]&&m["return"]()}finally{if(q){throw p}}}return r}return function(k,l){if(Array.isArray(k)){return k}if(Symbol.iterator in Object(k)){return j(k,l)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=Object.assign||function(m){for(var k=1;k<arguments.length;k++){var l=arguments[k];for(var j in l){Object.prototype.hasOwnProperty.call(l,j)&&(m[j]=l[j])}}return m};d["default"]=g;var f=a(6),i=300;b.exports=d["default"]},function(b,d,a){function e(p,q,j,n){var l=h(n,2),m=l[0],o=void 0===m?i:m,k=l[1],s=void 0===k?{}:k,r=j.value;if("function"!=typeof r){throw new SyntaxError("Only functions can be throttled")}return s.leading!==!1&&(s.leading=!0),s.trailing!==!1&&(s.trailing=!0),c({},j,{value:function(){var y=this,v=(0,f.metaFor)(this),B=v.throttleTimeoutIds,u=v.throttlePreviousTimestamps,A=B[q],x=u[q]||0,t=Date.now(),z=arguments;x||s.leading!==!1||(x=t);var w=o-(t-x);w<=0?(clearTimeout(A),delete B[q],u[q]=t,r.apply(this,z)):A||s.trailing===!1||(B[q]=setTimeout(function(){u[q]=s.leading===!1?0:Date.now(),delete B[q],r.apply(y,z)},w))}})}function g(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++){k[l]=arguments[l]}return(0,f.decorate)(e,k)}Object.defineProperty(d,"__esModule",{value:!0});var h=function(){function j(o,n){var r=[],k=!0,q=!1,p=void 0;try{for(var s,m=o[Symbol.iterator]();!(k=(s=m.next()).done)&&(r.push(s.value),!n||r.length!==n);k=!0){}}catch(l){q=!0,p=l}finally{try{!k&&m["return"]&&m["return"]()}finally{if(q){throw p}}}return r}return function(k,l){if(Array.isArray(k)){return k}if(Symbol.iterator in Object(k)){return j(k,l)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=Object.assign||function(m){for(var k=1;k<arguments.length;k++){var l=arguments[k];for(var j in l){Object.prototype.hasOwnProperty.call(l,j)&&(m[j]=l[j])}}return m};d["default"]=g;var f=a(6),i=300;b.exports=d["default"]},function(f,e,h){function a(j){if(Array.isArray(j)){for(var l=0,k=Array(j.length);l<j.length;l++){k[l]=j[l]}return k}return Array.from(j)}function c(i){return Array.isArray(i)?i:Array.from(i)}function d(p,t,i,n){var l=c(n),m=l[0],q=l.slice(1),u=i.configurable,k=i.enumerable,r=i.writable,v=i.get,o=i.set,s=i.value,j=!!v;return{configurable:u,enumerable:k,get:function(){var w=j?v.call(this):s,x=m.call.apply(m,[this,w].concat(a(q)));if(j){return x}var y={configurable:u,enumerable:k};return y.value=x,y.writable=r,Object.defineProperty(this,t,y),x},set:j?o:(0,b.createDefaultSetter)()}}function g(){for(var i=arguments.length,j=Array(i),k=0;k<i;k++){j[k]=arguments[k]}return(0,b.decorate)(d,j)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=g;var b=h(6);f.exports=e["default"]},function(c,d,b){function f(k){return"[object Symbol]"===Object.prototype.toString.call(k)&&"object"==typeof k}function i(l,k){if(f(l)){do{if(k===Object.prototype){return"undefined"!=typeof k[l]}if(k.hasOwnProperty(l)){return !0}}while(k=g(k));return !1}return l in k}function h(t,s){if(!s.length){throw new SyntaxError("@mixin() class "+t.name+" requires at least one mixin as an argument")}for(var o=0,m=s.length;o<m;o++){var q=(0,e.getOwnPropertyDescriptors)(s[o]),p=!0,k=!1,w=void 0;try{for(var v,r=(0,e.getOwnKeys)(q)[Symbol.iterator]();!(p=(v=r.next()).done);p=!0){var u=v.value;i(u,t.prototype)||a(t.prototype,u,q[u])}}catch(n){k=!0,w=n}finally{try{!p&&r["return"]&&r["return"]()}finally{if(k){throw w}}}}}function j(){for(var l=arguments.length,k=Array(l),m=0;m<l;m++){k[m]=arguments[m]}return"function"==typeof k[0]?h(k[0],[]):function(n){return h(n,k)}}Object.defineProperty(d,"__esModule",{value:!0}),d["default"]=j;var e=b(6),a=Object.defineProperty,g=Object.getPrototypeOf;c.exports=d["default"]},function(b,e,a){function g(s,u,l,q){var n=k(q,2),o=n[0],r=void 0===o?null:o,m=n[1],p=void 0===m?j:m,t=l.value;if(null===r&&(r=s.constructor.name+"."+u),"function"!=typeof t){throw new SyntaxError("@time can only be used on functions, not: "+t)}return d({},l,{value:function(){var v=r+"-"+h;h++,p.time(v);try{return t.apply(this,arguments)}finally{p.timeEnd(v)}}})}function c(){for(var l=arguments.length,m=Array(l),n=0;n<l;n++){m[n]=arguments[n]}return(0,i.decorate)(g,m)}Object.defineProperty(e,"__esModule",{value:!0});var k=function(){function l(q,p){var t=[],m=!0,s=!1,r=void 0;try{for(var u,o=q[Symbol.iterator]();!(m=(u=o.next()).done)&&(t.push(u.value),!p||t.length!==p);m=!0){}}catch(n){s=!0,r=n}finally{try{!m&&o["return"]&&o["return"]()}finally{if(s){throw r}}}return t}return function(m,n){if(Array.isArray(m)){return m}if(Symbol.iterator in Object(m)){return l(m,n)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=Object.assign||function(o){for(var m=1;m<arguments.length;m++){var n=arguments[m];for(var l in n){Object.prototype.hasOwnProperty.call(n,l)&&(o[l]=n[l])}}return o};e["default"]=c;var i=a(6),f={},j={time:console.time?console.time.bind(console):function(l){f[l]=new Date()},timeEnd:console.timeEnd?console.timeEnd.bind(console):function(n){var m=new Date(),l=m-f[n];delete f[n],console.log(n+": "+l+"ms")}};e.defaultConsole=j;var h=0},function(e,c,f){function b(k,i,j){var l=Object.getPrototypeOf(k),h=Object.getOwnPropertyDescriptor(l,i);return d({},h,{value:j.value,initializer:j.initializer,get:j.get||h.get,set:j.set||h.set})}function g(){for(var h=arguments.length,i=Array(h),j=0;j<h;j++){i[j]=arguments[j]}return(0,a.decorate)(b,i)}Object.defineProperty(c,"__esModule",{value:!0});var d=Object.assign||function(l){for(var j=1;j<arguments.length;j++){var k=arguments[j];for(var h in k){Object.prototype.hasOwnProperty.call(k,h)&&(l[h]=k[h])}}return l};c["default"]=g;var a=f(6);e.exports=c["default"]},function(c,b){function e(j,o){var k=j.prototype;for(var n in o){for(var h=o[n],m=0,f=h.length;m<f;m++){var g=h[m];a(k,n,g(k,n,d(k,n)))}}return j}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e;var a=Object.defineProperty,d=Object.getOwnPropertyDescriptor;c.exports=b["default"]},function(b,a,c){(function(i){function h(k){return k&&k.__esModule?k:{"default":k}}function j(k,l){if(!(k instanceof l)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function k(o,m){for(var l=0;l<m.length;l++){var n=m[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value" in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(n,l,m){return l&&k(n.prototype,l),m&&k(n,m),n}}(),e=c(25),f=h(e),d=function(){function k(){j(this,k)}return g(k,[{key:"loadProperties",value:function(o,q,l,m){var r=this,p=function(y){var x=function(A){var z=A;return 0===f["default"].trim(A).indexOf("#")&&(z=A.substr(0,A.indexOf("#"))),f["default"].trim(z)},v=function(A){var z={},B=A.indexOf("=");return B>=0?(z.key=f["default"].trim(A.substr(0,B)),z.value=f["default"].trim(A.substr(B+1)),z):null},u={},t=y.split(/\r\n|\n|\r/g);for(var w in t){var s=v(x(t[w]));s&&(u[s.key]=s.value)}return u},n=function(t,s){var u=void 0,w=void 0;if(t){if(s){w=p(s),u=p(t);for(var v in u){w[v]&&""!=w[v]&&(u[v]=w[v])}l.call(r,u)}else{u=p(t),l.call(r,u)}}else{s?(w=p(s),l.call(r,w)):m.call(r)}};q==o?this.getResourse(q).done(function(s){n(s,null)}).fail(function(){n(null,null)}):this.getResourse(q).done(function(s){r.getResourse(o).done(function(t){n(s,t)}).fail(function(){n(s,null)})}).fail(function(){r.getResourse(o).done(function(s){n(null,s)}).fail(function(){n(null,null)})})}},{key:"getResourse",value:function(l){return i.ajax({type:"get",url:l,dataType:"text"})}}]),k}();a["default"]=new d()}).call(a,c(24))},function(b,a){b.exports=jQuery},function(b,a){b.exports=_},function(c,a){function e(f,g){if(!(f instanceof g)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function f(k,h){for(var g=0;g<h.length;g++){var j=h[g];j.enumerable=j.enumerable||!1,j.configurable=!0,"value" in j&&(j.writable=!0),Object.defineProperty(k,j.key,j)}}return function(i,g,h){return g&&f(i.prototype,g),h&&f(i,h),i}}(),d=function(){function f(){e(this,f)}return b(f,null,[{key:"getUserLocale",value:function(){var h=Liferay.ThemeDisplay.getLanguageId(),g=h.indexOf("_");return g>0&&(h=h.substr(0,g)),h}},{key:"getUserLanguageId",value:function(){return Liferay.ThemeDisplay.getLanguageId()}},{key:"authToken",value:function(){return Liferay.authToken}},{key:"courseId",value:function(){return parseInt(Liferay.ThemeDisplay.getScopeGroupId())}},{key:"plId",value:function(){return parseInt(Liferay.ThemeDisplay.getPlid())}},{key:"userId",value:function(){return parseInt(Liferay.ThemeDisplay.getUserId())}},{key:"pathMain",value:function(){return Liferay.ThemeDisplay.getPathMain()}}]),f}();a["default"]=d},function(b,a,c){(function(j){function h(k){return k&&k.__esModule?k:{"default":k}}function i(k,l){if(!(k instanceof l)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=void 0;var f=function(){function k(o,m){for(var l=0;l<m.length;l++){var n=m[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value" in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(n,l,m){return l&&k(n.prototype,l),m&&k(n,m),n}}(),d=c(25),e=h(d),g=function(){function k(){i(this,k)}return f(k,null,[{key:"init",value:function(l){l=l||{},j.Renderer.render=function(o,p,m){if(e["default"].extend(p,{language:l.language}),e["default"].extend(p,{permissions:l.permissions}),!o){throw new j.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."})}var n=e["default"].isFunction(o)?o:j.TemplateCache.get(o);return n(p)}}}]),k}();a["default"]=g}).call(a,c(2))},function(b,a,c){(function(k){function l(m){return m&&m.__esModule?m:{"default":m}}function f(m,n){if(!(m instanceof n)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=void 0;var d=function(){function m(q,o){for(var n=0;n<o.length;n++){var p=o[n];p.enumerable=p.enumerable||!1,p.configurable=!0,"value" in p&&(p.writable=!0),Object.defineProperty(q,p.key,p)}}return function(p,n,o){return n&&m(p.prototype,n),o&&m(p,o),p}}(),g=c(25),e=l(g),j=c(26),h=l(j),i=function(){function m(){f(this,m)}return d(m,null,[{key:"init",value:function(){var n=k.sync;k.sync=function(u,q,p){var t=this,r=h["default"].authToken(),o=h["default"].plId(),s={layoutId:o,"X-VALAMIS-Layout-Id":o,"X-VALAMIS-Course-Id":h["default"].courseId()};return p.data||"read"===u||(p.contentType="application/json",p.data=JSON.stringify(q.toJSON())),"read"!=u&&e["default"].extend(s,{"X-CSRF-Token":r}),p.beforeSend=function(v){e["default"].each(s,function(x,w){v.setRequestHeader(w,x)})},new Promise(function(w,v){n.apply(t,[u,q,p]).then(function(){w.apply(void 0,arguments)},function(){v.apply(void 0,arguments)})})}}}]),m}();a["default"]=i}).call(a,c(3))},function(b,a,c){(function(i,h){function n(o){return o&&o.__esModule?o:{"default":o}}Object.defineProperty(a,"__esModule",{value:!0});var k=c(1),e=n(k),j=c(30),m=n(j),l=c(31),d=n(l),f=c(36),g=(n(f),i.Object.extend({channelName:"notify",radioEvents:{notify:"notify",confirm:"confirm"},notify:function(t,s,p,u){function r(v){switch(v){case"success":return m["default"].success;case"warning":return m["default"].warning;case"error":return m["default"].error;case"clear":return m["default"].clear;case"info":default:return m["default"].info}}var o=r(t);p=p||{},_.extend(p,{positionClass:"toast-top-right"}),m["default"].options.positionClass||p&&p.positionClass||_.extend(p,{positionClass:"toast-top-right"}),h("#toast-container").children().length>0&&(m["default"].options.hideDuration=0,m["default"].clear(),m["default"].options.hideDuration=1000);var q=e["default"].language[s]||s;o(q,u,p)},confirm:function(o,q,s){var p=new d["default"](o);p.on("confirmed",function(){p.destroy(),_.isFunction(q)&&q()}),p.on("declined",function(){p.destroy(),_.isFunction(s)&&s()});var r=e["default"].language[this.options.title]||this.options.title;m["default"].info(p.render().$el,r,{positionClass:"toast-center",timeOut:"0",showDuration:"0",hideDuration:"0",extendedTimeOut:"0"})}}));a["default"]=g}).call(a,c(2),c(24))},function(b,a){b.exports=toastr},function(b,a,c){(function(h){function e(i){return i&&i.__esModule?i:{"default":i}}Object.defineProperty(a,"__esModule",{value:!0});var f=c(32),g=e(f),d=h.View.extend({template:g["default"],ui:{confirm:".js-confirmation",decline:".js-decline"},events:{"click @ui.confirm":"confirm","click @ui.decline":"decline"},templateContext:function(){return{message:this.options.message||"",showDontSaveButton:!!this.options.showDontSaveButton}},confirm:function(){this.trigger("confirmed",this)},decline:function(){this.trigger("declined",this)},onRender:function(){return this.$el}});a["default"]=d}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="confirmation-question">'),f.b(f.v(f.f("message",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b("<div>"),f.b("\n"+g),f.b("    <button class='js-confirmation confirmation btn-primary'>"),f.b(f.v(f.d("language.yesLabel",j,h,0))),f.b("</button>"),f.b("\n"+g),f.s(f.f("showDontSaveButton",j,h,1),j,h,0,178,270,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('    <button class="js-decline decline btn-primary">'),i.b(i.v(i.d("language.dontSaveLabel",l,k,0))),i.b("</button>"),i.b("\n"+g)}),j.pop()),f.b("    <button>"),f.b(f.v(f.d("language.cancelLabel",j,h,0))),f.b("</button>"),f.b("\n"+g),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="confirmation-question">{{message}}</div>\n<div>\n    <button class=\'js-confirmation confirmation btn-primary\'>{{language.yesLabel}}</button>\n    {{#showDontSaveButton}}\n    <button class="js-decline decline btn-primary">{{language.dontSaveLabel}}</button>\n    {{/showDontSaveButton}}\n    <button>{{language.cancelLabel}}</button>\n</div>',b);return e.render.apply(e,arguments)}},function(c,b,d){var a=d(34);a.Template=d(35).Template,a.template=a.Template,c.exports=a},function(b,a,c){!function(q){function v(A){"}"===A.n.substr(A.n.length-1)&&(A.n=A.n.substring(0,A.n.length-1))}function u(A){return A.trim?A.trim():A.replace(/^\s*|\s*$/g,"")}function z(A,E,C){if(E.charAt(C)!=A.charAt(0)){return !1}for(var D=1,B=A.length;D<B;D++){if(E.charAt(C+D)!=A.charAt(D)){return !1}}return !0}function e(H,E,B,G){var A=[],F=null,C=null,D=null;for(C=B[B.length-1];H.length>0;){if(D=H.shift(),C&&"<"==C.tag&&!(D.tag in j)){throw new Error("Illegal content in < super tag.")}if(q.tags[D.tag]<=q.tags["$"]||g(D,G)){B.push(D),D.nodes=e(H,D.tag,B,G)}else{if("/"==D.tag){if(0===B.length){throw new Error("Closing tag without opener: /"+D.n)}if(F=B.pop(),D.n!=F.n&&!l(D.n,F.n,G)){throw new Error("Nesting error: "+F.n+" vs. "+D.n)}return F.end=D.i,A}"\n"==D.tag&&(D.last=0==H.length||"\n"==H[0].tag)}A.push(D)}if(B.length>0){throw new Error("missing closing tag: "+B.pop().n)}return A}function g(D,B){for(var C=0,A=B.length;C<A;C++){if(B[C].o==D.n){return D.tag="#",!0}}}function l(E,C,B){for(var D=0,A=B.length;D<A;D++){if(B[D].c==E&&B[D].o==C){return !0}}}function k(C){var A=[];for(var B in C){A.push('"'+y(B)+'": function(c,p,t,i) {'+C[B]+"}")}return"{ "+A.join(",")+" }"}function s(C){var B=[];for(var A in C.partials){B.push('"'+y(A)+'":{name:"'+y(C.partials[A].name)+'", '+s(C.partials[A])+"}")}return"partials: {"+B.join(",")+"}, subs: "+k(C.subs)}function y(A){return A.replace(x,"\\\\").replace(o,'\\"').replace(r,"\\n").replace(n,"\\r").replace(t,"\\u2028").replace(d,"\\u2029")}function m(A){return ~A.indexOf(".")?"d":"f"}function p(C,B){var D="<"+(B.prefix||""),A=D+C.n+h++;return B.partials[A]={name:C.n,partials:{}},B.code+='t.b(t.rp("'+y(A)+'",c,p,"'+(C.indent||"")+'"));',A}function f(B,A){A.code+="t.b(t.t(t."+m(B.n)+'("'+y(B.n)+'",c,p,0)));'}function w(A){return"t.b("+A+");"}var i=/\S/,o=/\"/g,r=/\n/g,n=/\r/g,x=/\\/g,t=/\u2028/,d=/\u2029/;q.tags={"#":1,"^":2,"<":3,"$":4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},q.scan=function(K,E){function O(){S.length>0&&(L.push({tag:"_t",text:new String(S)}),S="")}function D(){for(var V=!0,U=N;U<L.length;U++){if(V=q.tags[L[U].tag]<q.tags._v||"_t"==L[U].tag&&null===L[U].text.match(i),!V){return !1}}return V}function M(X,U){if(O(),X&&D()){for(var W,V=N;V<L.length;V++){L[V].text&&((W=L[V+1])&&">"==W.tag&&(W.indent=L[V].text.toString()),L.splice(V,1))}}else{U||L.push({tag:"\n"})}I=!1,N=L.length}function H(Y,V){var X="="+P,U=Y.indexOf(X,V),W=u(Y.substring(Y.indexOf("=",V)+1,U)).split(" ");return J=W[0],P=W[W.length-1],U+X.length-1}var R=K.length,B=0,G=1,A=2,C=B,F=null,T=null,S="",L=[],I=!1,Q=0,N=0,J="{{",P="}}";for(E&&(E=E.split(" "),J=E[0],P=E[1]),Q=0;Q<R;Q++){C==B?z(J,K,Q)?(--Q,O(),C=G):"\n"==K.charAt(Q)?M(I):S+=K.charAt(Q):C==G?(Q+=J.length-1,T=q.tags[K.charAt(Q+1)],F=T?K.charAt(Q+1):"_v","="==F?(Q=H(K,Q),C=B):(T&&Q++,C=A),I=Q):z(P,K,Q)?(L.push({tag:F,n:u(S),otag:J,ctag:P,i:"/"==F?I-J.length:Q+P.length}),S="",Q+=P.length-1,C=B,"{"==F&&("}}"==P?Q++:v(L[L.length-1]))):S+=K.charAt(Q)}return M(I,!0),L};var j={_t:!0,"\n":!0,"$":!0,"/":!0};q.stringify=function(C,B,A){return"{code: function (c,p,i) { "+q.wrapMain(C.code)+" },"+s(C)+"}"};var h=0;q.generate=function(A,D,B){h=0;var C={code:"",subs:{},partials:{}};return q.walk(A,C),B.asString?this.stringify(C,D,B):this.makeTemplate(C,D,B)},q.wrapMain=function(A){return'var t=this;t.b(i=i||"");'+A+"return t.fl();"},q.template=q.Template,q.makeTemplate=function(D,C,A){var B=this.makePartials(D);return B.code=new Function("c","p","i",this.wrapMain(D.code)),new this.template(B,C,this,A)},q.makePartials=function(C){var A,B={subs:{},partials:C.partials,name:C.name};for(A in B.partials){B.partials[A]=this.makePartials(B.partials[A])}for(A in C.subs){B.subs[A]=new Function("c","p","t","i",C.subs[A])}return B},q.codegen={"#":function(B,A){A.code+="if(t.s(t."+m(B.n)+'("'+y(B.n)+'",c,p,1),c,p,0,'+B.i+","+B.end+',"'+B.otag+" "+B.ctag+'")){t.rs(c,p,function(c,p,t){',q.walk(B.nodes,A),A.code+="});c.pop();}"},"^":function(B,A){A.code+="if(!t.s(t."+m(B.n)+'("'+y(B.n)+'",c,p,1),c,p,1,0,0,"")){',q.walk(B.nodes,A),A.code+="};"},">":p,"<":function(D,B){var A={partials:{},code:"",subs:{},inPartial:!0};q.walk(D.nodes,A);var C=B.partials[p(D,B)];C.subs=A.subs,C.partials=A.partials},"$":function(C,B){var A={subs:{},code:"",partials:B.partials,prefix:C.n};q.walk(C.nodes,A),B.subs[C.n]=A.code,B.inPartial||(B.code+='t.sub("'+y(C.n)+'",c,p,i);')},"\n":function(B,A){A.code+=w('"\\n"'+(B.last?"":" + i"))},_v:function(B,A){A.code+="t.b(t.v(t."+m(B.n)+'("'+y(B.n)+'",c,p,0)));'},_t:function(B,A){A.code+=w('"'+y(B.text)+'"')},"{":f,"&":f},q.walk=function(E,C){for(var D,B=0,A=E.length;B<A;B++){D=q.codegen[E[B].tag],D&&D(E[B],C)}return C},q.parse=function(B,C,A){return A=A||{},e(B,"",[],A.sectionTags||[])},q.cache={},q.cacheKey=function(B,A){return[B,!!A.asString,!!A.disableLambda,A.delimiters,!!A.modelGet].join("||")},q.compile=function(F,B){B=B||{};var D=q.cacheKey(F,B),E=this.cache[D];if(E){var C=E.partials;for(var A in C){delete C[A].instance}return E}return E=this.generate(this.parse(this.scan(F,B.delimiters),F,B),F,B),this.cache[D]=E}}(a)},function(b,a,c){!function(m){function e(q,r,p){var s;return r&&"object"==typeof r&&(void 0!==r[q]?s=r[q]:p&&r.get&&"function"==typeof r.get&&(s=r.get(q))),s}function k(y,r,t,p,s,w){function q(){}function u(){}q.prototype=y,u.prototype=y.subs;var x,v=new q();v.subs=new u(),v.subsText={},v.buf="",p=p||{},v.stackSubs=p,v.subsText=w;for(x in r){p[x]||(p[x]=r[x])}for(x in p){v.subs[x]=p[x]}s=s||{},v.stackPartials=s;for(x in t){s[x]||(s[x]=t[x])}for(x in s){v.partials[x]=s[x]}return v}function h(p){return String(null===p||void 0===p?"":p)}function g(p){return p=h(p),i.test(p)?p.replace(l,"&amp;").replace(f,"&lt;").replace(d,"&gt;").replace(o,"&#39;").replace(n,"&quot;"):p}m.Template=function(s,r,q,p){s=s||{},this.r=s.code||this.r,this.c=q,this.options=p||{},this.text=r||"",this.partials=s.partials||{},this.subs=s.subs||{},this.buf=""},m.Template.prototype={r:function(r,q,p){return""},v:g,t:h,render:function(r,q,p){return this.ri([r],q||{},p)},ri:function(r,q,p){return this.r(r,q,p)},ep:function(s,q){var p=this.partials[s],r=q[p.name];if(p.instance&&p.base==r){return p.instance}if("string"==typeof r){if(!this.c){throw new Error("No compiler available.")}r=this.c.compile(r,this.options)}if(!r){return null}if(this.partials[s].base=r,p.subs){q.stackText||(q.stackText={});for(key in p.subs){q.stackText[key]||(q.stackText[key]=void 0!==this.activeSub&&q.stackText[this.activeSub]?q.stackText[this.activeSub]:this.text)}r=k(r,p.subs,p.partials,this.stackSubs,this.stackPartials,q.stackText)}return this.partials[s].instance=r,r},rp:function(t,s,r,p){var q=this.ep(t,r);return q?q.ri(s,r,p):""},rs:function(s,r,t){var p=s[s.length-1];if(!j(p)){return void t(s,r,this)}for(var q=0;q<p.length;q++){s.push(p[q]),t(s,r,this),s.pop()}},s:function(v,q,t,r,w,p,s){var u;return(!j(v)||0!==v.length)&&("function"==typeof v&&(v=this.ms(v,q,t,r,w,p,s)),u=!!v,!r&&u&&q&&q.push("object"==typeof v?v:q[q.length-1]),u)},d:function(w,x,t,q){var y,v=w.split("."),p=this.f(v[0],x,t,q),u=this.options.modelGet,r=null;if("."===w&&j(x[x.length-2])){p=x[x.length-1]}else{for(var s=1;s<v.length;s++){y=e(v[s],p,u),void 0!==y?(r=p,p=y):p=""}}return !(q&&!p)&&(q||"function"!=typeof p||(x.push(r),p=this.mv(p,x,t),x.pop()),p)},f:function(u,x,s,q){for(var p=!1,w=null,y=!1,t=this.options.modelGet,r=x.length-1;r>=0;r--){if(w=x[r],p=e(u,w,t),void 0!==p){y=!0;break}}return y?(q||"function"!=typeof p||(p=this.mv(p,x,s)),p):!q&&""},ls:function(t,p,r,u,q){var s=this.options.delimiters;return this.options.delimiters=q,this.b(this.ct(h(t.call(p,u)),p,r)),this.options.delimiters=s,!1},ct:function(r,p,q){if(this.options.disableLambda){throw new Error("Lambda features disabled.")}return this.c.compile(r,this.options).render(p,q)},b:function(p){this.buf+=p},fl:function(){var p=this.buf;return this.buf="",p},ms:function(q,w,u,r,p,t,y){var v,s=w[w.length-1],x=q.call(s);return"function"==typeof x?!!r||(v=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(x,s,u,v.substring(p,t),y)):x},mv:function(t,r,s){var q=r[r.length-1],p=t.call(q);return"function"==typeof p?this.ct(h(p.call(q)),q,s):p},sub:function(q,s,r,p){var t=this.subs[q];t&&(this.activeSub=q,t(s,r,this,p),this.activeSub=!1)}};var l=/&/g,f=/</g,d=/>/g,o=/\'/g,n=/\"/g,i=/[&<>\"\']/,j=Array.isArray||function(p){return"[object Array]"===Object.prototype.toString.call(p)}}(a)},function(b,a){b.exports=Backbone.Radio},function(b,a,c){(function(k){function o(q){return q&&q.__esModule?q:{"default":q}}function h(q,r){if(!(q instanceof r)){throw new TypeError("Cannot call a class as a function")}}function l(q,r){if(!q){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !r||"object"!=typeof r&&"function"!=typeof r?q:r}function n(r,q){if("function"!=typeof q&&null!==q){throw new TypeError("Super expression must either be null or a function, not "+typeof q)}r.prototype=Object.create(q&&q.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(r,q):r.__proto__=q)}Object.defineProperty(a,"__esModule",{value:!0});var j,i,g=function(){function q(u,s){for(var r=0;r<s.length;r++){var t=s[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value" in t&&(t.writable=!0),Object.defineProperty(u,t.key,t)}}return function(t,r,s){return r&&q(t.prototype,r),s&&q(t,s),t}}(),m=c(4),p=c(38),e=o(p),f=c(36),d=(o(f),j=(0,m.mixin)({channelName:"modal",radioEvents:{open:"open","open:as:modal":"openAsModal",close:"close",submit:"submit"}}),j(i=function(r){function q(s){h(this,q);var t=l(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,arguments));if(s||(s={}),!s.region){throw Error("Modal region is not defined")}return t.modalRegion=s.region,t}return n(q,r),g(q,[{key:"open",value:function(s){this.modalRegion.show(s)}},{key:"openAsModal",value:function(s,u){var v=Object.assign({},u,{contentView:s}),t=new e["default"](v);this.modalRegion.show(t)}},{key:"close",value:function(s){this.modalRegion.destroy(s)}},{key:"submit",value:function(s,t){}}]),q}(k.Object))||i);a["default"]=d}).call(a,c(2))},function(b,a,c){(function(j){function h(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(a,"__esModule",{value:!0});var i=c(25),g=h(i),f=c(39),e=h(f),d=j.Modal.extend({template:e["default"],className:"val-modal",submitEl:".js-submit-button",cancelEl:".modal-close",clickOutside:function(){},checkKey:function(l){var k={esc:27};if(this.active){switch(l.keyCode){case k.esc:return this.triggerCancel()}}},initialize:function(k){this.header=k.header,this.isSimple=k.isSimple,this.contentView=k.contentView,this.customClassName=k.customClassName,k.template&&(this.template=k.template),k.submit&&(this.submit=k.submit),k.beforeSubmit&&(this.beforeSubmit=k.beforeSubmit),k.beforeCancel&&(this.beforeCancel=k.beforeCancel),k.onDestroy&&(this.onDestroy=k.onDestroy)},onRender:function(){this.customClassName&&this.$el.addClass(this.customClassName),this.$(".modal-content").html(this.contentView.render().el),this.$(".js-modal-header").html(this.header),this.isSimple&&this.$(".js-modal-topbar").addClass("hidden")},onShow:function(){this.contentView.onShow&&g["default"].isFunction(this.contentView.onShow)&&this.contentView.onShow()}});a["default"]=d}).call(a,c(3))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="bbm-modal__topbar js-modal-topbar" style="margin-bottom: 0px;">'),f.b("\n"+g),f.b('    <h3 class="bbm-modal__title js-modal-header">'),f.b(f.v(f.f("header",j,h,0))),f.b("</h3>"),f.b("\n"),f.b("\n"+g),f.b('    <div class="modal-close val-icon-exit"></div>'),f.b("\n"+g),f.b("</div>"),f.b("\n"+g),f.b('<div class="bbm-modal__section modal-content">'),f.b("\n"),f.b("\n"+g),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="bbm-modal__topbar js-modal-topbar" style="margin-bottom: 0px;">\n    <h3 class="bbm-modal__title js-modal-header">{{header}}</h3>\n\n    <div class="modal-close val-icon-exit"></div>\n</div>\n<div class="bbm-modal__section modal-content">\n\n</div>',b);return e.render.apply(e,arguments)}},function(c,b){function a(){return learningPathsAppOptions}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=a},function(b,a,c){(function(j){function f(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(a,"__esModule",{value:!0});var i=c(42),h=f(i),g=c(40),e=f(g),d=h["default"].extend({model:j.Model,initialize:function(k){this.url=""+(0,e["default"])().endpoint.liferayActivities,h["default"].prototype.initialize.apply(this,arguments)},getGoalData:function(){return _.map(this.filter({selected:!0}),function(k){return{goalType:"activity",activityName:k.get("activityName"),count:k.get("count")||1}})}});a["default"]=d}).call(a,c(3))},function(b,g,a){function o(p){return p&&p.__esModule?p:{"default":p}}function i(p,q){if(!(p instanceof q)){throw new TypeError("Cannot call a class as a function")}}function l(p,q){if(!p){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !q||"object"!=typeof q&&"function"!=typeof q?p:q}function m(q,p){if("function"!=typeof p&&null!==p){throw new TypeError("Super expression must either be null or a function, not "+typeof p)}q.prototype=Object.create(p&&p.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(q,p):q.__proto__=p)}Object.defineProperty(g,"__esModule",{value:!0}),g["default"]=void 0;var e=function(){function p(t,r){for(var q=0;q<r.length;q++){var s=r[q];s.enumerable=s.enumerable||!1,s.configurable=!0,"value" in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(s,q,r){return q&&p(s.prototype,q),r&&p(s,r),s}}(),h=a(25),d=o(h),c=a(3),j=o(c),k=a(40),f=o(k),n=function(q){function p(){return i(this,p),l(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return m(p,q),e(p,[{key:"initialize",value:function(r){this.url=""+(0,f["default"])().apiPath+d["default"].result(this,"url")}}]),p}(j["default"].Collection);g["default"]=n},function(b,a,c){(function(r,g){function E(I){if(I&&I.__esModule){return I}var G={};if(null!=I){for(var H in I){Object.prototype.hasOwnProperty.call(I,H)&&(G[H]=I[H])}}return G["default"]=I,G}function f(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(a,"__esModule",{value:!0});var n=c(44),h=f(n),D=c(45),m=f(D),u=c(49),B=f(u),k=c(1),x=f(k),o=c(36),A=f(o),F=c(38),q=f(F),w=c(52),j=E(w),s=c(56),t=f(s),C=c(58),z=f(C),v=c(61),e=f(v),d=c(62),y=f(d),p=c(93),l=f(p),i=r.View.extend({template:h["default"],regions:{toolbar:"#learningPathsToolbar",content:"#learningPathsContent",paginator:"#learningPathsPaginator",paginatorShowing:"#learningPathsPaginatorShowing",modals:{selector:"#learningPathsModal",regionClass:r.Modals}},ui:{loading:".js-loading",createdByMeTab:".js-paths-groups .js-creator"},childViewEvents:{"open:modal":"openModal"},onRender:function(){var I=this;this.paths=new t["default"](),this.paginatorModel=new j.PageModel(),this.paths.on("sync",function(J){J instanceof g.Collection&&I.paginatorModel.set("totalElements",J.options.total)}),this.paths.on("reload:paths",function(){I.fetchPaths()}),this.paginatorModel.on("change:currentPage",function(){I.fetchPaths(!0)}),this.fetchFilter();var H=new m["default"]({model:this.filter});this.showChildView("toolbar",H),this.paginatorView=new j.ValamisPaginator({model:this.paginatorModel,topEdgeParentView:this,topEdgeSelector:this.regions.paginatorShowing}),this.paginatorShowingView=new j.ValamisPaginatorShowing({model:this.paginatorModel}),this.showChildView("paginator",this.paginatorView),this.showChildView("paginatorShowing",this.paginatorShowingView);var G=new B["default"]({collection:this.paths,displayMode:this.filter.get("displayMode")});this.showChildView("content",G),this.filter.on("change",function(J){J.save(),J.changedAttributes().hasOwnProperty("displayMode")?G.toggleDisplayMode(J.get("displayMode")):I.fetchPaths()}),this.fetchPaths(),x["default"].openLpId&&this.openPathByLink(x["default"].openLpId)},fetchFilter:function(){this.filter=new g.SettingsHelper({url:window.location.href,portlet:"learningPaths"}),this.filter.fetch(),this.filter.set({page:0,joined:!0,displayMode:this.filter.has("displayMode")?this.filter.get("displayMode"):"tiles",sort:this.filter.has("sort")?this.filter.get("sort"):"-createdDate"})},fetchPaths:function(K){var I=this;this.ui.loading.removeClass("hidden"),K||this.paginatorModel.set({currentPage:1,totalElements:0});var G=this.paginatorModel.get("itemsOnPage"),H=(this.paginatorModel.get("currentPage")-1)*G,J={title:this.filter.get("title"),courseId:this.filter.get("courseId"),sort:this.filter.get("sort"),skip:H,take:G};void 0!==this.filter.get("userId")&&(J.userId=this.filter.get("userId")),void 0!==this.filter.get("joined")&&(J.joined=this.filter.get("joined"),J.activated=!0),this.paths.reset(),this.paths.doAsAdmin=void 0===this.filter.get("joined"),this.paths.fetch({data:J}).then(function(){I.ui.loading.addClass("hidden")},function(){A["default"].channel("notify").trigger("notify","error","failedLabel")})},openModal:function(I){I||this.$(this._uiBindings.createdByMeTab).click();var J=A["default"].channel("modal"),K=this,H=void 0;H=x["default"].permissions.modify?new l["default"]({model:I,doAsAdmin:this.paths.doAsAdmin}):new y["default"]({model:I});var G=new q["default"]({contentView:H,isSimple:!0,onDestroy:function(){x["default"].openLpId?window.location.assign(window.location.pathname):(H.destroy(),K.fetchPaths(!0))}});H.on("modal:close",function(){J.trigger("close",G)}),J.trigger("open",G)},openPathByLink:function(I){var G=this,H=new e["default"]({id:I});H.fetch().then(function(){var J=new z["default"](H.toJSON());G.openModal(J)})}});a["default"]=i}).call(a,c(2),c(3))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div id="learningPathsToolbar"></div>'),f.b("\n"+g),f.b('<div id="learningPathsContent"></div>'),f.b("\n"+g),f.b('<div class="loading-container js-loading"></div>'),f.b("\n"+g),f.b('<div id="learningPathsPaginator" class="val-paginator"></div>'),f.b("\n"+g),f.b('<div id="learningPathsModal"></div>'),f.fl()},partials:{},subs:{}},'<div id="learningPathsToolbar"></div>\n<div id="learningPathsContent"></div>\n<div class="loading-container js-loading"></div>\n<div id="learningPathsPaginator" class="val-paginator"></div>\n<div id="learningPathsModal"></div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(j,e){function h(s){if(s&&s.__esModule){return s}var q={};if(null!=s){for(var r in s){Object.prototype.hasOwnProperty.call(s,r)&&(q[r]=s[r])}}return q["default"]=s,q}function p(q){return q&&q.__esModule?q:{"default":q}}Object.defineProperty(a,"__esModule",{value:!0});var k=c(46),n=p(k),g=c(47),m=p(g),i=c(26),f=p(i),o=c(48),l=h(o),d=j.View.extend({className:"val-tabs",template:n["default"],behaviors:[m["default"]],templateContext:function(){return{isList:this.isList(),isTiles:this.isTiles(),currentCourseId:f["default"].courseId(),groups:l.pathsGroups}},ui:{addNew:".js-add-new",displayMode:".js-display-option",searchField:".js-search input",scope:".js-scope-filter",sort:".js-sort-filter",group:".js-paths-groups a"},events:{"click @ui.addNew":"addNew","click @ui.displayMode":"toggleDisplayMode","keyup @ui.searchField":"changeSearchText","click @ui.scope li":"changeScope","click @ui.sort li":"changeSort","click @ui.group":"changeGroup"},onRender:function(){var q=this;this.on("valamis:controls:init",function(){q.ui.sort.valamisDropDown("select",q.model.get("sort"))})},isTiles:function(){return"tiles"==this.model.get("displayMode")},isList:function(){return"list"==this.model.get("displayMode")},addNew:function(){this.triggerMethod("open:modal")},changeSearchText:function(r){var q=this;clearTimeout(this.inputTimeout),this.inputTimeout=setTimeout(function(){q.model.set("title",e(r.target).val())},800)},changeScope:function(q){this.model.set("courseId",e(q.target).attr("data-value"))},changeSort:function(q){this.model.set("sort",e(q.target).attr("data-value"))},changeGroup:function(s){var r={userId:void 0,joined:void 0},q=e(s.target).data("value");switch(this.ui.group.parent("li").removeClass("active"),e(s.target).parent("li").addClass("active"),q){case l.pathsGroups.creator:r.userId=f["default"].userId();break;case l.pathsGroups.member:r.joined=!0;break;case l.pathsGroups.notmember:r.joined=!1}this.model.set(r)},toggleDisplayMode:function(r){r.preventDefault(),r.stopPropagation();var q=e(r.target).closest("button[data-display-mode]");this.ui.displayMode.removeClass("active"),q.addClass("active");var s=q.data("displayMode");this.model.set("displayMode",s)}});a["default"]=d}).call(a,c(2),c(24))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="clearfix tabs-header">'),f.b("\n"+g),f.b('    <ul class="nav-tabs text-center js-paths-groups">'),f.b("\n"+g),f.b('        <li class="active"><a data-value="'),f.b(f.v(f.d("groups.member",j,h,0))),f.b('">'),f.b(f.v(f.d("language.myPathsLabel",j,h,0))),f.b("</a></li>"),f.b("\n"+g),f.b('        <li><a data-value="'),f.b(f.v(f.d("groups.notmember",j,h,0))),f.b('">'),f.b(f.v(f.d("language.availablePathsLabel",j,h,0))),f.b("</a></li>"),f.b("\n"+g),f.s(f.d("permissions.modify",j,h,1),j,h,0,307,486,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('        <li><a class="js-creator" data-value="'),i.b(i.v(i.d("groups.creator",l,k,0))),i.b('">'),i.b(i.v(i.d("language.createdByMeLabel",l,k,0))),i.b("</a></li>"),i.b("\n"+g),i.b('        <li><a data-value="">'),i.b(i.v(i.d("language.allPathsLabel",l,k,0))),i.b("</a></li>"),i.b("\n"+g)}),j.pop()),f.b("    </ul>"),f.b("\n"+g),f.b("</div>"),f.b("\n"+g),f.b('<div class="val-row filters-row">'),f.b("\n"+g),f.b('    <div class="filter-element shift-left">'),f.b("\n"+g),f.b('        <div class="val-search js-search">'),f.b("\n"+g),f.b('            <input type="text" placeholder="'),f.b(f.v(f.d("language.searchLabel",j,h,0))),f.b('">'),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"),f.b("\n"+g),f.b('    <div class="dropdown filter-element shift-left js-scope-filter js-dropdown" data-value="">'),f.b("\n"+g),f.b('        <button class="button medium simple">'),f.b("\n"+g),f.b('            <span class="dropdown-text"> '),f.b(f.v(f.d("language.instanceScopeLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b('            <span class="val-icon-arrow-down val-icon-right"></span>'),f.b("\n"+g),f.b("        </button>"),f.b("\n"+g),f.b('        <ul class="dropdown-menu">'),f.b("\n"+g),f.b('            <li class="selected" data-value=""> '),f.b(f.v(f.d("language.instanceScopeLabel",j,h,0))),f.b(" </li>"),f.b("\n"+g),f.b('            <li data-value="'),f.b(f.v(f.f("currentCourseId",j,h,0))),f.b('"> '),f.b(f.v(f.d("language.currentSiteScopeLabel",j,h,0))),f.b(" </li>"),f.b("\n"+g),f.b("        </ul>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"),f.b("\n"+g),f.s(f.d("permissions.modify",j,h,1),j,h,0,1319,1543,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('    <div class="filter-element shift-right">'),i.b("\n"+g),i.b('        <button class="button medium primary shift-right js-add-new">'),i.b("\n"+g),i.b('            <span class="val-icon-plus"></span>'),i.b(i.v(i.d("language.createNewLabel",l,k,0))),i.b("\n"+g),i.b("        </button>"),i.b("\n"+g),i.b("    </div>"),i.b("\n"+g)}),j.pop()),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.b('<div class="val-row filters-row">'),f.b("\n"+g),f.b('    <div class="shift-left filter-element paging-showing-label" id="learningPathsPaginatorShowing"> </div>'),f.b("\n"),f.b("\n"+g),f.b('    <div class="dropdown filter-element shift-right js-sort-filter js-dropdown" data-value="">'),f.b("\n"+g),f.b('        <button class="button medium simple">'),f.b("\n"+g),f.b('            <span class="dropdown-text"> '),f.b(f.v(f.d("language.newestLabel",j,h,0))),f.b(' </span><span class="val-icon-arrow-down val-icon-right"></span>'),f.b("\n"+g),f.b("        </button>"),f.b("\n"+g),f.b('        <ul class="dropdown-menu">'),f.b("\n"+g),f.b('            <li data-value="-createdDate"> '),f.b(f.v(f.d("language.newestLabel",j,h,0))),f.b(" </li>"),f.b("\n"+g),f.b('            <li data-value="createdDate"> '),f.b(f.v(f.d("language.oldestLabel",j,h,0))),f.b(" </li>"),f.b("\n"+g),f.b('            <li data-value="title"> '),f.b(f.v(f.d("language.byNameAscLabel",j,h,0))),f.b(" </li>"),f.b("\n"+g),f.b('            <li data-value="-title"> '),f.b(f.v(f.d("language.byNameDescLabel",j,h,0))),f.b(" </li>"),f.b("\n"+g),f.b("        </ul>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"),f.b("\n"+g),f.b('    <div class="shift-right hide-s">'),f.b("\n"+g),f.b('        <button class="button medium simple no-text '),f.s(f.f("isList",j,h,1),j,h,0,2456,2462,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b("active")}),j.pop()),f.b(' js-display-option" data-display-mode="list">'),f.b("\n"+g),f.b('            <span class="val-icon-list-view">'),f.b(f.v(f.f("listViewLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b("        </button>"),f.b("\n"+g),f.b('        <button class="button medium simple no-text '),f.s(f.f("isTiles",j,h,1),j,h,0,2671,2677,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b("active")}),j.pop()),f.b(' js-display-option" data-display-mode="tiles">'),f.b("\n"+g),f.b('            <span class="val-icon-grid-view">'),f.b(f.v(f.f("gridViewLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b("        </button>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="clearfix tabs-header">\n    <ul class="nav-tabs text-center js-paths-groups">\n        <li class="active"><a data-value="{{groups.member}}">{{language.myPathsLabel}}</a></li>\n        <li><a data-value="{{groups.notmember}}">{{language.availablePathsLabel}}</a></li>\n        {{#permissions.modify}}\n        <li><a class="js-creator" data-value="{{groups.creator}}">{{language.createdByMeLabel}}</a></li>\n        <li><a data-value="">{{language.allPathsLabel}}</a></li>\n        {{/permissions.modify}}\n    </ul>\n</div>\n<div class="val-row filters-row">\n    <div class="filter-element shift-left">\n        <div class="val-search js-search">\n            <input type="text" placeholder="{{language.searchLabel}}">\n        </div>\n    </div>\n\n    <div class="dropdown filter-element shift-left js-scope-filter js-dropdown" data-value="">\n        <button class="button medium simple">\n            <span class="dropdown-text"> {{language.instanceScopeLabel}}</span>\n            <span class="val-icon-arrow-down val-icon-right"></span>\n        </button>\n        <ul class="dropdown-menu">\n            <li class="selected" data-value=""> {{language.instanceScopeLabel}} </li>\n            <li data-value="{{currentCourseId}}"> {{language.currentSiteScopeLabel}} </li>\n        </ul>\n    </div>\n\n    {{#permissions.modify}}\n    <div class="filter-element shift-right">\n        <button class="button medium primary shift-right js-add-new">\n            <span class="val-icon-plus"></span>{{language.createNewLabel}}\n        </button>\n    </div>\n    {{/permissions.modify}}\n</div>\n\n<div class="val-row filters-row">\n    <div class="shift-left filter-element paging-showing-label" id="learningPathsPaginatorShowing"> </div>\n\n    <div class="dropdown filter-element shift-right js-sort-filter js-dropdown" data-value="">\n        <button class="button medium simple">\n            <span class="dropdown-text"> {{language.newestLabel}} </span><span class="val-icon-arrow-down val-icon-right"></span>\n        </button>\n        <ul class="dropdown-menu">\n            <li data-value="-createdDate"> {{language.newestLabel}} </li>\n            <li data-value="createdDate"> {{language.oldestLabel}} </li>\n            <li data-value="title"> {{language.byNameAscLabel}} </li>\n            <li data-value="-title"> {{language.byNameDescLabel}} </li>\n        </ul>\n    </div>\n\n    <div class="shift-right hide-s">\n        <button class="button medium simple no-text {{#isList}}active{{/isList}} js-display-option" data-display-mode="list">\n            <span class="val-icon-list-view">{{listViewLabel}}</span>\n        </button>\n        <button class="button medium simple no-text {{#isTiles}}active{{/isTiles}} js-display-option" data-display-mode="tiles">\n            <span class="val-icon-grid-view">{{gridViewLabel}}</span>\n        </button>\n    </div>\n</div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(h){function e(m,n){if(!(m instanceof n)){throw new TypeError("Cannot call a class as a function")}}function j(m,n){if(!m){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !n||"object"!=typeof n&&"function"!=typeof n?m:n}function k(n,m){if("function"!=typeof m&&null!==m){throw new TypeError("Super expression must either be null or a function, not "+typeof m)}n.prototype=Object.create(m&&m.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(n,m):n.__proto__=m)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=void 0;var g,f,d=function(){function m(q,o){for(var n=0;n<o.length;n++){var p=o[n];p.enumerable=p.enumerable||!1,p.configurable=!0,"value" in p&&(p.writable=!0),Object.defineProperty(q,p.key,p)}}return function(p,n,o){return n&&m(p.prototype,n),o&&m(p,o),p}}(),l=c(4),i=(g=(0,l.mixin)({defaults:{dropdown:".js-dropdown",plusminus:".js-plus-minus",digitsOnly:".js-digits-only",sidebarToggler:".js-toggle-sidebar",popupPanel:".js-valamis-popup",valamisRating:".js-valamis-rating",valamisSearch:".js-search",valamisTabs:".js-valamis-tabs"}}),g(f=function(m){function n(){return e(this,n),j(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return k(n,m),d(n,[{key:"onRender",value:function(){this.$(this.options.dropdown).valamisDropDown(),this.$(this.options.plusminus).valamisPlusMinus(),this.$(this.options.digitsOnly).valamisDigitsOnly(),this.$(this.options.sidebarToggler).valamisSidebar(),this.$(this.options.popupPanel).valamisPopupPanel(),this.$(this.options.valamisRating).valamisRating(),this.$(this.options.valamisSearch).valamisSearch(),this.$(this.options.valamisTabs).valamisTabs(),this.view.triggerMethod("valamis:controls:init")}}]),n}(h.Behavior))||f);a["default"]=i}).call(a,c(2))},function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.statuses={success:"Success",inprogress:"InProgress",failed:"Failed",expired:"Expired",expiring:"Expiring"},a.pathsGroups={creator:"whereIamCreator",member:"whereIamMember",notmember:"whereIamNotMember"},a.validPeriodTypes={y:"years",mo:"months",w:"weeks",d:"days"},a.goalTypes={group:"group",course:"course",statement:"statement",activity:"activity",webContent:"webContent",lesson:"lesson",assignment:"assignment",trainingEvent:"trainingEvent"},a.memberType={user:"users",userGroup:"groups",organization:"organizations",role:"roles"},a.childrenToComplete={any:"any",custom:"custom"}},function(b,a,c){(function(n){function k(w){if(w&&w.__esModule){return w}var u={};if(null!=w){for(var v in w){Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}return u["default"]=w,u}function t(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(a,"__esModule",{value:!0});var g=c(50),e=t(g),j=c(47),q=t(j),f=c(51),o=t(f),s=c(48),p=k(s),i=c(36),l=t(i),r=c(1),h=t(r),m=n.View.extend({template:e["default"],templateContext:function(){var v=p.statuses,u=this.model.isMember()?this.model.getStatus():"";return{isMember:this.model.isMember(),isInProgress:u===v.inprogress,isSucceed:u===v.success,isFailed:u===v.failed,isExpired:u===v.expired,isExpiring:u===v.expiring,fullLogoUrl:this.model.getFullLogoUrl(),doAsAdmin:this.model.collection.doAsAdmin}},behaviors:[q["default"]],modelEvents:{change:"render"},className:function(){return"tile s-12 m-4 l-2"},ui:{open:".js-open-path",join:".js-join-path",leave:".js-leave-path",clone:".js-clone-path",publish:".js-publish-path",activate:".js-activate-path",deactivate:".js-deactivate-path","delete":".js-delete-path","export":".js-export-path"},events:{"click @ui.open":"openPath","click @ui.join":"joinPath","click @ui.leave":"leavePath","click @ui.clone":"clonePath","click @ui.publish":"publishPath","click @ui.activate":"activatePath","click @ui.deactivate":"deactivatePath","click @ui.delete":"confirmDeletePath","click @ui.export":"exportPath"},onRender:function(){this.notifyChannel=l["default"].channel("notify"),this.$el.toggleClass("unpublished",!this.model.get("activated"))},openPath:function(){this.triggerMethod("open:modal",this.model)},joinPath:function(){var v=this,u=this.model.collection;this.model.join().then(function(){v.model.collection.doAsAdmin?v.model.set("status",p.statuses.inprogress):v.remove(),u.trigger("reload:paths")},function(){v.notifyChannel.trigger("notify","error","failedLabel")})},leavePath:function(){var u=this;this.model.leave().then(function(){u.model.collection.doAsAdmin?u.model.unset("status"):u.remove()},function(){u.notifyChannel.trigger("notify","error","failedLabel")})},clonePath:function(){var u=this;this.model.clone().then(function(){u.notifyChannel.trigger("notify","success","completeLabel"),u.model.trigger("reload:paths")},function(){u.notifyChannel.trigger("notify","error","failedLabel")})},publishPath:function(){var u=this;this.model.publish().then(function(){u.model.set({published:!0,activated:!0,hasDraft:!1})},function(){u.notifyChannel.trigger("notify","error","failedLabel")})},activatePath:function(){var u=this;this.model.activate().then(function(){u.model.set("activated",!0)},function(){u.notifyChannel.trigger("notify","error","failedLabel")})},deactivatePath:function(){var u=this;this.model.deactivate().then(function(){u.model.set("activated",!1)},function(){u.notifyChannel.trigger("notify","error","failedLabel")})},confirmDeletePath:function(){var u=this;this.notifyChannel.trigger("confirm",{message:h["default"].language.warningDeletePathLabel},function(){u.deletePath()})},deletePath:function(){var u=this,v=this.model.collection;this.model.destroy().then(function(){u.notifyChannel.trigger("notify","success","completeLabel"),v.trigger("reload:paths")},function(){u.notifyChannel.trigger("notify","error","failedLabel")})},exportPath:function(){}}),d=n.CollectionView.extend({childView:m,className:function(){return"val-row "+this.options.displayMode},behaviors:[o["default"]],toggleDisplayMode:function(u){this.triggerMethod("display:mode:changed",u)}});a["default"]=d}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="tile-content with-action">'),f.b("\n"+g),f.b('    <div class="image certificate cursor-pointer js-open-path"'),f.b("\n"+g),f.s(f.f("logoUrl",j,h,1),j,h,0,123,191,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b("         style=\"background-image: url('"),i.b(i.v(i.f("fullLogoUrl",l,k,0))),i.b("')\""),i.b("\n"+g),i.b("         ")}),j.pop()),f.b(">"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("    <ul>"),f.b("\n"+g),f.b('        <li class="title cursor-pointer js-open-path">'),f.b(f.v(f.f("title",j,h,0))),f.b("</li>"),f.b("\n"+g),f.b('        <li class="description t-hidden">'),f.b(f.v(f.f("description",j,h,0))),f.b("</li>"),f.b("\n"+g),f.b('        <li class="categories">'),f.b("\n"+g),f.b("            "),f.b(f.v(f.f("userMembersCount",j,h,0))),f.b("&nbsp;"),f.b(f.v(f.d("language.learnersLabel",j,h,0))),f.b(" &bull;"),f.b("\n"+g),f.b("            "),f.b(f.v(f.f("goalsCount",j,h,0))),f.b("&nbsp;"),f.b(f.v(f.d("language.goalsLabel",j,h,0))),f.b("\n"+g),f.b("        </li>"),f.b("\n"+g),f.b("        <li>"),f.b("\n"+g),f.s(f.f("activated",j,h,1),j,h,1,0,0,"")||(f.b('                <span class="val-label inactive">'),f.b(f.v(f.d("language.inactiveStatusLabel",j,h,0))),f.b("</span>"),f.b("\n"+g)),f.s(f.f("activated",j,h,1),j,h,0,712,1328,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.s(i.f("isMember",l,k,1),l,k,0,725,1315,"{{ }}")&&(i.rs(l,k,function(o,n,m){m.b("                "),m.s(m.f("isInProgress",o,n,1),o,n,0,759,824,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b('<span class="val-label">'),q.b(q.v(q.d("language.inProgressStatusLabel",s,r,0))),q.b("</span>")}),o.pop()),m.b("\n"+g),m.b("                "),m.s(m.f("isSucceed",o,n,1),o,n,0,872,942,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b('<span class="val-label success">'),q.b(q.v(q.d("language.successStatusLabel",s,r,0))),q.b("</span>")}),o.pop()),m.b("\n"+g),m.b("                "),m.s(m.f("isFailed",o,n,1),o,n,0,986,1054,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b('<span class="val-label failed">'),q.b(q.v(q.d("language.failedStatusLabel",s,r,0))),q.b("</span>")}),o.pop()),m.b("\n"+g),m.b("                "),m.s(m.f("isExpired",o,n,1),o,n,0,1098,1167,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b('<span class="val-label failed">'),q.b(q.v(q.d("language.expiredStatusLabel",s,r,0))),q.b("</span>")}),o.pop()),m.b("\n"+g),m.b("                "),m.s(m.f("isExpiring",o,n,1),o,n,0,1213,1287,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b('<span class="val-label inprogress">'),q.b(q.v(q.d("language.expiringStatusLabel",s,r,0))),q.b("</span>")}),o.pop()),m.b("\n"+g)}),l.pop())}),j.pop()),f.b("        </li>"),f.b("\n"+g),f.b("    </ul>"),f.b("\n"),f.b("\n"+g),f.s(f.f("activated",j,h,1),j,h,0,1386,1514,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.s(i.f("isMember",l,k,1),l,k,1,0,0,"")||(i.b('    <button class="button medium primary js-join-path">'),i.b(i.v(i.d("language.joinLabel",l,k,0))),i.b("</button>"),i.b("\n"+g))}),j.pop()),f.b("\n"+g),f.s(f.f("doAsAdmin",j,h,1),j,h,0,1548,2628,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('    <div class="dropdown actions shift-right js-dropdown">'),i.b("\n"+g),i.b('        <button class="button medium neutral">'),i.b("\n"+g),i.b('            <span class="dropdown-text">...</span>'),i.b("\n"+g),i.b("        </button>"),i.b("\n"+g),i.b('        <ul class="dropdown-menu">'),i.b("\n"+g),i.b('            <li class="js-open-path">'),i.b(i.v(i.d("language.openLabel",l,k,0))),i.b("</li>"),i.b("\n"+g),i.s(i.d("permissions.modify",l,k,1),l,k,0,1859,2575,"{{ }}")&&(i.rs(l,k,function(o,n,m){m.b('                <li class="js-clone-path">'),m.b(m.v(m.d("language.cloneLabel",o,n,0))),m.b("</li>"),m.b("\n"+g),m.s(m.f("hasDraft",o,n,1),o,n,0,1960,2052,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b('                <li class="js-publish-path">'),q.b(q.v(q.d("language.publishLabel",s,r,0))),q.b("</li>"),q.b("\n"+g)}),o.pop()),m.s(m.f("published",o,n,1),o,n,0,2096,2395,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.s(q.f("activated",s,r,1),s,r,1,0,0,"")||(q.b('                <li class="js-activate-path">'),q.b(q.v(q.d("language.activateLabel",s,r,0))),q.b("</li>"),q.b("\n"+g)),q.s(q.f("activated",s,r,1),s,r,0,2266,2364,"{{ }}")&&(q.rs(s,r,function(w,v,u){u.b('                <li class="js-deactivate-path">'),u.b(u.v(u.d("language.deactivateLabel",w,v,0))),u.b("</li>"),u.b("\n"+g)}),s.pop())}),o.pop()),m.b('                <li class="js-delete-path">'),m.b(m.v(m.d("language.deleteLabel",o,n,0))),m.b("</li>"),m.b("\n"+g),m.b('                <!--<li class="js-export-path">'),m.b(m.v(m.d("language.exportLabel",o,n,0))),m.b("</li>-->"),m.b("\n"+g)}),l.pop()),i.b("        </ul>"),i.b("\n"+g),i.b("    </div>"),i.b("\n"+g)}),j.pop()),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="tile-content with-action">\n    <div class="image certificate cursor-pointer js-open-path"\n         {{#logoUrl}}\n         style="background-image: url(\'{{fullLogoUrl}}\')"\n         {{/logoUrl}}>\n    </div>\n    <ul>\n        <li class="title cursor-pointer js-open-path">{{title}}</li>\n        <li class="description t-hidden">{{description}}</li>\n        <li class="categories">\n            {{userMembersCount}}&nbsp;{{language.learnersLabel}} &bull;\n            {{goalsCount}}&nbsp;{{language.goalsLabel}}\n        </li>\n        <li>\n            {{^activated}}\n                <span class="val-label inactive">{{language.inactiveStatusLabel}}</span>\n            {{/activated}}\n            {{#activated}}{{#isMember}}\n                {{#isInProgress}}<span class="val-label">{{language.inProgressStatusLabel}}</span>{{/isInProgress}}\n                {{#isSucceed}}<span class="val-label success">{{language.successStatusLabel}}</span>{{/isSucceed}}\n                {{#isFailed}}<span class="val-label failed">{{language.failedStatusLabel}}</span>{{/isFailed}}\n                {{#isExpired}}<span class="val-label failed">{{language.expiredStatusLabel}}</span>{{/isExpired}}\n                {{#isExpiring}}<span class="val-label inprogress">{{language.expiringStatusLabel}}</span>{{/isExpiring}}\n            {{/isMember}}{{/activated}}\n        </li>\n    </ul>\n\n    {{#activated}}\n    {{^isMember}}\n    <button class="button medium primary js-join-path">{{language.joinLabel}}</button>\n    {{/isMember}}\n    {{/activated}}\n\n    {{#doAsAdmin}}\n    <div class="dropdown actions shift-right js-dropdown">\n        <button class="button medium neutral">\n            <span class="dropdown-text">...</span>\n        </button>\n        <ul class="dropdown-menu">\n            <li class="js-open-path">{{language.openLabel}}</li>\n            {{#permissions.modify}}\n                <li class="js-clone-path">{{language.cloneLabel}}</li>\n                {{#hasDraft}}\n                <li class="js-publish-path">{{language.publishLabel}}</li>\n                {{/hasDraft}}\n                {{#published}}\n                {{^activated}}\n                <li class="js-activate-path">{{language.activateLabel}}</li>\n                {{/activated}}\n                {{#activated}}\n                <li class="js-deactivate-path">{{language.deactivateLabel}}</li>\n                {{/activated}}\n                {{/published}}\n                <li class="js-delete-path">{{language.deleteLabel}}</li>\n                <!--<li class="js-export-path">{{language.exportLabel}}</li>-->\n            {{/permissions.modify}}\n        </ul>\n    </div>\n    {{/doAsAdmin}}\n</div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(j,g){function f(n,o){if(!(n instanceof o)){throw new TypeError("Cannot call a class as a function")}}function k(n,o){if(!n){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !o||"object"!=typeof o&&"function"!=typeof o?n:o}function m(o,n){if("function"!=typeof n&&null!==n){throw new TypeError("Super expression must either be null or a function, not "+typeof n)}o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=void 0;var i,h,d=function(){function n(r,p){for(var o=0;o<p.length;o++){var q=p[o];q.enumerable=q.enumerable||!1,q.configurable=!0,"value" in q&&(q.writable=!0),Object.defineProperty(r,q.key,q)}}return function(q,o,p){return o&&n(q.prototype,o),p&&n(q,p),q}}(),l=c(4),e=(i=(0,l.mixin)({defaults:{tile:"tile",list:"list",tiles:"tiles",delay:100}}),i(h=function(n){function o(){return f(this,o),k(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return m(o,n),d(o,[{key:"initialize",value:function(){var p=this;g(window).resize(_.debounce(function(){p.resizeTiles()},this.options.delay)),this.view.on("display:mode:changed",function(q){p.$el.removeClass(p.options.tiles+" "+p.options.list).addClass(q),p.resizeTiles()}),this.view.on("render",function(){p.view.collection.on("sync",function(){_.delay(function(){p.resizeTiles()},p.options.delay)})})}},{key:"resizeTiles",value:function(){this.view.$el.hasClass(this.options.tiles)?this.makeEqualHeight(this.view.$("."+this.options.tile)):this.unsetHeight(this.view.$("."+this.options.tile))}},{key:"makeEqualHeight",value:function(q){this.unsetHeight(q);var r=_.map(q,function(s){return g(s).height()}),p=Math.max.apply(Math,r);q.height(p)}},{key:"unsetHeight",value:function(p){p.height("auto")}}]),o}(j.Behavior))||h);a["default"]=e}).call(a,c(2),c(24))},function(b,a,c){(function(j,m,f){function l(o){return o&&o.__esModule?o:{"default":o}}Object.defineProperty(a,"__esModule",{value:!0}),a.ValamisPaginatorShowMore=a.ValamisPaginatorShowing=a.ValamisPaginator=a.PageModel=void 0;var k=c(53),d=l(k),i=c(54),n=l(i),g=c(55),h=l(g),e=a.PageModel=j.Model.extend({defaults:{itemsOnPage:40,startElementNumber:0,endElementNumber:0,navbuttons:[],rightDots:!1,leftDots:!1,currentPage:1,totalPages:0,firstPage:{page:0,isActive:!1},lastPage:{page:0,isActive:!1},showPages:5,isPrevVisible:!1,isNextVisible:!1,allowShowAll:!1,isShowingAll:!1,isLazy:!1},initialize:function(){this.countStartEndElements(),this.on("change",this.countStartEndElements)},hasMore:function(){return this.get("totalElements")>this.get("currentPage")*this.get("itemsOnPage")},getShowingCount:function(){var o=this.get("isLazy")?this.get("currentPage")*this.get("itemsOnPage"):this.get("itemsOnPage");return Math.min(o,this.get("totalElements"))},countStartEndElements:function(){var t=this.get("currentPage"),s=this.get("itemsOnPage"),B=this.get("totalElements"),p=this.get("isShowingAll"),z=this.get("isLazy"),D=this.get("showPages"),v=Math.floor(B/s);B%s!==0&&v++,v<=D&&(D=v);var r=Math.floor(D/2),C=t-r;D%2==0&&C++;var y=t+r;C<=2&&(y=D,2==C&&D<5&&y++,C=1),y>v-1&&(C=v-D+1,y==v-1&&D<5&&C--,y=v);for(var u=C>2,q=y<v-1,x=[],w=C;w<=y;w++){x[w-C]={page:w,isActive:w==t}}var o=p?B:Math.min(t*s,B),A=z?1:(t-1)*s+1;this.set({startElementNumber:Math.min(A,B),endElementNumber:o,firstPage:{page:1,isActive:1==t},lastPage:{page:v,isActive:t==v},navbuttons:x,leftDots:u,rightDots:q,isPrevVisible:t>1,isNextVisible:t<v},{silent:!0})}});a.ValamisPaginator=j.Marionette.View.extend({template:d["default"],ui:{paginationGroup:".pagination-group"},events:{"click .js-paginator-previous-page":"previous","click .js-paginator-next-page":"next","click .js-paginator-change-page":"onPageChanged"},initialize:function(o){o=o||{},this.options={},void 0===o.model&&(this.model=new e()),this.options.language=o.language||[],this.topEdgeParentView=o.topEdgeParentView,this.topEdgeSelector=o.topEdgeSelector||"",this.topEdgeOffset=_(o.topEdgeOffset).isNumber()?o.topEdgeOffset:10,this.model.on("change",this.render),this.model.on("showAll",function(){this.ui.paginationGroup.addClass("hidden")})},onRender:function(){this.ui.paginationGroup.toggleClass("hidden",this.model.get("totalElements")<=this.model.get("itemsOnPage"))},updateItems:function(o){this.model.set({totalElements:o})},currentPage:function(){return this.model.get("currentPage")},itemsOnPage:function(){return this.model.get("itemsOnPage")},previous:function(){var o=parseInt(this.model.get("currentPage"));1!=o&&this.updatePage(o-1)},next:function(){var o=parseInt(this.model.get("currentPage"));o>=parseInt(this.model.get("totalElements"))/parseInt(this.model.get("itemsOnPage"))||this.updatePage(o+1)},setItemsPerPage:function(o){this.model.set({itemsOnPage:o})},onPageChanged:function(o){var p=m(o.target).attr("data-id");this.updatePage(p)},updatePage:function(p){if(this.model.set({currentPage:p}),this.trigger("pageChanged",this),this.model.trigger("pageChanged",this),void 0!=this.topEdgeParentView){var o=this.topEdgeParentView.$(this.topEdgeSelector);o.length&&this.scrollToDataTop(o)}},scrollToDataTop:function(t){var p=t.closest(".val-modal");if(p.length>0){var s=p.children(".bbm-modal"),r=t.offset().top-s.offset().top;p.animate({scrollTop:r+parseInt(p.css("padding-top"))-this.topEdgeOffset},500)}else{var q=f("header#banner .dockbar").outerHeight()||0,o=f("#ControlMenu").outerHeight()||0;f("html, body").animate({scrollTop:t.offset().top-(q+o+this.topEdgeOffset)},500)}}}),a.ValamisPaginatorShowing=j.Marionette.View.extend({template:n["default"],className:"paging-showing-label",events:{"click .js-show-all-items":"showAllItems","click .js-show-page-items":"showPageItems"},initialize:function(o){var p=o||{};this.options={},this.options.language=p.language||[],this.model.on("change",this.render)},showAllItems:function(){this.model.set({isShowingAll:!0}),this.model.trigger("showAll",!0)},showPageItems:function(){this.model.set({isShowingAll:!1}),this.model.trigger("showAll",!1)},onRender:function(){this.$(".js-show-all-items").toggleClass("hidden",this.model.get("totalElements")<=this.model.get("itemsOnPage"))}}),a.ValamisPaginatorShowMore=j.Marionette.View.extend({template:h["default"],className:"paging-show-more hidden",events:{"click .js-show-more":"showMore"},initialize:function(){var o=this;this.model.on("change",function(){o.$el.toggleClass("hidden",!o.model.hasMore())},this)},showMore:function(){var o=this.model.get("currentPage")+1;this.model.set({currentPage:o}),this.trigger("pageChanged",this),this.model.trigger("pageChanged",this)}})}).call(a,c(3),c(24),c(24))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="paginator-showing"></div>'),f.b("\n"+g),f.b('<div class="pagination-group">'),f.b("\n"+g),f.b("    <ul>"),f.b("\n"+g),f.s(f.f("isPrevVisible",j,h,1),j,h,0,104,266,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b("        <li>"),i.b("\n"+g),i.b('            <button class="button medium neutral js-paginator-previous-page">'),i.b(i.v(i.d("language.previousLabel",l,k,0))),i.b("\n"+g),i.b("            </button>"),i.b("\n"+g),i.b("        </li>"),i.b("\n"+g)}),j.pop()),f.b("\n"+g),f.s(f.f("leftDots",j,h,1),j,h,0,307,642,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.s(i.f("firstPage",l,k,1),l,k,0,330,580,"{{ }}")&&(i.rs(l,k,function(o,n,m){m.b('        <li class="full-view">'),m.b("\n"+g),m.b('            <button class="button medium neutral'),m.b("\n"+g),m.b("                "),m.s(m.f("isActive",o,n,1),o,n,0,440,452,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b(" active-page")}),o.pop()),m.b("\n"+g),m.b('                js-paginator-change-page" data-id="'),m.b(m.v(m.f("page",o,n,0))),m.b('">'),m.b(m.v(m.f("page",o,n,0))),m.b("\n"+g),m.b("            </button>"),m.b("\n"+g),m.b("        </li>"),m.b("\n"+g)}),l.pop()),i.b('        <li class="full-view">...</li>'),i.b("\n"+g)}),j.pop()),f.b("\n"+g),f.s(f.f("navbuttons",j,h,1),j,h,0,680,930,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('        <li class="full-view">'),i.b("\n"+g),i.b('            <button class="button medium neutral'),i.b("\n"+g),i.b("                "),i.s(i.f("isActive",l,k,1),l,k,0,790,802,"{{ }}")&&(i.rs(l,k,function(o,n,m){m.b(" active-page")}),l.pop()),i.b("\n"+g),i.b('                js-paginator-change-page" data-id="'),i.b(i.v(i.f("page",l,k,0))),i.b('">'),i.b(i.v(i.f("page",l,k,0))),i.b("\n"+g),i.b("            </button>"),i.b("\n"+g),i.b("        </li>"),i.b("\n"+g)}),j.pop()),f.b("\n"+g),f.s(f.f("rightDots",j,h,1),j,h,0,969,1302,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('        <li class="full-view">...</li>'),i.b("\n"+g),i.s(i.f("lastPage",l,k,1),l,k,0,1030,1280,"{{ }}")&&(i.rs(l,k,function(o,n,m){m.b('        <li class="full-view">'),m.b("\n"+g),m.b('            <button class="button medium neutral'),m.b("\n"+g),m.b("                "),m.s(m.f("isActive",o,n,1),o,n,0,1140,1152,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b(" active-page")}),o.pop()),m.b("\n"+g),m.b('                js-paginator-change-page" data-id="'),m.b(m.v(m.f("page",o,n,0))),m.b('">'),m.b(m.v(m.f("page",o,n,0))),m.b("\n"+g),m.b("            </button>"),m.b("\n"+g),m.b("        </li>"),m.b("\n"+g)}),l.pop())}),j.pop()),f.b("\n"+g),f.s(f.f("isNextVisible",j,h,1),j,h,0,1344,1485,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b("        <li>"),i.b("\n"+g),i.b('            <button class="button medium neutral js-paginator-next-page">'),i.b(i.v(i.d("language.nextLabel",l,k,0))),i.b("</button>"),i.b("\n"+g),i.b("        </li>"),i.b("\n"+g)}),j.pop()),f.b("    </ul>"),f.b("\n"+g),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="paginator-showing"></div>\n<div class="pagination-group">\n    <ul>\n        {{#isPrevVisible}}\n        <li>\n            <button class="button medium neutral js-paginator-previous-page">{{language.previousLabel}}\n            </button>\n        </li>\n        {{/isPrevVisible}}\n\n        {{#leftDots}}\n        {{#firstPage}}\n        <li class="full-view">\n            <button class="button medium neutral\n                {{#isActive}} active-page{{/isActive}}\n                js-paginator-change-page" data-id="{{page}}">{{page}}\n            </button>\n        </li>\n        {{/firstPage}}\n        <li class="full-view">...</li>\n        {{/leftDots}}\n\n        {{#navbuttons}}\n        <li class="full-view">\n            <button class="button medium neutral\n                {{#isActive}} active-page{{/isActive}}\n                js-paginator-change-page" data-id="{{page}}">{{page}}\n            </button>\n        </li>\n        {{/navbuttons}}\n\n        {{#rightDots}}\n        <li class="full-view">...</li>\n        {{#lastPage}}\n        <li class="full-view">\n            <button class="button medium neutral\n                {{#isActive}} active-page{{/isActive}}\n                js-paginator-change-page" data-id="{{page}}">{{page}}\n            </button>\n        </li>\n        {{/lastPage}}\n        {{/rightDots}}\n\n        {{#isNextVisible}}\n        <li>\n            <button class="button medium neutral js-paginator-next-page">{{language.nextLabel}}</button>\n        </li>\n        {{/isNextVisible}}\n    </ul>\n</div>',b);return e.render.apply(e,arguments)}},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<span class="show-items-buttons">'),f.b("\n"+g),f.s(f.f("isShowingAll",j,h,1),j,h,0,55,167,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('        <a class="js-show-page-items">'),i.b(i.v(i.d("language.showLabel",l,k,0))),i.b(" "),i.b(i.v(i.f("itemsOnPage",l,k,0))),i.b(" "),i.b(i.v(i.d("language.perPageLabel",l,k,0))),i.b("</a>"),i.b("\n"+g)}),j.pop()),f.b("\n"+g),f.s(f.f("isShowingAll",j,h,1),j,h,1,0,0,"")||(f.b("        <span>"),f.b(f.v(f.d("language.showingLabel",j,h,0))),f.b(" "),f.b(f.v(f.f("startElementNumber",j,h,0))),f.b(" - "),f.b(f.v(f.f("endElementNumber",j,h,0))),f.b(" "),f.b(f.v(f.d("language.ofLabel",j,h,0))),f.b("\n"+g),f.b("            "),f.b(f.v(f.f("totalElements",j,h,0))),f.b("\n"+g),f.b("        </span>"),f.b("\n"+g),f.s(f.f("allowShowAll",j,h,1),j,h,0,386,466,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('            <a class="js-show-all-items">'),i.b(i.v(i.d("language.showAllLabel",l,k,0))),i.b("</a>"),i.b("\n"+g)}),j.pop())),f.b("</span>"),f.fl()},partials:{},subs:{}},'<span class="show-items-buttons">\n    {{#isShowingAll}}\n        <a class="js-show-page-items">{{language.showLabel}} {{itemsOnPage}} {{language.perPageLabel}}</a>\n    {{/isShowingAll}}\n\n    {{^isShowingAll}}\n        <span>{{language.showingLabel}} {{startElementNumber}} - {{endElementNumber}} {{language.ofLabel}}\n            {{totalElements}}\n        </span>\n        {{#allowShowAll}}\n            <a class="js-show-all-items">{{language.showAllLabel}}</a>\n        {{/allowShowAll}}\n    {{/isShowingAll}}\n</span>',b);return e.render.apply(e,arguments)}},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="show-more-button js-show-more">'),f.b("\n"+g),f.b("    "),f.b(f.v(f.d("language.showLabel",j,h,0))),f.b('<span></span> <span class="val-icon-arrow-down val-icon-right"></span>'),f.b("\n"+g),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="show-more-button js-show-more">\n    {{language.showLabel}}<span></span> <span class="val-icon-arrow-down val-icon-right"></span>\n</div>',b);return e.render.apply(e,arguments)}},function(b,e,a){function j(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(e,"__esModule",{value:!0});var k=a(57),h=j(k),i=a(58),g=j(i),f=a(40),d=j(f),c=h["default"].extend({model:g["default"],initialize:function(l){this.url=(0,d["default"])().endpoint.users+"current/learning-paths",h["default"].prototype.initialize.apply(this,arguments)}});e["default"]=c},function(c,r,e){function b(s){return s&&s.__esModule?s:{"default":s}}function f(s,t){if(!(s instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(s,t){if(!s){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !t||"object"!=typeof t&&"function"!=typeof t?s:t}function k(t,s){if("function"!=typeof s&&null!==s){throw new TypeError("Super expression must either be null or a function, not "+typeof s)}t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(t,s):t.__proto__=s)}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=void 0;var m,d,n=function(){function s(w,u){for(var t=0;t<u.length;t++){var v=u[t];v.enumerable=v.enumerable||!1,v.configurable=!0,"value" in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(v,t,u){return t&&s(v.prototype,t),u&&s(v,u),v}}(),a=function p(t,w,v){null===t&&(t=Function.prototype);var x=Object.getOwnPropertyDescriptor(t,w);if(void 0===x){var u=Object.getPrototypeOf(t);return null===u?void 0:p(u,w,v)}if("value" in x){return x.value}var s=x.get;if(void 0!==s){return s.call(v)}},j=e(25),l=b(j),q=e(4),o=e(42),g=b(o),i=(m=(0,q.mixin)({defaults:{page:0,itemsPerPage:2,total:0,items:[]}}),m(d=function(s){function t(){return f(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,s),n(t,[{key:"initialize",value:function(u){return this.options=l["default"].defaults(u||{},this.defaults),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this,u)}},{key:"parse",value:function(u){return this.options.total=u.total,this.options.page=u.page,a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,u.items)}},{key:"getPage",value:function(){return this.options.page}},{key:"fetchByPage",value:function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,u=this.options.itemsPerPage;return this.fetch({data:{page:v,itemsPerPage:u}})}},{key:"nextPage",value:function(){this.options.page=this.options.page+1,this.fetchByPage(this.options.page)}},{key:"previousPage",value:function(){this.options.page=this.options.page-1,this.fetchByPage(this.options.page)}},{key:"hasItems",value:function(){return this.options.total>0}},{key:"hasMore",value:function(){return this.length<this.options.total}}]),t}(g["default"]))||d);r["default"]=i},function(b,a,c){(function(q){function k(u){if(u&&u.__esModule){return u}var s={};if(null!=u){for(var t in u){Object.prototype.hasOwnProperty.call(u,t)&&(s[t]=u[t])}}return s["default"]=u,s}function r(s){return s&&s.__esModule?s:{"default":s}}Object.defineProperty(a,"__esModule",{value:!0});var e=c(59),j=r(e),n=c(40),f=r(n),m=c(26),i=r(m),h=c(60),l=r(h),p=c(48),o=k(p),d=new q.Service({url:function(s){return(0,f["default"])().endpoint.learningPaths},targets:{join:{path:"join",method:"post"},leave:{path:"leave",method:"post"},clone:{path:"clone",method:"post"},publish:{path:"draft/publish",method:"post"},activate:{path:"activate",method:"post"},deactivate:{path:"deactivate",method:"post"},addMembers:{path:function(t,s){return"members/"+s.memberType},data:function(t,s){return s.selectedIds},method:"post"},createDraft:{path:"draft",method:"post"},getUserGoalsProgress:{path:function(t,s){return"members/users/"+s.userId+"/goals-progress"},method:"get"},getUserProgress:{path:function(t,s){return"members/users/"+s.userId+"/progress"},method:"get"}}}),g=j["default"].extend({getFullLogoUrl:function(){var s=this.get("logoUrl");return s?""+(0,f["default"])().apiPath+s:""},isMember:function(){return this.get("published")&&void 0!==this.get("status")},canEarnBadge:function(){return this.get("status")==o.statuses.success&&this.get("openBadgesEnabled")},getIssueBadgeUrl:function(){return"http://"+(0,f["default"])().root+(0,f["default"])().apiPath+"certificates/"+this.get("id")+"/issue_badge?userId="+i["default"].userId()+"&rootUrl="+(0,f["default"])().root},getStatus:function(){var t=this.get("status"),x=o.statuses,z=!this.get("validPeriod");if(z&&t==x.success&&(t=x.success),!z&&t==x.success){var w=l["default"].duration(this.get("expiringPeriod")),v=l["default"].duration(this.get("validPeriod")),s=(0,l["default"])(this.get("statusModifiedDate")).add(v),y=(0,l["default"])(this.get("statusModifiedDate")).add(v).subtract(w),u=(0,l["default"])();t=u.isAfter(s)?x.expired:u.isAfter(y)?x.expiring:x.success}return t}}).extend(d);a["default"]=g}).call(a,c(3))},function(b,e,a){function i(j){return j&&j.__esModule?j:{"default":j}}Object.defineProperty(e,"__esModule",{value:!0});var c=a(3),f=i(c),g=a(40),d=i(g),h=f["default"].Model.extend({urlRoot:function(){return""+(0,d["default"])().apiPath+this.options.url(this)}});e["default"]=h},function(b,a){b.exports=moment},function(b,a,c){(function(k){function e(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(a,"__esModule",{value:!0});var i=c(59),g=e(i),f=c(40),d=e(f),h=new k.Service({url:function(){return(0,d["default"])().endpoint.users+"current/learning-paths"}}),j=g["default"].extend(h);a["default"]=j}).call(a,c(3))},function(b,a,c){(function(e){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(a,"__esModule",{value:!0});var d=c(63),i=k(d),l=c(64),j=k(l),h=c(79),g=k(h),f=e.View.extend({template:i["default"],regions:{info:"#pathInfo",layout:"#extLayout"},ui:{pathTabs:".js-valamis-tabs"},childViewEvents:{"viewer:back":"backFromViewer"},modelEvents:{"open:viewer":"showViewer","user:joined":"fetchAndOpenPreview","user:left":"showPreview"},onRender:function(){this.showPreview(),this.ui.pathTabs.valamisTabs()},showPreview:function(m){this.showChildView("info",new j["default"]({model:this.model,reloadModel:m}))},fetchAndOpenPreview:function(){this.showPreview(!0)},showViewer:function(m){this.ui.pathTabs.addClass("hidden"),this.showChildView("layout",new g["default"]({model:this.model,goals:m}))},backFromViewer:function(){this.showPreview(!0),this.ui.pathTabs.removeClass("hidden"),this.getRegion("layout").empty()}});a["default"]=f}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div id="pathTabs" class="val-tabs js-valamis-tabs">'),f.b("\n"+g),f.b('    <ul class="nav-tabs clearfix js-tabs-navigation">'),f.b("\n"+g),f.b('        <li class="js-info" data-ref="pathInfo"><a>'),f.b(f.v(f.d("language.infoLabel",j,h,0))),f.b("</a></li>"),f.b("\n"+g),f.s(f.d("permissions.modify",j,h,1),j,h,0,221,312,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('        <li class="" data-ref="pathMembers"><a>'),i.b(i.v(i.d("language.membersLabel",l,k,0))),i.b("</a></li>"),i.b("\n"+g)}),j.pop()),f.b("    </ul>"),f.b("\n"),f.b("\n"+g),f.b('    <div class="tab-content js-tabs-content">'),f.b("\n"+g),f.b('        <div id="pathInfo" class="tab-pane"></div>'),f.b("\n"+g),f.b('        <div id="pathMembers" class="tab-pane members-list"></div>'),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.b('<div id="extLayout"></div>'),f.b("\n"),f.b("\n"+g),f.b('<div class="modal-close val-icon-exit"></div>'),f.b("\n"),f.fl()},partials:{},subs:{}},'<div id="pathTabs" class="val-tabs js-valamis-tabs">\n    <ul class="nav-tabs clearfix js-tabs-navigation">\n        <li class="js-info" data-ref="pathInfo"><a>{{language.infoLabel}}</a></li>\n        {{#permissions.modify}}\n        <li class="" data-ref="pathMembers"><a>{{language.membersLabel}}</a></li>\n        {{/permissions.modify}}\n    </ul>\n\n    <div class="tab-content js-tabs-content">\n        <div id="pathInfo" class="tab-pane"></div>\n        <div id="pathMembers" class="tab-pane members-list"></div>\n    </div>\n</div>\n\n<div id="extLayout"></div>\n\n<div class="modal-close val-icon-exit"></div>\n',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(i){function q(s){return s&&s.__esModule?s:{"default":s}}Object.defineProperty(a,"__esModule",{value:!0});var r=c(65),n=q(r),o=c(1),d=q(o),f=c(36),h=q(f),g=c(47),m=q(g),p=c(66),k=q(p),e=c(61),l=q(e),j=i.View.extend({template:n["default"],regions:{info:".js-preview-info"},ui:{edit:".js-edit",clone:".js-clone-path",publish:".js-publish-path",activate:".js-activate-path",deactivate:".js-deactivate-path","delete":".js-delete-path"},events:{"click @ui.edit":"editPath","click @ui.clone":"clonePath","click @ui.publish":"publishPath","click @ui.activate":"activatePath","click @ui.deactivate":"deactivatePath","click @ui.delete":"confirmDeletePath"},behaviors:[m["default"]],initialize:function(){this.notifyChannel=h["default"].channel("notify"),this.reloadModel=this.options.reloadModel},onRender:function(){var s=this;this.reloadModel?_.delay(function(){s.fetchNewData()},500):this.showInfo()},fetchNewData:function(){var s=this,t=new l["default"]({id:this.model.get("id")});t.fetch().then(function(){s.model.clear({silent:!0}),s.model.set(t.toJSON()),s.reloadModel=!1,s.render()},function(){h["default"].channel("notify").trigger("notify","error","failedLabel")})},showInfo:function(){this.showChildView("info",new k["default"]({model:this.model,doAsAdmin:this.options.doAsAdmin}))},editPath:function(){this.triggerMethod("edit:path")},clonePath:function(){var s=this;this.model.clone().then(function(){s.notifyChannel.trigger("notify","success","completeLabel")},function(){s.notifyChannel.trigger("notify","error","failedLabel")})},publishPath:function(){var s=this;this.model.publish().then(function(){s.reloadModel=!0,s.render()},function(){s.notifyChannel.trigger("notify","error","failedLabel")})},activatePath:function(){var s=this;this.model.activate().then(function(){s.model.set("activated",!0),s.render()},function(){s.notifyChannel.trigger("notify","error","failedLabel")})},deactivatePath:function(){var s=this;this.model.deactivate().then(function(){s.model.set("activated",!1),s.render()},function(){s.notifyChannel.trigger("notify","error","failedLabel")})},confirmDeletePath:function(){var s=this;this.notifyChannel.trigger("confirm",{message:d["default"].language.warningDeletePathLabel},function(){s.deletePath()})},deletePath:function(){var s=this;this.model.destroy().then(function(){s.notifyChannel.trigger("notify","success","completeLabel")},function(){s.notifyChannel.trigger("notify","error","failedLabel")})}});a["default"]=j}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="tab-header-imitation">'),f.b("\n"+g),f.s(f.d("permissions.modify",j,h,1),j,h,0,58,1268,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.s(i.f("hasDraft",l,k,1),l,k,0,76,341,"{{ }}")&&(i.rs(l,k,function(o,n,m){m.b('    <div class="display-inline valamis-info-label centered-x-block">'),m.b("\n"+g),m.s(m.f("published",o,n,1),o,n,0,168,222,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b("        "),q.b(q.v(q.d("language.hasInactiveChangesLabel",s,r,0))),q.b("\n"+g)}),o.pop()),m.s(m.f("published",o,n,1),o,n,1,0,0,"")||(m.b("        "),m.b(m.v(m.d("language.unpublishedDraftLabel",o,n,0))),m.b("\n"+g)),m.b("    </div>"),m.b("\n"+g)}),l.pop()),i.b("\n"+g),i.b('    <button class="button medium neutral js-edit">'),i.b("\n"+g),i.b("        "),i.b(i.v(i.d("language.editLabel",l,k,0))),i.b("\n"+g),i.b("    </button>"),i.b("\n"),i.b("\n"+g),i.b('    <div class="dropdown actions display-inline-block js-dropdown">'),i.b("\n"+g),i.b('        <button class="button medium neutral">'),i.b("\n"+g),i.b('            <span class="dropdown-text">...</span>'),i.b("\n"+g),i.b("        </button>"),i.b("\n"+g),i.b('        <ul class="dropdown-menu">'),i.b("\n"+g),i.b('            <li class="js-clone-path">'),i.b(i.v(i.d("language.cloneLabel",l,k,0))),i.b("</li>"),i.b("\n"+g),i.s(i.f("hasDraft",l,k,1),l,k,0,764,848,"{{ }}")&&(i.rs(l,k,function(o,n,m){m.b('            <li class="js-publish-path">'),m.b(m.v(m.d("language.publishLabel",o,n,0))),m.b("</li>"),m.b("\n"+g)}),l.pop()),i.s(i.f("published",l,k,1),l,k,0,888,1159,"{{ }}")&&(i.rs(l,k,function(o,n,m){m.s(m.f("activated",o,n,1),o,n,1,0,0,"")||(m.b('            <li class="js-activate-path">'),m.b(m.v(m.d("language.activateLabel",o,n,0))),m.b("</li>"),m.b("\n"+g)),m.s(m.f("activated",o,n,1),o,n,0,1042,1132,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b('            <li class="js-deactivate-path">'),q.b(q.v(q.d("language.deactivateLabel",s,r,0))),q.b("</li>"),q.b("\n"+g)}),o.pop())}),l.pop()),i.b('            <li class="js-delete-path">'),i.b(i.v(i.d("language.deleteLabel",l,k,0))),i.b("</li>"),i.b("\n"+g),i.b("        </ul>"),i.b("\n"+g),i.b("    </div>"),i.b("\n"+g)}),j.pop()),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.b('<div class="js-preview-info">'),f.b("\n"+g),f.b('    <div class="loading-container js-loading"></div>'),f.b("\n"+g),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="tab-header-imitation">\n{{#permissions.modify}}\n    {{#hasDraft}}\n    <div class="display-inline valamis-info-label centered-x-block">\n        {{#published}}\n        {{language.hasInactiveChangesLabel}}\n        {{/published}}\n        {{^published}}\n        {{language.unpublishedDraftLabel}}\n        {{/published}}\n    </div>\n    {{/hasDraft}}\n\n    <button class="button medium neutral js-edit">\n        {{language.editLabel}}\n    </button>\n\n    <div class="dropdown actions display-inline-block js-dropdown">\n        <button class="button medium neutral">\n            <span class="dropdown-text">...</span>\n        </button>\n        <ul class="dropdown-menu">\n            <li class="js-clone-path">{{language.cloneLabel}}</li>\n            {{#hasDraft}}\n            <li class="js-publish-path">{{language.publishLabel}}</li>\n            {{/hasDraft}}\n            {{#published}}\n            {{^activated}}\n            <li class="js-activate-path">{{language.activateLabel}}</li>\n            {{/activated}}\n            {{#activated}}\n            <li class="js-deactivate-path">{{language.deactivateLabel}}</li>\n            {{/activated}}\n            {{/published}}\n            <li class="js-delete-path">{{language.deleteLabel}}</li>\n        </ul>\n    </div>\n{{/permissions.modify}}\n</div>\n\n<div class="js-preview-info">\n    <div class="loading-container js-loading"></div>\n</div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(l){function z(C){if(C&&C.__esModule){return C}var A={};if(null!=C){for(var B in C){Object.prototype.hasOwnProperty.call(C,B)&&(A[B]=C[B])}}return A["default"]=C,A}function e(A){return A&&A.__esModule?A:{"default":A}}Object.defineProperty(a,"__esModule",{value:!0});var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},p=c(67),y=e(p),h=c(1),v=e(h),i=c(36),x=e(i),u=c(68),m=e(u),o=c(70),k=e(o),s=c(48),j=z(s),r=c(71),n=e(r),f=c(26),g=e(f),d=c(76),t=(e(d),c(77)),w=(e(t),l.View.extend({className:"preview-wrapper",regions:{recommendationList:".js-recommendation-list",improvingList:".js-improving-list",goals:".js-goals-list"},ui:{goalsSubheader:".js-goals-subheader",scope:".js-scope-title",join:".js-join",leave:".js-leave",startPath:".js-start",earnBadge:".js-earn-badge",recommendationSkills:".js-recommendation-skills",improvingSkills:".js-improving-skills"},events:{"click @ui.join":"joinPath","click @ui.leave":"leavePath","click @ui.startPath":"startPath","click @ui.earnBadge":"earnBadge"},template:y["default"],templateContext:function(){var B=this.model.get("validPeriod"),D=B?m["default"].getHumanizeDuration(B):"",A=this.model.get("expiringPeriod"),F=A?m["default"].getHumanizeDuration(A):"",E=j.statuses,C=this.model.isMember()?this.model.getStatus():"";return{validDuration:D,expiringDuration:F,fullLogoUrl:this.model.getFullLogoUrl(),isMember:this.model.isMember(),isInProgress:C===E.inprogress,isSucceed:C===E.success,isFailed:C===E.failed,isExpired:C===E.expired,isExpiring:C===E.expiring,canEarnBadge:this.model.canEarnBadge()}},onRender:function(){var E=this;if(this.goals=void 0,this.model.get("courseId")){var A=new k["default"]({id:this.model.get("courseId")});A.fetch().then(function(){E.ui.scope.text(A.get("title"))},function(){x["default"].channel("notify").trigger("notify","error","failedLabel")})}else{this.ui.scope.text(v["default"].language.instanceScopeLabel)}var B=!this.options.doAsAdmin&&this.model.isMember(),C=B?g["default"].userId():"",D=new n["default"]({path:this.model,userId:C,doAsAdmin:this.options.doAsAdmin,versionId:this.model.get("statusVersionId")});D.on("goals:loaded",this.toggleStart,this),this.showChildView("goals",D)},toggleStart:function(B){this.goals=B;var A=B.length>0&&this.model.isMember()&&this.model.getStatus()===j.statuses.inprogress;this.ui.startPath.toggleClass("hidden",!A)},joinPath:function(){var A=this;this.model.join().then(function(){A.model.trigger("user:joined")},function(){A.notifyChannel.trigger("notify","error","failedLabel")})},leavePath:function(){var A=this;this.model.leave().then(function(){A.model.unset("status"),A.model.trigger("user:left")},function(){A.notifyChannel.trigger("notify","error","failedLabel")})},startPath:function(){this.goals?this.model.trigger("open:viewer",this.goals):this.notifyChannel.trigger("notify","error","failedLabel")},earnBadge:function(){void 0!==("undefined"==typeof OpenBadges?"undefined":q(OpenBadges))?OpenBadges.issue([this.model.getIssueBadgeUrl()]):this.notifyChannel.trigger("notify","error","openBadgesUndefinedLabel")}}));a["default"]=w}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="preview-group clearfix">'),f.b("\n"+g),f.b('    <div class="div-table val-info-table">'),f.b("\n"+g),f.b('        <div class="div-row">'),f.b("\n"+g),f.b('            <div class="div-col name-col">'),f.b("\n"+g),f.b('                <img src="'),f.s(f.f("logoUrl",j,h,1),j,h,0,191,206,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b(i.v(i.f("fullLogoUrl",l,k,0)))}),j.pop()),f.b('" class="shift-left val-img-logo certificate" />'),f.b("\n"+g),f.b("            </div>"),f.b("\n"+g),f.b('            <div class="div-col content-col">'),f.b("\n"+g),f.b('                <div class="header">'),f.b(f.v(f.f("title",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b("                <div>"),f.b("\n"+g),f.s(f.f("published",j,h,1),j,h,0,440,609,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.s(i.f("activated",l,k,1),l,k,1,0,0,"")||(i.b('                    <span class="val-label inactive">'),i.b(i.v(i.d("language.inactiveStatusLabel",l,k,0))),i.b("</span>"),i.b("\n"+g),i.b("                    &bull;"),i.b("\n"+g))}),j.pop()),f.s(f.f("activated",j,h,1),j,h,0,658,1329,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.s(i.f("isMember",l,k,1),l,k,0,671,1316,"{{ }}")&&(i.rs(l,k,function(o,n,m){m.b("                    "),m.s(m.f("isInProgress",o,n,1),o,n,0,709,774,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b('<span class="val-label">'),q.b(q.v(q.d("language.inProgressStatusLabel",s,r,0))),q.b("</span>")}),o.pop()),m.b("\n"+g),m.b("                    "),m.s(m.f("isSucceed",o,n,1),o,n,0,826,896,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b('<span class="val-label success">'),q.b(q.v(q.d("language.successStatusLabel",s,r,0))),q.b("</span>")}),o.pop()),m.b("\n"+g),m.b("                    "),m.s(m.f("isFailed",o,n,1),o,n,0,944,1012,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b('<span class="val-label failed">'),q.b(q.v(q.d("language.failedStatusLabel",s,r,0))),q.b("</span>")}),o.pop()),m.b("\n"+g),m.b("                    "),m.s(m.f("isExpired",o,n,1),o,n,0,1060,1129,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b('<span class="val-label failed">'),q.b(q.v(q.d("language.expiredStatusLabel",s,r,0))),q.b("</span>")}),o.pop()),m.b("\n"+g),m.b("                    "),m.s(m.f("isExpiring",o,n,1),o,n,0,1179,1253,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b('<span class="val-label inprogress">'),q.b(q.v(q.d("language.expiringStatusLabel",s,r,0))),q.b("</span>")}),o.pop()),m.b("\n"+g),m.b("                    &bull;"),m.b("\n"+g)}),l.pop())}),j.pop()),f.b("\n"+g),f.b('                    <span class="js-scope-title"></span>'),f.b("\n"+g),f.b("                </div>"),f.b("\n"+g),f.s(f.f("published",j,h,1),j,h,0,1455,2356,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('                <div class="path-action-buttons">'),i.b("\n"+g),i.s(i.f("isMember",l,k,1),l,k,0,1539,2091,"{{ }}")&&(i.rs(l,k,function(o,n,m){m.b('                    <button class="button medium primary hidden js-start">'),m.b("\n"+g),m.b("                        "),m.b(m.v(m.d("language.startLabel",o,n,0))),m.b("\n"+g),m.b("                    </button>"),m.b("\n"),m.b("\n"+g),m.s(m.f("canEarnBadge",o,n,1),o,n,0,1731,1907,"{{ }}")&&(m.rs(o,n,function(s,r,q){q.b('                    <button class="button medium primary js-earn-badge">'),q.b("\n"+g),q.b("                        "),q.b(q.v(q.d("language.earnBadgeLabel",s,r,0))),q.b("\n"+g),q.b("                    </button>"),q.b("\n"+g)}),o.pop()),m.b("\n"+g),m.b('                    <button class="button medium danger js-leave">'),m.b("\n"+g),m.b("                        "),m.b(m.v(m.d("language.leaveLabel",o,n,0))),m.b("\n"+g),m.b("                    </button>"),m.b("\n"+g)}),l.pop()),i.s(i.f("isMember",l,k,1),l,k,1,0,0,"")||(i.b('                    <button class="button medium primary js-join">'),i.b("\n"+g),i.b("                        "),i.b(i.v(i.d("language.joinLabel",l,k,0))),i.b("\n"+g),i.b("                    </button>"),i.b("\n"+g)),i.b("                </div>"),i.b("\n"+g)}),j.pop()),f.b("            </div>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"+g),f.b('<div class="preview-group description-preview">'),f.b("\n"+g),f.b('    <div class="subheader">'),f.b(f.v(f.d("language.descriptionLabel",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b("    "),f.b(f.v(f.f("description",j,h,0))),f.b("\n"),f.b("\n"+g),f.b('    <div class="skills-select js-recommendation-skills hidden">'),f.b("\n"+g),f.b('        <div class="subheader">'),f.b(f.v(f.d("language.prerequisitesLabel",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b('        <div class="dropdown">'),f.b("\n"+g),f.b('            <div class="js-common-select">'),f.b("\n"+g),f.b('                <div class="js-recommendation-list"></div>'),f.b("\n"+g),f.b("            </div>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"),f.b("\n"+g),f.b('    <div class="skills-select js-improving-skills hidden">'),f.b("\n"+g),f.b('        <div class="subheader">'),f.b(f.v(f.d("language.improvementLabel",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b('        <div class="dropdown">'),f.b("\n"+g),f.b('            <div class="js-common-select">'),f.b("\n"+g),f.b('                <div class="js-improving-list"></div>'),f.b("\n"+g),f.b("            </div>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.b('<div id="pathGoals" class="preview-group path-goals">'),f.b("\n"+g),f.b('    <div class="js-goals-list">'),f.b("\n"+g),f.b('        <div class="loading-container js-loading"></div>'),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.b('<div id="pathExtInfo" class="preview-group">'),f.b("\n"+g),f.b('    <div class="div-table val-info-table">'),f.b("\n"+g),f.b('        <div class="div-row">'),f.b("\n"+g),f.b('            <div class="div-col name-col">'),f.b(f.v(f.d("language.validPeriodLabel",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b('            <div class="div-col content-col">'),f.b("\n"+g),f.b("                <span>"),f.b("\n"+g),f.s(f.f("validPeriod",j,h,1),j,h,0,3633,3684,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b("                "),i.b(i.v(i.f("validDuration",l,k,0))),i.b("\n"+g)}),j.pop()),f.s(f.f("validPeriod",j,h,1),j,h,1,0,0,"")||(f.b("                "),f.b(f.v(f.d("language.permanentLabel",j,h,0))),f.b("\n"+g)),f.b("                </span>"),f.b("\n"+g),f.b("            </div>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"),f.b("\n"+g),f.s(f.f("expiringDuration",j,h,1),j,h,0,3899,4149,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('        <div class="div-row">'),i.b("\n"+g),i.b('            <div class="div-col name-col">'),i.b(i.v(i.d("language.expiringPeriodLabel",l,k,0))),i.b("</div>"),i.b("\n"+g),i.b('            <div class="div-col content-col">'),i.b("\n"+g),i.b("                <span>"),i.b(i.v(i.f("expiringDuration",l,k,0))),i.b("</span>"),i.b("\n"+g),i.b("            </div>"),i.b("\n"+g),i.b("        </div>"),i.b("\n"+g)}),j.pop()),f.b("\n"+g),f.s(f.f("openBadgesEnabled",j,h,1),j,h,0,4202,4464,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('        <div class="div-row">'),i.b("\n"+g),i.b('            <div class="div-col name-col">'),i.b(i.v(i.d("language.openBadgesDescriptionLabel",l,k,0))),i.b("</div>"),i.b("\n"+g),i.b('            <div class="div-col content-col">'),i.b("\n"+g),i.b("                <span>"),i.b(i.v(i.f("openBadgesDescription",l,k,0))),i.b("</span>"),i.b("\n"+g),i.b("            </div>"),i.b("\n"+g),i.b("        </div>"),i.b("\n"+g)}),j.pop()),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="preview-group clearfix">\n    <div class="div-table val-info-table">\n        <div class="div-row">\n            <div class="div-col name-col">\n                <img src="{{#logoUrl}}{{fullLogoUrl}}{{/logoUrl}}" class="shift-left val-img-logo certificate" />\n            </div>\n            <div class="div-col content-col">\n                <div class="header">{{title}}</div>\n                <div>\n                    {{#published}}{{^activated}}\n                    <span class="val-label inactive">{{language.inactiveStatusLabel}}</span>\n                    &bull;\n                    {{/activated}}{{/published}}\n                    {{#activated}}{{#isMember}}\n                    {{#isInProgress}}<span class="val-label">{{language.inProgressStatusLabel}}</span>{{/isInProgress}}\n                    {{#isSucceed}}<span class="val-label success">{{language.successStatusLabel}}</span>{{/isSucceed}}\n                    {{#isFailed}}<span class="val-label failed">{{language.failedStatusLabel}}</span>{{/isFailed}}\n                    {{#isExpired}}<span class="val-label failed">{{language.expiredStatusLabel}}</span>{{/isExpired}}\n                    {{#isExpiring}}<span class="val-label inprogress">{{language.expiringStatusLabel}}</span>{{/isExpiring}}\n                    &bull;\n                    {{/isMember}}{{/activated}}\n\n                    <span class="js-scope-title"></span>\n                </div>\n                {{#published}}\n                <div class="path-action-buttons">\n                    {{#isMember}}\n                    <button class="button medium primary hidden js-start">\n                        {{language.startLabel}}\n                    </button>\n\n                    {{#canEarnBadge}}\n                    <button class="button medium primary js-earn-badge">\n                        {{language.earnBadgeLabel}}\n                    </button>\n                    {{/canEarnBadge}}\n\n                    <button class="button medium danger js-leave">\n                        {{language.leaveLabel}}\n                    </button>\n                    {{/isMember}}\n                    {{^isMember}}\n                    <button class="button medium primary js-join">\n                        {{language.joinLabel}}\n                    </button>\n                    {{/isMember}}\n                </div>\n                {{/published}}\n            </div>\n        </div>\n    </div>\n</div>\n<div class="preview-group description-preview">\n    <div class="subheader">{{language.descriptionLabel}}</div>\n    {{description}}\n\n    <div class="skills-select js-recommendation-skills hidden">\n        <div class="subheader">{{language.prerequisitesLabel}}</div>\n        <div class="dropdown">\n            <div class="js-common-select">\n                <div class="js-recommendation-list"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="skills-select js-improving-skills hidden">\n        <div class="subheader">{{language.improvementLabel}}</div>\n        <div class="dropdown">\n            <div class="js-common-select">\n                <div class="js-improving-list"></div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div id="pathGoals" class="preview-group path-goals">\n    <div class="js-goals-list">\n        <div class="loading-container js-loading"></div>\n    </div>\n</div>\n\n<div id="pathExtInfo" class="preview-group">\n    <div class="div-table val-info-table">\n        <div class="div-row">\n            <div class="div-col name-col">{{language.validPeriodLabel}}</div>\n            <div class="div-col content-col">\n                <span>\n                {{#validPeriod}}\n                {{validDuration}}\n                {{/validPeriod}}\n                {{^validPeriod}}\n                {{language.permanentLabel}}\n                {{/validPeriod}}\n                </span>\n            </div>\n        </div>\n\n        {{#expiringDuration}}\n        <div class="div-row">\n            <div class="div-col name-col">{{language.expiringPeriodLabel}}</div>\n            <div class="div-col content-col">\n                <span>{{expiringDuration}}</span>\n            </div>\n        </div>\n        {{/expiringDuration}}\n\n        {{#openBadgesEnabled}}\n        <div class="div-row">\n            <div class="div-col name-col">{{language.openBadgesDescriptionLabel}}</div>\n            <div class="div-col content-col">\n                <span>{{openBadgesDescription}}</span>\n            </div>\n        </div>\n        {{/openBadgesEnabled}}\n    </div>\n</div>',b);return e.render.apply(e,arguments)}},function(d,s,f){function r(v){if(v&&v.__esModule){return v}var t={};if(null!=v){for(var u in v){Object.prototype.hasOwnProperty.call(v,u)&&(t[u]=v[u])}}return t["default"]=v,t}function a(t){return t&&t.__esModule?t:{"default":t}}function h(t,u){if(!(t instanceof u)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(s,"__esModule",{value:!0});var p=function(){function t(x,v){for(var u=0;u<v.length;u++){var w=v[u];w.enumerable=w.enumerable||!1,w.configurable=!0,"value" in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(w,u,v){return u&&t(w.prototype,u),v&&t(w,v),w}}(),c=f(26),g=a(c),j=f(60),e=a(j),n=f(69),l=a(n),o=f(48),i=r(o),b=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/,k=function(v,t){var u=v&&parseFloat(v.replace(",","."));return(isNaN(u)?0:u)*t},m=function(u){var t=void 0,w=void 0,v=null;return(v=b.exec(u))&&(t="-"===v[1]?-1:1,w={y:k(v[2],t),mo:k(v[3],t),w:k(v[4],t),d:k(v[5],t),h:k(v[6],t),m:k(v[7],t),s:k(v[8],t)}),w},q=function(){function t(){h(this,t)}return p(t,null,[{key:"getDurationObject",value:function(v){var u={};return _.each(m(v),function(x,w){x>0&&(u[w]=x)}),u}},{key:"getHumanizeDuration",value:function(w){var v=e["default"].duration(w).asMilliseconds(),u=_.map(this.getDurationObject(w),function(y,x){return x});return(0,l["default"])(v,{language:g["default"].getUserLocale(),units:u,round:!0})}},{key:"getIsoDuration",value:function(v){var u="P";return v.y&&(u+=v.y+"Y"),v.mo&&(u+=v.mo+"M"),v.w&&(u+=v.w+"W"),v.d&&(u+=v.d+"D"),(v.h||v.m||v.s)&&(u+="T",v.h&&(u+=v.h+"H"),v.m&&(u+=v.m+"M"),v.s&&(u+=v.s+"S")),u}},{key:"getPeriod",value:function(w){var y=this.getDurationObject(w),u=i.validPeriodTypes,v=_.intersection(_.keys(y),_.keys(u)),x={};return v.length>0&&(x.type=v[0],x.value=y[v[0]]),x}}]),t}();s["default"]=q},function(b,a){b.exports=humanizeDuration},function(b,a,c){(function(k){function e(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(a,"__esModule",{value:!0});var j=c(59),g=e(j),f=c(40),d=e(f),i=new k.Service({url:function(){return(0,d["default"])().endpoint.courses}}),h=g["default"].extend(i);a["default"]=h}).call(a,c(3))},function(b,a,c){(function(i,f){function x(A){if(A&&A.__esModule){return A}var y={};if(null!=A){for(var z in A){Object.prototype.hasOwnProperty.call(A,z)&&(y[z]=A[z])}}return y["default"]=A,y}function d(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(a,"__esModule",{value:!0});var j=c(72),m=d(j),s=c(73),u=d(s),e=c(1),q=d(e),g=c(36),t=d(g),n=c(48),h=x(n),p=c(68),k=d(p),o=c(74),r=d(o),w=i.View.extend({tagName:"li",template:m["default"],templateContext:function(){var C=this.model.get("timeLimit")?k["default"].getHumanizeDuration(this.model.get("timeLimit")):"-",B=this.model.isGroup()?this.model.get("goals").length:0,y={};if(this.options.isUserMember){var z=_.find(this.options.userProgress,{goalId:this.model.get("id")}),A=z?z.status:"";y.isSucceed=A===h.statuses.success,y.isFailed=A===h.statuses.failed,y.isInProgress=!y.isSucceed&&!y.isFailed}return _.extend({isGroup:this.model.isGroup(),isActivity:this.model.isActivity(),goalTypeLabel:q["default"].language[this.model.get("goalType")+"GoalLabel"],timeLimit:C,isGroupCompletedByCount:this.model.isCompletedByCount(),isParentCompletedByCount:this.options.isParentCompletedByCount,childrenNumber:B,isUserMember:this.options.isUserMember},y)},regions:{tree:{el:"ul.js-group-children",replaceElement:!0}},onRender:function(){var A=this,z=this.model.get("goals");if(z&&z.length){var y=new v({collection:new r["default"](z),userProgress:this.options.userProgress,isParentCompletedByCount:this.model.isCompletedByCount(),isUserMember:this.options.isUserMember});y.collection.on("bubble:event",function(B){A.model.trigger("bubble:event",B)}),this.showChildView("tree",y)}}}),v=i.CollectionView.extend({tagName:"ul",childView:w,childViewOptions:function(){return{userProgress:this.options.userProgress,isParentCompletedByCount:this.options.isParentCompletedByCount,isUserMember:this.options.isUserMember}}}),l=i.View.extend({template:u["default"],className:"val-list-table",regions:{goalsList:".js-goals-list"},ui:{doneCount:".js-done-count",header:".js-header"},templateContext:function(){return{isPreview:!0,goalsCount:this.options.path.get("goalsCount"),isMember:this.isUserMember}},initialize:function(){this.isUserMember=!!this.options.userId},onRender:function(){var y=this;this.goals=new r["default"](),this.goals.pathId=this.options.path.get("id"),this.goals.versionId=this.options.versionId;var A=f.Deferred(),z=f.Deferred();this.goals.fetch({getVersion:!this.options.doAsAdmin&&this.isUserMember,activities:q["default"].activities.toJSON()}).then(function(){y.triggerMethod("goals:loaded",y.goals),A.resolve()},function(){A.reject()}),this.userProgress=[],this.isUserMember?this.options.path.getUserGoalsProgress({},{userId:this.options.userId}).then(function(B){y.userProgress=B,z.resolve()},function(){z.reject()}):z.resolve(),f.when(A,z).then(function(){y.renderTree()},function(){t["default"].channel("notify").trigger("notify","error","failedLabel")})},renderTree:function(){if(this.isUserMember){var y=_.filter(this.userProgress,{status:h.statuses.success}).length;this.ui.doneCount.text(y)}this.ui.header.toggleClass("hidden",0===this.goals.length);var z=new v({collection:this.goals,userProgress:this.userProgress,isUserMember:this.isUserMember});this.showChildView("goalsList",z)}});a["default"]=l}).call(a,c(2),c(24))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="clearfix list-table-row">'),f.b("\n"+g),f.b('    <span class="s-6 goal-title '),f.s(f.f("isGroup",j,h,1),j,h,0,82,87,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b("group")}),j.pop()),f.b('">'),f.b("\n"+g),f.b('        <div class="ellipsis">'),f.b("\n"+g),f.s(f.f("isUserMember",j,h,1),j,h,0,162,577,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.s(i.f("isInProgress",l,k,1),l,k,0,196,267,"{{ }}")&&(i.rs(l,k,function(o,n,m){m.b('                <span class="val-rounded-div"></span>'),m.b("\n"+g)}),l.pop()),i.s(i.f("isSucceed",l,k,1),l,k,0,315,414,"{{ }}")&&(i.rs(l,k,function(o,n,m){m.b('                <span class="val-rounded-icon val-icon-checkmark success"></span>'),m.b("\n"+g)}),l.pop()),i.s(i.f("isFailed",l,k,1),l,k,0,458,551,"{{ }}")&&(i.rs(l,k,function(o,n,m){m.b('                <span class="val-rounded-icon val-icon-exit failed"></span>'),m.b("\n"+g)}),l.pop())}),j.pop()),f.b("\n"+g),f.s(f.f("isGroup",j,h,1),j,h,0,620,659,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b("                "),i.b(i.v(i.f("title",l,k,0))),i.b("\n"+g)}),j.pop()),f.s(f.f("isGroup",j,h,1),j,h,1,0,0,"")||(f.b("                "),f.s(f.f("isActivity",j,h,1),j,h,0,728,758,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b(i.v(i.d("language.doLabel",l,k,0))),i.b(" "),i.b(i.v(i.f("count",l,k,0)))}),j.pop()),f.b("\n"+g),f.b("                "),f.b(f.v(f.f("title",j,h,0))),f.b("\n"+g)),f.b("        </div>"),f.b("\n"+g),f.b("    </span>"),f.b("\n"+g),f.b('    <span class="s-2">'),f.b(f.v(f.f("goalTypeLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b('    <span class="s-2">'),f.b(f.v(f.f("timeLimit",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b('    <span class="s-2">'),f.b("\n"+g),f.s(f.f("isGroup",j,h,1),j,h,0,985,1279,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.s(i.f("isGroupCompletedByCount",l,k,1),l,k,0,1026,1123,"{{ }}")&&(i.rs(l,k,function(o,n,m){m.b("            "),m.b(m.v(m.d("language.anyLabel",o,n,0))),m.b(" "),m.b(m.v(m.f("count",o,n,0))),m.b(" "),m.b(m.v(m.d("language.ofLabel",o,n,0))),m.b(" "),m.b(m.v(m.f("childrenNumber",o,n,0))),m.b("\n"+g)}),l.pop()),i.s(i.f("isGroupCompletedByCount",l,k,1),l,k,1,0,0,"")||(i.b("            "),i.b(i.v(i.d("language.customLabel",l,k,0))),i.b("\n"+g))}),j.pop()),f.s(f.f("isGroup",j,h,1),j,h,1,0,0,"")||f.s(f.f("isParentCompletedByCount",j,h,1),j,h,1,0,0,"")||(f.b("            "),f.s(f.f("optional",j,h,1),j,h,0,1376,1396,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b(i.v(i.d("language.noLabel",l,k,0)))}),j.pop()),f.b("\n"+g),f.b("            "),f.s(f.f("optional",j,h,1),j,h,1,0,0,"")||f.b(f.v(f.d("language.yesLabel",j,h,0))),f.b("\n"+g)),f.b("    </span>"),f.b("\n"+g),f.b("</div>"),f.b("\n"+g),f.s(f.f("isGroup",j,h,1),j,h,0,1560,1597,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('<ul class="js-group-children"></ul>'),i.b("\n"+g)}),j.pop()),f.fl()},partials:{},subs:{}},'<div class="clearfix list-table-row">\n    <span class="s-6 goal-title {{#isGroup}}group{{/isGroup}}">\n        <div class="ellipsis">\n            {{#isUserMember}}\n                {{#isInProgress}}\n                <span class="val-rounded-div"></span>\n                {{/isInProgress}}\n                {{#isSucceed}}\n                <span class="val-rounded-icon val-icon-checkmark success"></span>\n                {{/isSucceed}}\n                {{#isFailed}}\n                <span class="val-rounded-icon val-icon-exit failed"></span>\n                {{/isFailed}}\n            {{/isUserMember}}\n\n            {{#isGroup}}\n                {{title}}\n            {{/isGroup}}\n            {{^isGroup}}\n                {{#isActivity}}{{language.doLabel}} {{count}}{{/isActivity}}\n                {{title}}\n            {{/isGroup}}\n        </div>\n    </span>\n    <span class="s-2">{{goalTypeLabel}}</span>\n    <span class="s-2">{{timeLimit}}</span>\n    <span class="s-2">\n        {{#isGroup}}\n            {{#isGroupCompletedByCount}}\n            {{language.anyLabel}} {{count}} {{language.ofLabel}} {{childrenNumber}}\n            {{/isGroupCompletedByCount}}\n            {{^isGroupCompletedByCount}}\n            {{language.customLabel}}\n            {{/isGroupCompletedByCount}}\n        {{/isGroup}}\n        {{^isGroup}}\n        {{^isParentCompletedByCount}}\n            {{#optional}}{{language.noLabel}}{{/optional}}\n            {{^optional}}{{language.yesLabel}}{{/optional}}\n        {{/isParentCompletedByCount}}\n        {{/isGroup}}\n    </span>\n</div>\n{{#isGroup}}\n<ul class="js-group-children"></ul>\n{{/isGroup}}',b);return e.render.apply(e,arguments)}},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.s(f.f("isPreview",j,h,1),j,h,0,14,292,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.s(i.f("isMember",l,k,1),l,k,0,28,182,"{{ }}")&&(i.rs(l,k,function(o,n,m){m.b('<div class="subheader clearfix">'),m.b("\n"+g),m.b('    <span class="js-done-count"></span>'),m.b("\n"+g),m.b("    "),m.b(m.v(m.d("language.ofLabel",o,n,0))),m.b(" "),m.b(m.v(m.f("goalsCount",o,n,0))),m.b(" "),m.b(m.v(m.d("language.goalsAchievedLabel",o,n,0))),m.b(":"),m.b("\n"+g),m.b("</div>"),m.b("\n"+g)}),l.pop()),i.b("\n"+g),i.s(i.f("isMember",l,k,1),l,k,1,0,0,"")||(i.b('<div class="subheader">'),i.b("\n"+g),i.b("    "),i.b(i.v(i.d("language.learningGoalsLabel",l,k,0))),i.b("\n"+g),i.b("</div>"),i.b("\n"+g))}),j.pop()),f.b("\n"+g),f.b('<div class="clearfix val-list-table-header hidden js-header">'),f.b("\n"+g),f.b('    <span class="s-6">'),f.b(f.v(f.d("language.goalsTitleLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b('    <span class="s-2">'),f.b(f.v(f.d("language.typeLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b('    <span class="s-2">'),f.b(f.v(f.d("language.deadlineLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b('    <span class="s-2">'),f.b(f.v(f.d("language.mandatoryLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b("</div>"),f.b("\n"+g),f.b('<div class="js-goals-list val-list-table-body">'),f.b("\n"+g),f.b('    <div class="loading-container js-loading"></div>'),f.b("\n"+g),f.b("</div>"),f.fl()},partials:{},subs:{}},'{{#isPreview}}\n{{#isMember}}\n<div class="subheader clearfix">\n    <span class="js-done-count"></span>\n    {{language.ofLabel}} {{goalsCount}} {{language.goalsAchievedLabel}}:\n</div>\n{{/isMember}}\n\n{{^isMember}}\n<div class="subheader">\n    {{language.learningGoalsLabel}}\n</div>\n{{/isMember}}\n{{/isPreview}}\n\n<div class="clearfix val-list-table-header hidden js-header">\n    <span class="s-6">{{language.goalsTitleLabel}}</span>\n    <span class="s-2">{{language.typeLabel}}</span>\n    <span class="s-2">{{language.deadlineLabel}}</span>\n    <span class="s-2">{{language.mandatoryLabel}}</span>\n</div>\n<div class="js-goals-list val-list-table-body">\n    <div class="loading-container js-loading"></div>\n</div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(e){function x(B){if(B&&B.__esModule){return B}var z={};if(null!=B){for(var A in B){Object.prototype.hasOwnProperty.call(B,A)&&(z[A]=B[A])}}return z["default"]=B,z}function d(z){return z&&z.__esModule?z:{"default":z}}Object.defineProperty(a,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(z){return typeof z}:function(z){return z&&"function"==typeof Symbol&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},u=c(42),m=d(u),k=c(59),h=d(k),j=c(40),l=d(j),f=c(1),r=d(f),q=c(48),g=x(q),t=c(75),w=d(t),n=new e.Service({url:function(z){return z.isGroup()?(0,l["default"])().endpoint.goalGroups:(0,l["default"])().endpoint.goals},targets:{move:{path:"move",data:function y(A,z){var B={indexNumber:z.index};return z.parentId&&_.extend(B,{groupId:z.parentId}),B},method:"post"}}}),s=h["default"].extend({defaults:{active:!1},isGroup:function(){return this.get("goalType")==g.goalTypes.group},isCompletedByCount:function(){return this.isGroup()&&!isNaN(this.get("count"))},isActivity:function(){return this.get("goalType")==g.goalTypes.activity},isEvent:function(){return this.get("goalType")==g.goalTypes.trainingEvent},isLesson:function(){return this.get("goalType")==g.goalTypes.lesson},isWebContent:function(){return this.get("goalType")==g.goalTypes.webContent},isTincanLesson:function(){return !0}}).extend(n),v=new e.Service({sync:{read:{path:function p(B,z){var A=void 0;return A=z.getVersion?(0,l["default"])().endpoint.versions+B.versionId+"/goals/tree":(0,l["default"])().endpoint.learningPaths+B.pathId+"/goals/tree"},method:"get"}}}),i=m["default"].extend({model:s,initialize:function(){this.url="",m["default"].prototype.initialize.apply(this,arguments)},parse:function(z,A){var C={};_.each(A.activities,function(D){C[D.activityName]=D.title});var B=function B(D){_.each(D,function(E){if(E.goalType==g.goalTypes.activity&&(E.title=C[E.activityName]),E.goalType==g.goalTypes.statement){var I=w["default"].getVerbPostfix(E.verbId),H=void 0;try{H=JSON.parse(E.objectName)}catch(G){H=E.objectName}var F="object"===("undefined"==typeof H?"undefined":o(H))?w["default"].getLangDictionaryTincanValue(H):H;E.title=(r["default"].language[I+"VerbLabel"]||I)+" "+F}E.goals&&B(E.goals)})};return B(z),z}}).extend(v);a["default"]=i}).call(a,c(3))},function(c,e,b){function i(j){return j&&j.__esModule?j:{"default":j}}function f(j,k){if(!(j instanceof k)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function j(n,l){for(var k=0;k<l.length;k++){var m=l[k];m.enumerable=m.enumerable||!1,m.configurable=!0,"value" in m&&(m.writable=!0),Object.defineProperty(n,m.key,m)}}return function(m,k,l){return k&&j(m.prototype,k),l&&j(m,l),m}}(),h=b(26),g=i(h),a=function(){function j(){f(this,j)}return d(j,null,[{key:"getLangDictionaryTincanValue",value:function(m,n){var k=m,l=void 0;if("undefined"==typeof n&&(n=g["default"].getUserLocale().replace("_","-")),"undefined"!=typeof n&&"undefined"!=typeof k[n]){return k[n]}if("undefined"!=typeof k.und){return k.und}if("undefined"!=typeof k["en-US"]){return k["en-US"]}for(l in k){if(k.hasOwnProperty(l)){return k[l]}}return""}},{key:"getVerbPostfix",value:function(l){var k=l.split("/");return k[k.length-1]}}]),j}();e["default"]=a},function(b,a,c){(function(j){function l(o){return o&&o.__esModule?o:{"default":o}}Object.defineProperty(a,"__esModule",{value:!0});var d=c(42),f=l(d),m=c(57),i=l(m),h=c(40),e=l(h),k=new j.Service({sync:{read:{path:function n(q,o){var p=q.pathId;return p+=o.improving?"/improving-competences":"/recommended-competences"},method:"get"}},targets:{addCompetency:{path:function n(q,o){var p=q.pathId;return p+=o&&o.data&&o.data.improving?"/improving-competences":"/recommended-competences"},data:function(p,o){return o.data},method:"post"},deleteCompetency:{path:function n(q,o){var p=q.pathId;return p+=o.improving?"/improving-competences/skills/"+o.skillId:"/recommended-competences/skills/"+o.skillId},method:"delete"}}}),g=f["default"].extend({model:j.Model,initialize:function(p,o){o&&o.getForVersion?this.url=(0,e["default"])().endpoint.versions:this.url=(0,e["default"])().endpoint.learningPaths,i["default"].prototype.initialize.apply(this,arguments)}}).extend(k);a["default"]=g}).call(a,c(3))},function(b,a,c){(function(i){function f(j){return j&&j.__esModule?j:{"default":j}}Object.defineProperty(a,"__esModule",{value:!0});var h=c(78),e=f(h),d=i.View.extend({tagName:"li",template:e["default"]}),g=i.CollectionView.extend({childView:d});a["default"]=g}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b(f.v(f.f("skillName",j,h,0))),f.b(", "),f.b(f.v(f.f("levelName",j,h,0))),f.fl()},partials:{},subs:{}},"{{skillName}}, {{levelName}}",b);return e.render.apply(e,arguments)}},function(b,a,c){(function(p,l){function d(z){return z&&z.__esModule?z:{"default":z}}Object.defineProperty(a,"__esModule",{value:!0});var m=c(80),e=d(m),r=c(81),q=d(r),y=c(84),j=d(y),f=c(86),h=d(f),w=c(89),k=d(w),u=c(91),s=d(u),i=c(1),t=d(i),o=c(40),n=d(o),x=c(58),v=d(x),g=p.View.extend({template:e["default"],className:"portlet-wrapper path-viewer",regions:{goalsSidebar:".js-goals-sidebar",toolbar:".js-toolbar",goalViewer:".js-goal"},events:{"click .js-done":"closePathViewer"},onRender:function(){this.toggleFullscreen(!0),this.path=new v["default"](this.model.toJSON()),this.goalsSidebarView=new q["default"]({path:this.path,goals:this.options.goals}),this.path.on("change:selected",this.onItemSelected,this),this.showChildView("goalsSidebar",this.goalsSidebarView),this.toolbarView=new j["default"](),this.showChildView("toolbar",this.toolbarView),this.goalView=new s["default"]({goalInfo:t["default"].language.chooseGoalLabel}),this.showChildView("goalViewer",this.goalView)},onItemSelected:function(){this.getRegion("goalViewer").reset();var z=this.path.get("selected");z.isLesson()&&z.isTincanLesson()&&(0,n["default"])().isValamisDeployed?this.goalView=new h["default"]({lessonId:z.get("lessonId")}):z.isWebContent()?this.goalView=new k["default"]({webContentId:z.get("webContentId")}):this.goalView=new s["default"]({goalInfo:t["default"].language[z.get("goalType")+"SelectGoalLabel"]}),this.showChildView("goalViewer",this.goalView)},toggleFullscreen:function(z){l("#learningPathsModal .bbm-modal").toggleClass("fullscreen",z)},closePathViewer:function(){this.toggleFullscreen(!1),this.triggerMethod("viewer:back")}});a["default"]=g}).call(a,c(2),c(24))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="portlet-sidebar goals-sidebar js-goals-sidebar"></div>'),f.b("\n"+g),f.b('<div class="path-toolbar js-toolbar"></div>'),f.b("\n"+g),f.b('<div class="goal-viewer js-goal"></div>'),f.fl()},partials:{},subs:{}},'<div class="portlet-sidebar goals-sidebar js-goals-sidebar"></div>\n<div class="path-toolbar js-toolbar"></div>\n<div class="goal-viewer js-goal"></div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(l){function p(q){return q&&q.__esModule?q:{"default":q}}Object.defineProperty(a,"__esModule",{value:!0});var f=c(82),e=p(f),j=c(83),i=p(j),n=c(74),g=p(n),k=c(26),h=p(k),o=l.View.extend({tagName:"li",className:"sidebar-item js-sidebar-item",template:i["default"],ui:{item:"> .js-item",childContainer:"> .js-child-container"},templateContext:function(){return{isGroup:this.model.isGroup()}},regions:{tree:{el:"> .js-child-container > ul",replaceElement:!0}},events:{"click @ui.item":"onItemClick"},modelEvents:{"change:active":"toggleActive"},onRender:function(){var s=this;this.options.path.on("change:selected",function(){var t=s.model.get("id")==s.options.path.get("selected").get("id");s.model.set("active",t)}),this.options.path.on("change:progress",function(){var t=_.find(s.options.path.get("progress"),{goalId:s.model.get("id")});t&&"InProgress"!==t.status&&s.ui.item.addClass(t.status.toLowerCase())});var r=this.model.get("goals");if(r&&r.length){var q=new d({collection:new g["default"](r),path:this.options.path});this.showChildView("tree",q)}},onItemClick:function(){this.model.isGroup()?this.toggleListView():this.selectItem()},toggleListView:function(){this.ui.item.toggleClass("val-icon-plus"),this.ui.item.toggleClass("val-icon-minus"),this.ui.childContainer.toggleClass("hidden")},selectItem:function(){this.options.path.set("selected",this.model)},toggleActive:function(){this.ui.item.toggleClass("active",this.model.get("active"))}}),d=l.CollectionView.extend({tagName:"ul",className:"sidebar-list",childView:o,childViewOptions:function(){return{path:this.options.path}}}),m=l.View.extend({template:e["default"],className:"sidebar",regions:{goalsList:".js-goals-list "},templateContext:function(){return{title:this.options.path.get("title")}},ui:{progressLabel:".js-progress-label",progress:".js-progress"},initialize:function(){this.goals=new g["default"](this.options.goals.toJSON()),this.options.path.on("change:selected",this.selectGoal,this)},onRender:function(){var q=new d({collection:this.goals,path:this.options.path});this.showChildView("goalsList",q),this.getUserProgress()},selectGoal:function(){var q=this;clearTimeout(this.refreshTimeout),this.refreshTimeout=setTimeout(function(){q.getUserProgress()},1000)},getUserProgress:function(){var q=this;this.options.path.getUserGoalsProgress({},{userId:h["default"].userId()}).then(function(r){q.options.path.set("progress",r)}),this.options.path.getUserProgress({},{userId:h["default"].userId()}).then(function(r){q.setUserProgress(r.progress)})},setUserProgress:function(r){var q=Math.round(100*(r||0))+"%";this.ui.progressLabel.text(q),this.ui.progress.css("width",q)}});a["default"]=m}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="back-button val-icon-arrow-left cursor-pointer js-done">'),f.b("\n"+g),f.b("    <div>"),f.b(f.v(f.d("language.backToLPLabel",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"+g),f.b('<div class="header">'),f.b(f.v(f.f("title",j,h,0))),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.b('<div class="val-progress-bar wide">'),f.b("\n"+g),f.b('    <span class="val-percentage js-progress-label"> '),f.b(f.v(f.f("progressPercent",j,h,0))),f.b(" </span>"),f.b("\n"+g),f.b('    <div class="val-progress success">'),f.b("\n"+g),f.b('        <span class="js-progress" style="width: '),f.b(f.v(f.f("progressPercent",j,h,0))),f.b(';"></span>'),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.b('<div class="js-goals-list"></div>'),f.fl()},partials:{},subs:{}},'<div class="back-button val-icon-arrow-left cursor-pointer js-done">\n    <div>{{language.backToLPLabel}}</div>\n</div>\n<div class="header">{{title}}</div>\n\n<div class="val-progress-bar wide">\n    <span class="val-percentage js-progress-label"> {{progressPercent}} </span>\n    <div class="val-progress success">\n        <span class="js-progress" style="width: {{progressPercent}};"></span>\n    </div>\n</div>\n\n<div class="js-goals-list"></div>',b);return e.render.apply(e,arguments)}},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="goal ellipsis js-item '),f.s(f.f("isGroup",j,h,1),j,h,0,46,61,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b(" val-icon-plus ")}),j.pop()),f.b('">'),f.b("\n"+g),f.b('    <div class="goal-status"></div> '),f.b(f.v(f.f("title",j,h,0))),f.b("\n"+g),f.b("</div>"),f.b("\n"+g),f.s(f.f("isGroup",j,h,1),j,h,0,141,204,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('<div class="hidden js-child-container ">'),i.b("\n"+g),i.b("    <ul></ul>"),i.b("\n"+g),i.b("</div>"),i.b("\n"+g)}),j.pop()),f.fl()},partials:{},subs:{}},'<div class="goal ellipsis js-item {{#isGroup}} val-icon-plus {{/isGroup}}">\n    <div class="goal-status"></div> {{title}}\n</div>\n{{#isGroup}}\n<div class="hidden js-child-container ">\n    <ul></ul>\n</div>\n{{/isGroup}}',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(h){function f(i){return i&&i.__esModule?i:{"default":i}}Object.defineProperty(a,"__esModule",{value:!0});var d=c(85),g=f(d),e=h.View.extend({template:g["default"],className:"path-toolbar"});a["default"]=e}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="val-icon-menu toggle-sidebar shift-left cursor-pointer js-toggle-sidebar"></div>'),f.b("\n"+g),f.b('<div class="modal-close val-icon-exit"></div>'),f.fl()},partials:{},subs:{}},'<div class="val-icon-menu toggle-sidebar shift-left cursor-pointer js-toggle-sidebar"></div>\n<div class="modal-close val-icon-exit"></div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(k,i){function o(p){return p&&p.__esModule?p:{"default":p}}Object.defineProperty(a,"__esModule",{value:!0});var g=c(87),m=o(g),n=c(1),d=o(n),l=c(26),j=o(l),h=c(88),f=o(h),e=k.View.extend({template:m["default"],className:"lesson js-lesson",ui:{iframe:"iframe",loading:".js-loading",closeLesson:".js-player-navigation-exit",lessonTimeout:".js-lesson-timeout",hintSCORMlesson:".js-scorm-lesson-hint",failedMessage:".js-failed-message"},events:{"click @ui.closeLesson":"closeLesson"},templateContext:function(){return{isLesson:!0,lessonUrl:this.lesson.getLessonUrl()}},initialize:function(){this.lesson=new f["default"]({id:this.options.lessonId})},onRender:function(){var p=this;this.ui.iframe.on("load",function(q){""!=q.target.src&&p.ui.loading.addClass("hidden")}),this.lesson.getLessonInfo().then(function(q){p.checkLessonType(q.lessonType)},function(){p.showFailedMessage("failedLessonLoadingLabel")})},checkLessonType:function(p){"tincan"===p?this.loadTincanPackage():(this.ui.hintSCORMlesson.removeClass("hidden"),this.ui.iframe.remove(),this.ui.loading.addClass("hidden"))},closeLesson:function(){this.ui.iframe.remove(),this.ui.lessonTimeout.removeClass("hidden")},loadTincanPackage:function(){var p=this,q=i.Deferred(),r=i.Deferred();this.lesson.getTincanLessonInfo().then(function(s){q.resolve(s)},function(s,t){q.reject(s,t)}),this.lesson.getLrsSettings().then(function(s){r.resolve(s)},function(s,t){r.reject(s,t)}),i.when(q,r).then(function(t,s){p.openTincanPackage(t,s)},function(s,t){var u=t.responseText.includes("unavailablePackageException")?"unavailableLessonMessageLabel":"failedLessonLoadingLabel";p.showFailedMessage(u)})},showFailedMessage:function(p){this.ui.loading.addClass("hidden"),this.ui.iframe.remove(),this.ui.failedMessage.removeClass("hidden"),this.ui.failedMessage.text(d["default"].language[p])},openTincanPackage:function(s,q){var p="endpoint={0}&auth={1}&actor={2}&activity_id={3}&v={4}".replace("{0}",encodeURIComponent(q.endpoint)).replace("{1}",encodeURIComponent(q.auth)).replace("{2}",encodeURIComponent(JSON.stringify(q.agent))).replace("{3}",s.activityId).replace("{4}",s.versionNumber),r="{0}SCORMData/{1}?locale={2}&{3}".replace("{0}",q.valamisContextPath).replace("{1}",s.launchURL).replace("{2}",j["default"].getUserLocale()).replace("{3}",p);this.ui.iframe.attr("src",r)}});a["default"]=e}).call(a,c(2),c(24))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="loading-container js-loading"></div>'),f.b("\n"+g),f.b("<iframe></iframe>"),f.b("\n"),f.b("\n"+g),f.s(f.f("isLesson",j,h,1),j,h,0,81,596,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('<div class="goal-hint hidden js-scorm-lesson-hint">'),i.b("\n"+g),i.b("    "),i.b(i.v(i.d("language.completeSCORMHint1Label",l,k,0))),i.b("\n"+g),i.b('    <a class="label-with-action" href="'),i.b(i.v(i.f("lessonUrl",l,k,0))),i.b('" target="_blank">'),i.b(i.v(i.d("language.completeSCORMHint2Label",l,k,0))),i.b("</a>"),i.b("\n"+g),i.b("</div>"),i.b("\n"),i.b("\n"+g),i.b("<!--the button with this id is needed for timer in valamis packages-->"),i.b("\n"+g),i.b('<button id="SCORMNavigationExit" class="hidden js-player-navigation-exit"></button>'),i.b("\n"+g),i.b('<div class="goal-hint hidden js-lesson-timeout">'),i.b("\n"+g),i.b("    "),i.b(i.v(i.d("language.lessonTimeoutLabel",l,k,0))),i.b("\n"+g),i.b("</div>"),i.b("\n"+g),i.b('<div class="goal-hint hidden js-failed-message"></div>'),i.b("\n"+g)}),j.pop()),f.fl()},partials:{},subs:{}},'<div class="loading-container js-loading"></div>\n<iframe></iframe>\n\n{{#isLesson}}\n<div class="goal-hint hidden js-scorm-lesson-hint">\n    {{language.completeSCORMHint1Label}}\n    <a class="label-with-action" href="{{lessonUrl}}" target="_blank">{{language.completeSCORMHint2Label}}</a>\n</div>\n\n<!--the button with this id is needed for timer in valamis packages-->\n<button id="SCORMNavigationExit" class="hidden js-player-navigation-exit"></button>\n<div class="goal-hint hidden js-lesson-timeout">\n    {{language.lessonTimeoutLabel}}\n</div>\n<div class="goal-hint hidden js-failed-message"></div>\n{{/isLesson}}',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(l){function m(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(a,"__esModule",{value:!0});var e=c(59),g=m(e),k=c(40),f=m(k),j=c(26),h=m(j),i=new l.Service({targets:{getTincanLessonInfo:{path:function(n){return(0,f["default"])().endpoint.sequencing+n.get("id")},data:function(){return{p_auth:h["default"].authToken()}},method:"post"},getLrsSettings:{path:function(){return(0,f["default"])().endpoint.lrsSettings},method:"get"},getLessonInfo:{path:function(n){return(0,f["default"])().endpoint.lessonsPublic+n.get("id")},data:function(){return{courseId:h["default"].courseId()}},method:"get"}}}),d=g["default"].extend({initialize:function(){this.url=(0,f["default"])().apiPath},getLessonUrl:function(){return h["default"].pathMain()+"/portal/learn-portlet/open_package?plid="+h["default"].plId()+"&oid="+this.get("id")}}).extend(i);a["default"]=d}).call(a,c(3))},function(b,a,c){(function(k,j){function h(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(a,"__esModule",{value:!0});var f=c(87),g=h(f),e=c(90),i=h(e),d=k.View.extend({template:g["default"],ui:{iframe:"iframe",loading:".js-loading"},onRender:function(){var l=this;this.model=new i["default"]({id:this.options.webContentId}),this.ui.iframe.on("load",function(n){if(""!=n.target.src){l.ui.loading.addClass("hidden"),j(n.target).contents().find("head").append(j("link.lfr-css-file").first().clone()),j(n.target).contents().find("html").addClass("aui ltr");var m=n.target;setTimeout(function(){j(m).show()},100)}}),this.ui.iframe.hide(),this.ui.iframe.attr("src",this.model.getUrl())}});a["default"]=d}).call(a,c(2),c(24))},function(b,f,a){function k(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(f,"__esModule",{value:!0});var c=a(59),h=k(c),j=a(40),e=k(j),i=a(26),g=k(i),d=h["default"].extend({getUrl:function(){var l=(0,e["default"])().endpoint.actionUrl+"&p_p_lifecycle=2&p_p_state=normal&p_p_mode=view&p_p_col_count=1&p_p_col_id=column-1&p_p_cacheability=cacheLevelPage&p_p_state=normal&articleID="+this.get("id")+"&language="+g["default"].getUserLanguageId()+"&resourceType=web-content";return l}});f["default"]=d},function(b,a,c){(function(h){function f(i){return i&&i.__esModule?i:{"default":i}}Object.defineProperty(a,"__esModule",{value:!0});var g=c(92),e=f(g),d=h.View.extend({template:e["default"],className:"goal-hint",templateContext:function(){return{goalInfo:this.getOption("goalInfo")}}});a["default"]=d}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b("<div>"),f.b(f.v(f.f("goalInfo",j,h,0))),f.b("</div>"),f.fl()},partials:{},subs:{}},"<div>{{goalInfo}}</div>",b);return e.render.apply(e,arguments)}},function(b,a,c){(function(o){function f(A){return A&&A.__esModule?A:{"default":A}}Object.defineProperty(a,"__esModule",{value:!0});var m=c(63),h=f(m),y=c(58),w=f(y),l=c(94),k=f(l),j=c(64),i=f(j),g=c(110),e=f(g),d=c(79),z=f(d),n=c(141),u=f(n),q=c(142),p=f(q),s=c(143),r=f(s),x=c(149),v=f(x),t=o.View.extend({template:h["default"],regions:{info:"#pathInfo",members:"#pathMembers",layout:"#extLayout"},ui:{pathTabs:".js-valamis-tabs",membersTab:'[data-ref="pathMembers"]'},childViewEvents:{"edit:path":"showEdit","preview:path":"fetchAndOpenPreview","select:members":"selectMembers","select:goals:step2":"selectGoals","viewer:back":"backFromViewer","select:goals:back":"backFromSelectGoals","select:members:back":"backFromSelectMembers","user:progress:back":"backFromUserProgress"},modelEvents:{destroy:"onPathDeleted","open:viewer":"showViewer","user:joined":"fetchAndOpenPreview","user:left":"fetchAndOpenPreview"},initialize:function(){this.model||(this.model=new w["default"]()),this.doAsAdmin=this.options.doAsAdmin},onRender:function(){this.model.isNew()?(this.showEdit(),this.ui.membersTab.addClass("disabled")):(this.showPreview(),this.showMembers()),this.ui.pathTabs.valamisTabs()},onPathDeleted:function(){this.triggerMethod("modal:close")},showPreview:function(A){this.showChildView("info",new i["default"]({model:this.model,reloadModel:A,doAsAdmin:this.doAsAdmin}))},fetchAndOpenPreview:function(){this.showPreview(!0),this.showMembers()},showEdit:function(){var A=new e["default"]({pathModel:this.model});A.on("new:path:saved",this.showForNewSavedPath,this),this.showChildView("info",A)},showForNewSavedPath:function(A){this.model.set(A),this.ui.membersTab.removeClass("disabled"),this.showMembers()},showMembers:function(){this.members=new u["default"](),this.members.on("show:user:progress",this.showUserProgress,this),this.members.pathId=this.model.get("id");var A=new r["default"]({members:this.members});this.showChildView("members",A)},showUserProgress:function(B){this.ui.pathTabs.addClass("hidden");var A=new v["default"]({path:this.model,members:this.members,userIndex:B});this.showChildView("layout",A)},backFromUserProgress:function(){this.ui.pathTabs.removeClass("hidden"),this.getRegion("layout").empty()},selectMembers:function(B){this.ui.pathTabs.addClass("hidden"),this.members=new p["default"](),this.members.pathId=this.model.get("id");var A=new r["default"]({members:this.members,memberType:B,available:!0,path:this.model});this.showChildView("layout",A)},backFromSelectMembers:function(){this.showMembers(),this.ui.pathTabs.removeClass("hidden"),this.getRegion("layout").empty(),this.showPreview(!0)},selectGoals:function(A,B){this.ui.pathTabs.addClass("hidden"),this.showChildView("layout",new k["default"]({goalType:A,pathDraft:B}))},backFromSelectGoals:function(){this.showEdit(),this.ui.pathTabs.removeClass("hidden"),this.getRegion("layout").empty()},showViewer:function(A){this.ui.pathTabs.addClass("hidden"),this.showChildView("layout",new z["default"]({model:this.model,goals:A}))},backFromViewer:function(){this.showPreview(!0),this.ui.pathTabs.removeClass("hidden"),this.getRegion("layout").empty()}});a["default"]=t}).call(a,c(2))},function(b,a,c){(function(t,m){function J(M){if(M&&M.__esModule){return M}var K={};if(null!=M){for(var L in M){Object.prototype.hasOwnProperty.call(M,L)&&(K[L]=M[L])}}return K["default"]=M,K}function d(K){return K&&K.__esModule?K:{"default":K}}Object.defineProperty(a,"__esModule",{value:!0});var n=c(95),g=d(n),s=c(96),q=d(s),A=c(52),j=J(A),y=c(48),r=J(y),o=c(36),I=(d(o),c(97)),k=d(I),v=c(99),H=d(v),e=c(41),x=d(e),G=c(104),D=d(G),u=c(105),p=d(u),C=c(106),f=d(C),F=c(107),w=d(F),i=c(108),z=d(i),h=c(109),l=d(h),E=function(K){var M=r.goalTypes,L=void 0;switch(K){case M.activity:L=new x["default"]();break;case M.course:L=new D["default"]();break;case M.assignment:L=new p["default"]();break;case M.lesson:L=new f["default"]();break;case M.webContent:L=new w["default"]();break;case M.trainingEvent:L=new z["default"]();break;case M.statement:L=new l["default"]()}return L},B=t.View.extend({template:g["default"],regions:{toolbar:"#viewToolbar",content:"#viewContent",more:"#viewPaginatorMore",showing:"#viewPaginatorShowing"},ui:{back:".js-back",add:".js-add-goals",loading:".js-loading-container",infoLabel:".js-info-label"},events:{"click @ui.back":"goBack","click @ui.add":"addGoals"},childViewEvents:{"change:goal:type":"onGoalTypeChange","toggle:select:all":"toggleSelectAll"},initialize:function(){this.goalType=this.options.goalType},onGoalTypeChange:function(K){this.goalType=K,this.render()},onRender:function(){var O=this;this.filter=new q["default"]({goalType:this.goalType,isActivity:this.goalType===r.goalTypes.activity,sort:"title"}),this.collection=E(this.goalType),this.collection.goalType=this.goalType,this.paginatorModel=new j.PageModel({itemsOnPage:10,isLazy:!0});var M=new k["default"]({model:this.filter,paginatorModel:this.paginatorModel});if(this.showChildView("toolbar",M),!this.filter.get("isActivity")){this.filter.on("change",function(P){M.deselectAll(),O.fetch()}),this.paginatorModel.on("pageChanged",function(){O.fetchMore()}),this.collection.on("sync",function(P){O.toggleLoading(!1,!P.hasItems()),O.paginatorModel.set("totalElements",P.options.total),O.paginatorModel.set("totalElements",P.options.total)}),this.collection.on("item:selected:changed",function(Q){var P=O.collection.filter({selected:!0}).length>0;M.checkSelectedAmount(Q,P)},this);var L=new j.ValamisPaginatorShowMore({model:this.paginatorModel});this.showChildView("more",L);var N=new j.ValamisPaginatorShowing({model:this.paginatorModel});this.showChildView("showing",N)}var K=new H["default"]({collection:this.collection});this.showChildView("content",K),this.fetch()},fetch:function(){this.paginatorModel.set({totalElements:0}),this.collection.reset();var K=this.paginatorModel.get("currentPage")*this.paginatorModel.get("itemsOnPage");this.fetchMore(1,K)},fetchMore:function(L,K){this.filter.get("isActivity")||this.toggleLoading(!0),this.collection.fetch({filter:this.filter.toJSON(),page:L||this.paginatorModel.get("currentPage"),count:K||this.paginatorModel.get("itemsOnPage"),add:!0,remove:!1,merge:!1})},toggleSelectAll:function(K){this.collection.each(function(L){L.set("selected",K)})},toggleLoading:function(L,K){this.ui.loading.toggleClass("hidden",!L),this.ui.infoLabel.toggleClass("hidden",L||!K)},addGoals:function(){var L=this,K=this.collection.getGoalData({selected:!0}),M=[];_.each(K,function(O){var N=m.Deferred();M.push(N),L.options.pathDraft.addGoals({},{data:O}).then(function(){N.resolve()})}),m.when.apply(this,M).then(function(){L.goBack()})},goBack:function(){this.triggerMethod("select:goals:back")}});a["default"]=B}).call(a,c(2),c(24))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="bbm-modal__topbar">'),f.b("\n"+g),f.b('    <button class="button medium simple js-back">'),f.b("\n"+g),f.b('        <span class="val-icon-arrow-left"></span>'),f.b("\n"+g),f.b("        "),f.b(f.v(f.d("language.backToLPLabel",j,h,0))),f.b("\n"+g),f.b("    </button>"),f.b("\n"+g),f.b('    <div class="modal-close val-icon-exit"></div>'),f.b("\n"+g),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.b('<div id="viewToolbar"></div>'),f.b("\n"+g),f.b('<div id="viewContent" class="val-table-wrapper"></div>'),f.b("\n"),f.b("\n"+g),f.b('<div class="loading-container js-loading-container hidden"></div>'),f.b("\n"+g),f.b('<label class="valamis-info-label shifted hidden js-info-label">'),f.b(f.v(f.d("language.emptyListLabel",j,h,0))),f.b("</label>"),f.b("\n"),f.b("\n"+g),f.b('<div id="viewPaginatorMore" class="text-center"></div>'),f.b("\n"),f.b("\n"+g),f.b('<div class="bbm-modal__bottombar">'),f.b("\n"+g),f.b('    <button class="button medium primary js-add-goals">'),f.b("\n"+g),f.b("        "),f.b(f.v(f.d("language.saveLabel",j,h,0))),f.b("\n"+g),f.b("    </button>"),f.b("\n"+g),f.b('    <button class="button medium simple js-back">'),f.b("\n"+g),f.b("        "),f.b(f.v(f.d("language.cancelLabel",j,h,0))),f.b("\n"+g),f.b("    </button>"),f.b("\n"+g),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="bbm-modal__topbar">\n    <button class="button medium simple js-back">\n        <span class="val-icon-arrow-left"></span>\n        {{language.backToLPLabel}}\n    </button>\n    <div class="modal-close val-icon-exit"></div>\n</div>\n\n<div id="viewToolbar"></div>\n<div id="viewContent" class="val-table-wrapper"></div>\n\n<div class="loading-container js-loading-container hidden"></div>\n<label class="valamis-info-label shifted hidden js-info-label">{{language.emptyListLabel}}</label>\n\n<div id="viewPaginatorMore" class="text-center"></div>\n\n<div class="bbm-modal__bottombar">\n    <button class="button medium primary js-add-goals">\n        {{language.saveLabel}}\n    </button>\n    <button class="button medium simple js-back">\n        {{language.cancelLabel}}\n    </button>\n</div>',b);return e.render.apply(e,arguments)}},function(b,e,a){function o(p){return p&&p.__esModule?p:{"default":p}}function f(p,q){if(!(p instanceof q)){throw new TypeError("Cannot call a class as a function")}}function l(p,q){if(!p){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !q||"object"!=typeof q&&"function"!=typeof q?p:q}function n(q,p){if("function"!=typeof p&&null!==p){throw new TypeError("Super expression must either be null or a function, not "+typeof p)}q.prototype=Object.create(p&&p.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(q,p):q.__proto__=p)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i,h,d=function(){function p(t,r){for(var q=0;q<r.length;q++){var s=r[q];s.enumerable=s.enumerable||!1,s.configurable=!0,"value" in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(s,q,r){return q&&p(s.prototype,q),r&&p(s,r),s}}(),m=a(4),c=a(59),g=o(c),k={list:"list",tiles:"tiles"},j=(i=(0,m.mixin)({defaults:{displayMode:k.tiles,page:0}}),i(h=function(q){function p(){return f(this,p),l(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return n(p,q),d(p,[{key:"isTiles",value:function(){return this.get("displayMode")==k.tiles}},{key:"isList",value:function(){return this.get("displayMode")==k.list}}]),p}(g["default"]))||h);e["default"]=j},function(b,a,c){(function(j,g){function i(u){if(u&&u.__esModule){return u}var s={};if(null!=u){for(var t in u){Object.prototype.hasOwnProperty.call(u,t)&&(s[t]=u[t])}}return s["default"]=u,s}function r(s){return s&&s.__esModule?s:{"default":s}}Object.defineProperty(a,"__esModule",{value:!0});var l=c(98),o=r(l),q=c(1),e=r(q),k=c(40),f=r(k),h=c(47),n=r(h),p=c(48),m=i(p),d=j.View.extend({template:o["default"],templateContext:function(){var t=[m.goalTypes.group];(0,f["default"])().isAssignmentDeployed||t.push(m.goalTypes.assignment),(0,f["default"])().isTrainingEventDeployed||t.push(m.goalTypes.trainingEvent),(0,f["default"])().isValamisDeployed||(t.push(m.goalTypes.statement),t.push(m.goalTypes.lesson));var u=_.omit(m.goalTypes,t),s=_.map(u,function(w,v){return{value:w,label:e["default"].language[v+"OptionLabel"]}});return{isActivity:this.model.get("isActivity"),goalTypesList:s}},ui:{search:".js-search input",sort:".js-sort",goalType:".js-goal-type",selectAll:".js-select-all",deselectAll:".js-deselect-all",selectedInfo:".js-selected-info",selectedAmount:".js-selected-amount"},events:{"keyup @ui.search":"changeSearchText","click @ui.sort li":"changeSort","click @ui.goalType li":"changeGoalType","change @ui.selectAll":"toggleSelectAll","click @ui.deselectAll":"deselectAll"},behaviors:[n["default"]],onRender:function(){this.isSelectedAll=!1,this.selectedItems=0,this.on("valamis:controls:init",function(){this.ui.goalType.valamisDropDown("select",this.model.get("goalType")),this.ui.sort.valamisDropDown("select",this.model.get("sort"))},this)},changeSearchText:function(s){var t=this;clearTimeout(this.inputTimeout),this.inputTimeout=setTimeout(function(){t.model.set("filter",g(s.target).val())},800)},changeSort:function(s){this.model.set("sort",g(s.target).attr("data-value"))},changeGoalType:function(t){var s=g(t.target).attr("data-value");this.triggerMethod("change:goal:type",s)},toggleSelectAll:function(){this.isSelectedAll=this.ui.selectAll.prop("checked"),this.selectedItems=this.isSelectedAll?this.options.paginatorModel.getShowingCount():0,this.updateSelectedText(this.isSelectedAll),this.triggerMethod("toggle:select:all",this.isSelectedAll)},deselectAll:function(){this.ui.selectAll.prop("checked",!1),this.toggleSelectAll()},updateSelectedText:function(s){this.ui.selectedInfo.toggleClass("hidden",!s),this.ui.selectedAmount.text(this.selectedItems)},checkSelectedAmount:function(t,s){this.selectedItems+=t,this.ui.selectAll.prop("checked",this.selectedItems==this.options.paginatorModel.getShowingCount()),this.updateSelectedText(s)}});a["default"]=d}).call(a,c(2),c(24))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="filters-row val-row">'),f.b("\n"+g),f.b('    <div class="side-layout">'),f.b("\n"+g),f.b('        <div class="dropdown js-dropdown js-goal-type" data-value="">'),f.b("\n"+g),f.b('            <button class="button medium neutral">'),f.b("\n"+g),f.b('                <span class="dropdown-text"></span>'),f.b("\n"+g),f.b('                <span class="val-icon-arrow-down val-icon-right"></span>'),f.b("\n"+g),f.b("            </button>"),f.b("\n"+g),f.b('            <ul class="dropdown-menu">'),f.b("\n"+g),f.s(f.f("goalTypesList",j,h,1),j,h,0,405,480,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('                <li data-value="'),i.b(i.v(i.f("value",l,k,0))),i.b('">'),i.b(i.v(i.f("label",l,k,0))),i.b("</li>"),i.b("\n"+g)}),j.pop()),f.b("            </ul>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"),f.b("\n"+g),f.s(f.f("isActivity",j,h,1),j,h,1,0,0,"")||(f.b('    <div class="center-layout text-center">'),f.b("\n"+g),f.b('        <div class="val-search js-search">'),f.b("\n"+g),f.b('            <input type="text" placeholder="'),f.b(f.v(f.d("language.searchLabel",j,h,0))),f.b('">'),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g)),f.b("</div>"),f.b("\n"+g),f.s(f.f("isActivity",j,h,1),j,h,1,0,0,"")||(f.b('<div class="filters-row val-row showing-row">'),f.b("\n"+g),f.b('    <div class="side-layout">'),f.b("\n"+g),f.b('        <input type="checkbox" id="selectAll" name="check" class="val-checkbox js-select-all">'),f.b("\n"+g),f.b('        <label class="checkbox-label" for="selectAll"></label>'),f.b("\n"),f.b("\n"+g),f.b('        <div id="viewPaginatorShowing" class="display-inline-block"></div>'),f.b("\n"+g),f.b('        <div class="hidden js-selected-info display-inline-block">'),f.b("\n"+g),f.b('            <span class="users-selected-label">'),f.b("\n"+g),f.b('                <span class="js-selected-amount"></span> '),f.b(f.v(f.d("language.itemsSelectedLabel",j,h,0))),f.b("\n"+g),f.b("            </span>"),f.b("\n"+g),f.b('            - <span class="label-with-action js-deselect-all">'),f.b(f.v(f.d("language.deselectAllLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b('    <div class="side-layout text-right">'),f.b("\n"+g),f.b('        <div class="dropdown js-dropdown shift-right js-sort" data-value="">'),f.b("\n"+g),f.b('            <button class="button medium simple">'),f.b("\n"+g),f.b('                <span class="dropdown-text"></span>'),f.b("\n"+g),f.b('                <span class="val-icon-arrow-down val-icon-right"></span>'),f.b("\n"+g),f.b("            </button>"),f.b("\n"+g),f.b('            <ul class="dropdown-menu">'),f.b("\n"+g),f.b('                <li data-value="title" class="selected">'),f.b(f.v(f.d("language.byNameAscLabel",j,h,0))),f.b("</li>"),f.b("\n"+g),f.b('                <li data-value="-title">'),f.b(f.v(f.d("language.byNameDescLabel",j,h,0))),f.b("</li>"),f.b("\n"+g),f.b("            </ul>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"+g)),f.fl()},partials:{},subs:{}},'<div class="filters-row val-row">\n    <div class="side-layout">\n        <div class="dropdown js-dropdown js-goal-type" data-value="">\n            <button class="button medium neutral">\n                <span class="dropdown-text"></span>\n                <span class="val-icon-arrow-down val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                {{#goalTypesList}}\n                <li data-value="{{value}}">{{label}}</li>\n                {{/goalTypesList}}\n            </ul>\n        </div>\n    </div>\n\n    {{^isActivity}}\n    <div class="center-layout text-center">\n        <div class="val-search js-search">\n            <input type="text" placeholder="{{language.searchLabel}}">\n        </div>\n    </div>\n    {{/isActivity}}\n</div>\n{{^isActivity}}\n<div class="filters-row val-row showing-row">\n    <div class="side-layout">\n        <input type="checkbox" id="selectAll" name="check" class="val-checkbox js-select-all">\n        <label class="checkbox-label" for="selectAll"></label>\n\n        <div id="viewPaginatorShowing" class="display-inline-block"></div>\n        <div class="hidden js-selected-info display-inline-block">\n            <span class="users-selected-label">\n                <span class="js-selected-amount"></span> {{language.itemsSelectedLabel}}\n            </span>\n            - <span class="label-with-action js-deselect-all">{{language.deselectAllLabel}}</span>\n        </div>\n    </div>\n    <div class="side-layout text-right">\n        <div class="dropdown js-dropdown shift-right js-sort" data-value="">\n            <button class="button medium simple">\n                <span class="dropdown-text"></span>\n                <span class="val-icon-arrow-down val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                <li data-value="title" class="selected">{{language.byNameAscLabel}}</li>\n                <li data-value="-title">{{language.byNameDescLabel}}</li>\n            </ul>\n        </div>\n    </div>\n</div>\n{{/isActivity}}',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(l,g){function x(C){if(C&&C.__esModule){return C}var A={};if(null!=C){for(var B in C){Object.prototype.hasOwnProperty.call(C,B)&&(A[B]=C[B])}}return A["default"]=C,A}function d(A){return A&&A.__esModule?A:{"default":A}}Object.defineProperty(a,"__esModule",{value:!0});var n=c(100),p=d(n),o=c(101),q=d(o),f=c(102),k=d(f),z=c(103),v=d(z),u=c(75),w=d(u),y=c(47),s=d(y),r=c(48),h=x(r),j=l.View.extend({tagName:"tr",template:p["default"],templateContext:function(){return{cid:this.cid}},ui:{checkbox:".val-checkbox"},events:{"change @ui.checkbox":"toggleModelSelected"},modelEvents:{"change:selected":"toggleSelected"},toggleModelSelected:function(B){var A=g(B.target).prop("checked");this.model.set("selected",A),this.model.trigger("item:selected:changed",A?1:-1)},toggleSelected:function(){this.ui.checkbox.prop("checked",this.model.get("selected"))}}),m=j.extend({template:k["default"]}),i=j.extend({template:v["default"],templateContext:function(){return{cid:this.cid,displayVerb:w["default"].getLangDictionaryTincanValue(this.model.get("verbName")),displayObj:w["default"].getLangDictionaryTincanValue(this.model.get("objName"))}}}),t=j.extend({template:q["default"],ui:function(){return _.extend({},j.prototype.ui,{count:".js-count"})},events:function(){return _.extend({},j.prototype.events,{"keypress @ui.count":"updateCount"})},behaviors:[s["default"]],updateCount:function(A){this.model.set("count",parseInt(g(A.target).val())||1),this.model.set("selected",!0)},toggleModelSelected:function(C){j.prototype.toggleModelSelected.apply(this,[C]);var B=g(C.target).prop("checked"),A=B?1:"";this.ui.count.val(A),this.model.set("count",A)}}),e=l.CollectionView.extend({tagName:"table",className:"val-table",childView:function(){var A=h.goalTypes;switch(this.collection.goalType){case A.activity:return t;case A.lesson:return m;case A.statement:return i;default:return j}}});a["default"]=e}).call(a,c(2),c(24))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<td class="narrow-col">'),f.b("\n"+g),f.b('    <input type="checkbox" id="'),f.b(f.v(f.f("cid",j,h,0))),f.b('_toggle" name="check" class="val-checkbox">'),f.b("\n"+g),f.b('    <label class="checkbox-label" for="'),f.b(f.v(f.f("cid",j,h,0))),f.b('_toggle"></label>'),f.b("\n"+g),f.b("</td>"),f.b("\n"+g),f.b('<td class="title">'),f.b("\n"+g),f.b("    "),f.b(f.v(f.f("title",j,h,0))),f.b("\n"+g),f.b("</td>"),f.fl()},partials:{},subs:{}},'<td class="narrow-col">\n    <input type="checkbox" id="{{cid}}_toggle" name="check" class="val-checkbox">\n    <label class="checkbox-label" for="{{cid}}_toggle"></label>\n</td>\n<td class="title">\n    {{title}}\n</td>',b);return e.render.apply(e,arguments)}},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<td class="narrow-col">'),f.b("\n"+g),f.b('    <input type="checkbox" id="'),f.b(f.v(f.f("cid",j,h,0))),f.b('_toggle" name="check" class="val-checkbox">'),f.b("\n"+g),f.b('    <label class="checkbox-label" for="'),f.b(f.v(f.f("cid",j,h,0))),f.b('_toggle"></label>'),f.b("\n"+g),f.b("</td>"),f.b("\n"+g),f.b('<td class="narrow-col">'),f.b("\n"+g),f.b('    <input type="text" class="onlyDigits js-digits-only js-count" value="" />'),f.b("\n"+g),f.b("</td>"),f.b("\n"+g),f.b('<td class="title">'),f.b("\n"+g),f.b("    "),f.b(f.v(f.f("title",j,h,0))),f.b("\n"+g),f.b("</td>"),f.fl()},partials:{},subs:{}},'<td class="narrow-col">\n    <input type="checkbox" id="{{cid}}_toggle" name="check" class="val-checkbox">\n    <label class="checkbox-label" for="{{cid}}_toggle"></label>\n</td>\n<td class="narrow-col">\n    <input type="text" class="onlyDigits js-digits-only js-count" value="" />\n</td>\n<td class="title">\n    {{title}}\n</td>',b);return e.render.apply(e,arguments)}},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<td class="narrow-col">'),f.b("\n"+g),f.b('    <input type="checkbox" id="'),f.b(f.v(f.f("cid",j,h,0))),f.b('_toggle" name="check" class="val-checkbox">'),f.b("\n"+g),f.b('    <label class="checkbox-label" for="'),f.b(f.v(f.f("cid",j,h,0))),f.b('_toggle"></label>'),f.b("\n"+g),f.b("</td>"),f.b("\n"+g),f.b('<td class="title">'),f.b("\n"+g),f.b("    "),f.b(f.v(f.d("lesson.title",j,h,0))),f.b("\n"+g),f.b("</td>"),f.fl()},partials:{},subs:{}},'<td class="narrow-col">\n    <input type="checkbox" id="{{cid}}_toggle" name="check" class="val-checkbox">\n    <label class="checkbox-label" for="{{cid}}_toggle"></label>\n</td>\n<td class="title">\n    {{lesson.title}}\n</td>',b);return e.render.apply(e,arguments)}},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<td class="narrow-col">'),f.b("\n"+g),f.b('    <input type="checkbox" id="'),f.b(f.v(f.f("cid",j,h,0))),f.b('_toggle" name="check" class="val-checkbox">'),f.b("\n"+g),f.b('    <label class="checkbox-label" for="'),f.b(f.v(f.f("cid",j,h,0))),f.b('_toggle"></label>'),f.b("\n"+g),f.b("</td>"),f.b("\n"+g),f.b('<td class="title">'),f.b("\n"+g),f.b("    "),f.b(f.v(f.f("displayVerb",j,h,0))),f.b("\n"+g),f.b("</td>"),f.b("\n"+g),f.b("<td>"),f.b("\n"+g),f.b("    "),f.b(f.v(f.f("displayObj",j,h,0))),f.b("\n"+g),f.b("</td>"),f.fl()},partials:{},subs:{}},'<td class="narrow-col">\n    <input type="checkbox" id="{{cid}}_toggle" name="check" class="val-checkbox">\n    <label class="checkbox-label" for="{{cid}}_toggle"></label>\n</td>\n<td class="title">\n    {{displayVerb}}\n</td>\n<td>\n    {{displayObj}}\n</td>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(k){function h(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(a,"__esModule",{value:!0});var f=c(57),j=h(f),i=c(40),e=h(i),g=new k.Service({sync:{read:{data:function(o,m){var l=m.count,n=(m.page-1)*l;return{take:l,skip:n,title:m.filter.filter,sort:m.filter.sort}}}}}),d=j["default"].extend({model:k.Model,initialize:function(l){this.url=(0,e["default"])().endpoint.courses,j["default"].prototype.initialize.apply(this,arguments)},getGoalData:function(){return _.map(this.filter({selected:!0}),function(l){return{goalType:"course",courseId:l.get("id")}})}}).extend(g);a["default"]=d}).call(a,c(3))},function(b,a,c){(function(j){function l(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(a,"__esModule",{value:!0});var m=c(57),i=l(m),g=c(26),f=l(g),h=c(40),d=l(h),k=new j.Service({sync:{read:{data:function(q,n){var o=n.filter.sort,r=o.substr(o.indexOf("-")+1),p=0!==o.indexOf("-");return{page:n.page,count:n.count,filter:n.filter.filter,sortBy:r,sortAscDirection:p,action:"ALL",status:"Published",courseId:f["default"].courseId()}}}}}),e=i["default"].extend({model:j.Model,initialize:function(n){this.url=(0,d["default"])().endpoint.assignments,i["default"].prototype.initialize.apply(this,arguments)},getGoalData:function(){return _.map(this.filter({selected:!0}),function(n){return{goalType:"assignment",assignmentId:n.get("id")}})},parse:function(n){return this.options.total=n.total,this.options.page=n.page,n.records}}).extend(k);a["default"]=e}).call(a,c(3))},function(b,a,c){(function(j){function k(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(a,"__esModule",{value:!0});var l=c(57),i=k(l),g=c(26),f=k(g),h=c(40),e=k(h),d=new j.Service({sync:{read:{data:function(p,n){var o=0!==n.filter.sort.indexOf("-");return{sortAscDirection:o,filter:n.filter.filter,page:n.page,count:n.count,action:"ALL",scope:"instance",courseId:f["default"].courseId()}}}}}),m=i["default"].extend({model:j.Model,initialize:function(n){this.url=(0,e["default"])().endpoint.lessons,i["default"].prototype.initialize.apply(this,arguments)},getGoalData:function(){return _.map(this.filter({selected:!0}),function(n){return{goalType:"lesson",lessonId:n.get("lesson").id}})},parse:function(n){return this.options.total=n.total,this.options.page=n.page,n.records}}).extend(d);a["default"]=m}).call(a,c(3))},function(b,a,c){(function(k){function g(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(a,"__esModule",{value:!0});var e=c(57),j=g(e),h=c(40),d=g(h),i=new k.Service({sync:{read:{data:function(o,m){var l=m.count,n=(m.page-1)*l;return{take:l,skip:n,title:m.filter.filter,sort:m.filter.sort}}}}}),f=j["default"].extend({model:k.Model,initialize:function(l){this.url=(0,d["default"])().endpoint.webContents,j["default"].prototype.initialize.apply(this,arguments)},getGoalData:function(){return _.map(this.filter({selected:!0}),function(l){return{goalType:"webContent",webContentId:l.get("id")}})}}).extend(i);a["default"]=f}).call(a,c(3))},function(b,a,c){(function(k){function l(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(a,"__esModule",{value:!0});var m=c(57),j=l(m),i=c(40),f=l(i),h=c(26),g=l(h),d=new k.Service({sync:{read:{data:function(p,n){var o=0!==n.filter.sort.indexOf("-");return{sortAscDirection:o,sortBy:"name",courseId:g["default"].courseId(),page:n.page,count:n.count,filter:n.filter.filter}}}}}),e=j["default"].extend({model:k.Model,initialize:function(n){this.url=(0,f["default"])().endpoint.trainingEvents,j["default"].prototype.initialize.apply(this,arguments)},getGoalData:function(){return _.map(this.filter({selected:!0}),function(n){return{goalType:"trainingEvent",trainingEventId:n.get("id")}})},parse:function(n){return this.options.total=n.total,this.options.page=n.page,n.records}}).extend(d);a["default"]=e}).call(a,c(3))},function(b,a,c){(function(k){function l(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(a,"__esModule",{value:!0});var m=c(57),j=l(m),h=c(26),g=l(h),i=c(40),e=l(i),d=new k.Service({sync:{read:{data:function(p,n){var o=0!==n.filter.sort.indexOf("-");return{sortAscDirection:o,sortBy:"name",filter:n.filter.filter,page:n.page,count:n.count,courseId:g["default"].courseId()}}}}}),f=j["default"].extend({model:k.Model,initialize:function(n){this.url=(0,e["default"])().endpoint.statements,j["default"].prototype.initialize.apply(this,arguments)},getGoalData:function(){return _.map(this.filter({selected:!0}),function(n){return{goalType:"statement",verbId:n.get("verb"),objectId:n.get("obj"),objectName:JSON.stringify(n.get("objName"))}})},parse:function(n){return this.options.total=n.total,this.options.page=n.page,n.records}}).extend(d);a["default"]=f}).call(a,c(3))},function(b,a,c){(function(g){function k(o){return o&&o.__esModule?o:{"default":o}}Object.defineProperty(a,"__esModule",{value:!0});var n=c(111),i=k(n),l=c(112),h=k(l),m=c(140),e=k(m),d=c(36),f=k(d),j=g.View.extend({template:i["default"],regions:{info:".js-edit-info"},ui:{publishButton:".js-publish",savingLabel:".js-saving",savedLabel:".js-saved"},events:{"click @ui.publishButton":"publishPath"},childViewEvents:{"select:goals:step1":"onSelectGoals"},initialize:function(){this.model=new e["default"](),this.pathModel=this.options.pathModel},modelEvents:{request:"showSavingLabel",sync:"showSavedLabel"},onRender:function(){var o=this;this.pathModel.isNew()?(this.ui.publishButton.prop("disabled",!0),this.model.on("sync",this.showForSavedPath,this),this.showInfo()):(this.model.set({id:this.pathModel.get("id"),userMembersCount:this.pathModel.get("userMembersCount")}),this.pathModel.get("hasDraft")?this.model.fetch().then(function(){o.showInfo()},function(){f["default"].channel("notify").trigger("notify","error","failedLabel")}):this.pathModel.createDraft().then(function(p){o.pathModel.set("hasDraft",!0),o.model.set(p),o.showInfo()},function(){f["default"].channel("notify").trigger("notify","error","failedLabel")}))},showSavingLabel:function(){this.toggleSaveLabels(!1)},showSavedLabel:function(){this.toggleSaveLabels(!0)},toggleSaveLabels:function(o){this.ui.savingLabel.toggleClass("hidden",o),this.ui.savedLabel.toggleClass("hidden",!o)},showForSavedPath:function(){this.triggerMethod("new:path:saved",this.model.toJSON()),this.ui.publishButton.prop("disabled",!1),this.model.off("sync",this.showForSavedPath)},showInfo:function(){var o=new h["default"]({model:this.model});this.showChildView("info",o)},publishPath:function(){var o=this;this.model.publish().then(function(){f["default"].channel("notify").trigger("notify","success","completeLabel"),o.openPreview()},function(){f["default"].channel("notify").trigger("notify","error","failedLabel")})},openPreview:function(){this.triggerMethod("preview:path")},onSelectGoals:function(o){this.triggerMethod("select:goals:step2",o,this.model)}});a["default"]=j}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="tab-header-imitation">'),f.b("\n"+g),f.b('    <div class="display-inline valamis-info-label centered-x-block">'),f.b("\n"+g),f.b('        <span class="hidden js-saving">'),f.b(f.v(f.d("language.savingLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b('        <span class="hidden js-saved">'),f.b(f.v(f.d("language.savedLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b('    <button class="button medium primary js-publish">'),f.b("\n"+g),f.b("        "),f.b(f.v(f.d("language.publishLabel",j,h,0))),f.b("\n"+g),f.b("    </button>"),f.b("\n"+g),f.b("    <span></span>"),f.b("\n"+g),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.b('<div class="js-edit-info">'),f.b("\n"+g),f.b('    <div class="loading-container js-loading"></div>'),f.b("\n"+g),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="tab-header-imitation">\n    <div class="display-inline valamis-info-label centered-x-block">\n        <span class="hidden js-saving">{{language.savingLabel}}</span>\n        <span class="hidden js-saved">{{language.savedLabel}}</span>\n    </div>\n    <button class="button medium primary js-publish">\n        {{language.publishLabel}}\n    </button>\n    <span></span>\n</div>\n\n<div class="js-edit-info">\n    <div class="loading-container js-loading"></div>\n</div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(F,v){function D(S){if(S&&S.__esModule){return S}var Q={};if(null!=S){for(var R in S){Object.prototype.hasOwnProperty.call(S,R)&&(Q[R]=S[R])}}return Q["default"]=S,Q}function O(Q){return Q&&Q.__esModule?Q:{"default":Q}}Object.defineProperty(a,"__esModule",{value:!0});var K=c(113),J=O(K),I=c(1),x=O(I),M=c(40),r=O(M),w=c(36),e=O(w),k=c(26),l=O(k),E=c(114),h=O(E),q=c(48),H=D(q),j=c(70),N=O(j),z=c(119),i=O(z),g=c(121),d=O(g),t=c(38),C=O(t),G=c(125),o=O(G),p=c(131),L=O(p),f=c(134),m=O(f),s=c(136),P=O(s),u=c(137),n=(O(u),c(76)),B=(O(n),c(138)),y=(O(B),new h["default"]()),A=F.View.extend({className:"preview-wrapper",template:J["default"],templateContext:function(){var R=[H.goalTypes.group];(0,r["default"])().isAssignmentDeployed||R.push(H.goalTypes.assignment),(0,r["default"])().isTrainingEventDeployed||R.push(H.goalTypes.trainingEvent),(0,r["default"])().isValamisDeployed||(R.push(H.goalTypes.statement),R.push(H.goalTypes.lesson));var S=_.omit(H.goalTypes,R),Q=_.map(S,function(U,T){return{value:U,label:x["default"].language[T+"GoalAddLabel"]}});return{fullLogoUrl:this.model.getFullLogoUrl(),goalTypesList:Q}},ui:{title:".js-title",description:".js-description",changeScope:".js-change-scope",removeScope:".js-remove-scope",scopeTitle:".js-scope-title",uploadLogo:".js-upload-image",designLogo:".js-design-new-badge",deleteLogo:".js-delete-logo",logo:".js-logo",addGoal:".js-add-goal li:not(.js-add-group)",addGroup:".js-add-goal li.js-add-group",addRecSkills:".js-add-prerequisites",addImprovingSkills:".js-add-improving-skills",selectDropdown:".js-select-dropdown",competenceButtons:".js-show-list",commonSelectLabel:".js-show-select-label",selectSkillLabel:".js-show-select-skill-label",selectLevelLabel:".js-show-select-level-label"},regions:{recommendationList:".js-recommendation-list",improvingList:".js-improving-list",prerequisites:{el:".js-prerequisites",replaceElement:!0},improvingSkills:{el:".js-improving-skills",replaceElement:!0},goals:"#pathGoals .js-path-goals",extInfo:"#pathExtInfo"},modelEvents:{"path:save":"savePath"},events:{click:"closeDropdown","change @ui.title":"saveTitle","change @ui.description":"saveDescription","click @ui.changeScope":"setScope","click @ui.removeScope":"unsetScope","click @ui.uploadLogo":"uploadLogo","click @ui.designLogo":"openBadgeDesigner","click @ui.deleteLogo":"onLogoDelete","click @ui.addGoal":"onClickAddGoal","click @ui.addGroup":"onAddGroup","click @ui.addRecSkills":"showRecSkillsList","click @ui.addImprovingSkills":"showImprovingSkills"},onRender:function(){var S=this,R=new i["default"]({model:this.model});if(this.showChildView("extInfo",R),this.model.get("courseId")){var Q=new N["default"]({id:this.model.get("courseId")});Q.fetch().then(function(){S.updateScopeLayout(Q.get("title"))},function(){e["default"].channel("notify").trigger("notify","error","failedLabel")})}else{this.updateScopeLayout()}this.$(".js-dropdown").valamisDropDown(),this.showGoals(),this.prepareBadgeListener()},updateAvailableSkills:function(R){var Q=void 0;if(R&&R.length>0){var S=this.skills.filter(function(T){return 0==R.where({skillId:T.get("id")}).length});Q=new P["default"](S)}else{Q=this.skills}return Q},showGoals:function(){var R=this.model.get("id")?this.model.get("id")+"/draft":"",Q=new d["default"]({pathId:R,editView:!0});this.showChildView("goals",Q)},saveTitle:function(){this.model.set("title",this.ui.title.val()),this.model.trigger("path:save")},saveDescription:function(){this.model.set("description",this.ui.description.val()),this.model.trigger("path:save")},setScope:function(){var S=this,R=e["default"].channel("modal"),T=new o["default"](),Q=new C["default"]({contentView:T,header:x["default"].language.selectScopeLabel});T.on("scope:selected",function(U){R.trigger("close",Q),S.updateScopeLayout(U.title),S.model.set({courseId:U.id}),S.model.trigger("path:save")}),T.on("modal:close",function(){R.trigger("close",Q)}),R.trigger("open",Q)},updateScopeLayout:function(R){var Q=R?R:x["default"].language.instanceScopeLabel;this.ui.scopeTitle.text(Q),this.ui.removeScope.toggleClass("hidden",!R)},unsetScope:function(){this.model.unset("courseId"),this.updateScopeLayout(""),this.model.trigger("path:save")},savePath:function(Q){var S=this,R=this.model.get("title");this.model.save().then(function(){R!==S.model.get("title")&&S.ui.title.val(S.model.get("title")),_.isFunction(Q)&&Q()},function(){e["default"].channel("notify").trigger("notify","error","failedLabel")})},uploadLogo:function(){var R=this,Q={autoUpload:!0,fileAttribute:"image",message:x["default"].language.uploadLogoMessage,header:x["default"].language.fileUploadMessage};this.model.get("id")?y.upload(Q,this):this.savePath(function(){y.upload(Q,R)})},uploadBadgesHandler:function(S){var R=this,Q=R.getImageUploadUrl(R.model.get("id"));"https://www.openbadges.me"==S.origin&&"cancelled"!=S.data&&y.uploadBadges(S,Q).done(function(T){R.triggerMethod("fileUploaded",T.logoUrl)})},prepareBadgeListener:function(){this.bindedHandler=this.uploadBadgesHandler.bind(this),window.addEventListener("message",this.bindedHandler)},removeBadgeListener:function(){window.removeEventListener("message",this.bindedHandler)},openBadgeDesigner:function(){var Q="https://www.openbadges.me/designer.html?origin=http://"+(0,r["default"])().root+"&email=developer@example.com&close=true",R="width=1015,height=680,location=0,menubar=0,status=0,toolbar=0";this.model.get("id")?window.open(Q,"",R):this.savePath(function(){window.open(Q,"",R)})},onFileUploaded:function(Q){this.ui.deleteLogo.removeClass("hidden"),this.model.set("logoUrl",Q),this.ui.logo.attr("src",this.model.getFullLogoUrl())},getImageUploadUrl:function(Q){return""+(0,r["default"])().apiPath+(0,r["default"])().endpoint.learningPaths+Q+"/draft/logo?layoutId="+l["default"].plId()},onLogoDelete:function(){var Q=this;this.ui.logo.attr("src",""),this.ui.deleteLogo.addClass("hidden"),this.model.deleteLogo().then(function(){Q.model.unset("logoUrl")})},onClickAddGoal:function(S){var Q=this,R=v(S.target).data("value");this.savePath(function(){Q.triggerMethod("select:goals:step1",R)})},onAddGroup:function(){var Q=this;this.savePath(function(){Q.addGroup()})},addGroup:function(){var Q=this;this.model.addGroup({},{title:x["default"].language.newGroupLabel}).then(function(){Q.showGoals()})},onDestroy:function(){this.removeBadgeListener()},showRecSkillsList:function(){var R=this.ui.addRecSkills;this.toggleSelectTitle(R.find(this.ui.selectSkillLabel),R);var Q=new L["default"]({collection:this.availableRecSkills});this.showChildView("prerequisites",Q),this.showDropdown(R)},showImprovingSkills:function(){var R=this.ui.addImprovingSkills;this.toggleSelectTitle(R.find(this.ui.selectSkillLabel),R);var Q=new L["default"]({collection:this.availableImprovingSkills,improving:!0});this.showChildView("improvingSkills",Q),this.showDropdown(R)},showLevelsList:function(Q){Q.improving?this.showImprovingLevelList(Q.model):this.showRecLevelList(Q.model)},showRecLevelList:function(Q){var R=this.ui.addRecSkills;this.toggleSelectTitle(R.find(this.ui.selectLevelLabel),R);var S=new m["default"]({collection:this.levels,skillName:Q.title,skillId:Q.id});this.showChildView("prerequisites",S),this.showDropdown(R)},showImprovingLevelList:function(Q){var R=this.ui.addImprovingSkills;this.toggleSelectTitle(R.find(this.ui.selectLevelLabel),R);var S=new m["default"]({collection:this.levels,skillName:Q.title,skillId:Q.id,improving:!0});this.showChildView("improvingSkills",S),this.showDropdown(R)},toggleSelectTitle:function(R,Q){Q.find("span").addClass("hidden"),R.removeClass("hidden")},closeDropdown:function(T){if(T){var S=v(T.target);if(!(S.closest(this.ui.addRecSkills).length>0||S.closest(this.ui.addImprovingSkills).length>0||S.closest(".js-search input").length>0||S.closest(".js-select-item").length>0)){var Q=this.$(this._uiBindings.selectDropdown);Q.removeClass("dropdown-visible"),this.toggleSelectTitle(this.ui.commonSelectLabel,this.ui.competenceButtons)}}else{var R=this.$(this._uiBindings.selectDropdown);R.removeClass("dropdown-visible"),this.toggleSelectTitle(this.ui.commonSelectLabel,this.ui.competenceButtons)}},showDropdown:function(R){var Q=R.parent().find(this._uiBindings.selectDropdown);Q.addClass("dropdown-visible")},addCompetency:function(R,Q){var S=this;this.savePath(function(){S.recommendations.pathId||(S.recommendations.pathId=S.model.get("id")+"/draft"),S.improvements.pathId||(S.improvements.pathId=S.model.get("id")+"/draft");var T={skillId:Q.skillId,skillName:Q.skillName,levelId:Q.model.attributes.id,levelName:Q.model.attributes.title,improving:Q.improving};T.improving?S.addImprovement(T):S.addRecommendation(T)})},addRecommendation:function(Q){var R=this;this.recommendations.addCompetency({},{data:Q}).then(function(){R.recommendations.add(Q)})},addImprovement:function(R){var Q=this;this.improvements.addCompetency({},{data:R}).then(function(){Q.improvements.add(R)})}});a["default"]=A}).call(a,c(2),c(24))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="preview-group clearfix">'),f.b("\n"+g),f.b('    <div class="div-table val-info-table">'),f.b("\n"+g),f.b('        <div class="div-row">'),f.b("\n"+g),f.b('            <div class="div-col name-col image-container">'),f.b("\n"+g),f.b('                <img src="'),f.s(f.f("logoUrl",j,h,1),j,h,0,207,222,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b(i.v(i.f("fullLogoUrl",l,k,0)))}),j.pop()),f.b('" class="val-img-logo certificate js-logo" />'),f.b("\n"+g),f.b('                <div class="logo-action-buttons">'),f.b("\n"+g),f.b('                    <button class="button medium neutral no-text val-icon-upload js-upload-image">'),f.b("\n"+g),f.b("                        "),f.b(f.v(f.f("uploadLogoLabel",j,h,0))),f.b("\n"+g),f.b("                    </button>"),f.b("\n"+g),f.b('                    <button class="button medium neutral no-text val-icon-edit js-design-new-badge">'),f.b("\n"+g),f.b("                        "),f.b(f.v(f.f("designNewBadge",j,h,0))),f.b("\n"+g),f.b("                    </button>"),f.b("\n"+g),f.b('                    <button class="button medium neutral no-text val-icon-trash js-delete-logo '),f.s(f.f("logoUrl",j,h,1),j,h,1,0,0,"")||f.b(" hidden "),f.b('">'),f.b("\n"+g),f.b("                        "),f.b(f.v(f.f("deleteLogoLabel",j,h,0))),f.b("\n"+g),f.b("                    </button>"),f.b("\n"+g),f.b("                </div>"),f.b("\n"+g),f.b("            </div>"),f.b("\n"+g),f.b('            <div class="div-col content-col">'),f.b("\n"+g),f.b('                <div class="header">'),f.b("\n"+g),f.b('                    <input type="text" placeholder="'),f.b(f.v(f.d("language.pathNameHintLabel",j,h,0))),f.b('" class="js-title simple" value="'),f.b(f.v(f.f("title",j,h,0))),f.b('">'),f.b("\n"+g),f.b("                </div>"),f.b("\n"+g),f.b('                <div class="scope-action-buttons">'),f.b("\n"+g),f.s(f.f("activated",j,h,1),j,h,1,0,0,"")||(f.b('                    <span class="val-label">'),f.b(f.v(f.d("language.inactiveStatusLabel",j,h,0))),f.b("</span> &bull;"),f.b("\n"+g)),f.b("\n"+g),f.b('                    <span class="js-scope-title"></span>'),f.b("\n"),f.b("\n"+g),f.b('                    <button class="button medium simple no-text val-icon-edit js-change-scope">'),f.b("\n"+g),f.b("                        "),f.b(f.v(f.f("changeScopeLabel",j,h,0))),f.b("\n"+g),f.b("                    </button>"),f.b("\n"),f.b("\n"+g),f.b('                    <button class="button medium simple danger no-text val-icon-trash js-remove-scope">'),f.b("\n"+g),f.b("                        "),f.b(f.v(f.f("removeScopeLabel",j,h,0))),f.b("\n"+g),f.b("                    </button>"),f.b("\n"+g),f.b("                </div>"),f.b("\n"+g),f.b("            </div>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"+g),f.b('<div class="preview-group description-preview">'),f.b("\n"+g),f.b('    <div class="subheader">'),f.b(f.v(f.d("language.descriptionLabel",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b('    <textarea class="js-description simple" rows="3"'),f.b("\n"+g),f.b('              placeholder="'),f.b(f.v(f.d("language.pathDescriptionHintLabel",j,h,0))),f.b('">'),f.b(f.v(f.f("description",j,h,0))),f.b("</textarea>"),f.b("\n"),f.b("\n"+g),f.b('    <div class="skills-select hidden">'),f.b("\n"+g),f.b('        <div class="subheader">'),f.b(f.v(f.d("language.prerequisitesLabel",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b('        <div class="dropdown">'),f.b("\n"+g),f.b('            <div class="js-common-select">'),f.b("\n"+g),f.b('                <div class="js-recommendation-list"></div>'),f.b("\n"+g),f.b('                <button class="button add-skills js-add-prerequisites js-show-list">'),f.b("\n"+g),f.b('                    <span class="js-show-select-label">'),f.b(f.v(f.d("language.addSkillandLevelLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b('                    <span class="js-show-select-skill-label hidden">'),f.b(f.v(f.d("language.selectSkillLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b('                    <span class="js-show-select-level-label hidden">'),f.b(f.v(f.d("language.selectLabelLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b("                </button>"),f.b("\n"+g),f.b('                <div class="js-prerequisites js-select-list"></div>'),f.b("\n"+g),f.b("            </div>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"),f.b("\n"+g),f.b('    <div class="skills-select hidden">'),f.b("\n"+g),f.b('        <div class="subheader">'),f.b(f.v(f.d("language.improvementLabel",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b('        <div class="dropdown">'),f.b("\n"+g),f.b('            <div class="js-common-select">'),f.b("\n"+g),f.b('                <div class="js-improving-list"></div>'),f.b("\n"+g),f.b('                <button class="button add-skills js-add-improving-skills js-show-list">'),f.b("\n"+g),f.b('                    <span class="js-show-select-label">'),f.b(f.v(f.d("language.addSkillandLevelLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b('                    <span class="js-show-select-skill-label hidden">'),f.b(f.v(f.d("language.selectSkillLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b('                    <span class="js-show-select-level-label hidden">'),f.b(f.v(f.d("language.selectLabelLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b("                </button>"),f.b("\n"+g),f.b('                <div class="js-improving-skills js-select-list"></div>'),f.b("\n"+g),f.b("            </div>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.b('<div id="pathGoals" class="preview-group path-goals edit-path-goals">'),f.b("\n"+g),f.b('    <div class="clearfix">'),f.b("\n"+g),f.b('        <div class="subheader">'),f.b(f.v(f.d("language.learningGoalsLabel",j,h,0))),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.b('        <div class="dropdown actions shift-right js-add-goal js-dropdown" data-value="">'),f.b("\n"+g),f.b('            <button class="button medium primary">'),f.b("\n"+g),f.b('                <span class="dropdown-text"> '),f.b(f.v(f.d("language.addLabel",j,h,0))),f.b(" </span>"),f.b("\n"+g),f.b('                <span class="val-icon-arrow-down-two val-icon-right"></span>'),f.b("\n"+g),f.b("            </button>"),f.b("\n"+g),f.b('            <ul class="dropdown-menu">'),f.b("\n"+g),f.s(f.f("goalTypesList",j,h,1),j,h,0,4217,4292,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('                <li data-value="'),i.b(i.v(i.f("value",l,k,0))),i.b('">'),i.b(i.v(i.f("label",l,k,0))),i.b("</li>"),i.b("\n"+g)}),j.pop()),f.b('                <li class="js-add-group">'),f.b(f.v(f.d("language.groupAddLabel",j,h,0))),f.b("</li>"),f.b("\n"+g),f.b("            </ul>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"),f.b("\n"+g),f.b('    <div class="js-path-goals">'),f.b("\n"+g),f.b('        <div class="loading-container js-loading"></div>'),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.b('<div id="pathExtInfo" class="preview-group"></div>'),f.fl()},partials:{},subs:{}},'<div class="preview-group clearfix">\n    <div class="div-table val-info-table">\n        <div class="div-row">\n            <div class="div-col name-col image-container">\n                <img src="{{#logoUrl}}{{fullLogoUrl}}{{/logoUrl}}" class="val-img-logo certificate js-logo" />\n                <div class="logo-action-buttons">\n                    <button class="button medium neutral no-text val-icon-upload js-upload-image">\n                        {{uploadLogoLabel}}\n                    </button>\n                    <button class="button medium neutral no-text val-icon-edit js-design-new-badge">\n                        {{designNewBadge}}\n                    </button>\n                    <button class="button medium neutral no-text val-icon-trash js-delete-logo {{^logoUrl}} hidden {{/logoUrl}}">\n                        {{deleteLogoLabel}}\n                    </button>\n                </div>\n            </div>\n            <div class="div-col content-col">\n                <div class="header">\n                    <input type="text" placeholder="{{language.pathNameHintLabel}}" class="js-title simple" value="{{title}}">\n                </div>\n                <div class="scope-action-buttons">\n                    {{^activated}}\n                    <span class="val-label">{{language.inactiveStatusLabel}}</span> &bull;\n                    {{/activated}}\n\n                    <span class="js-scope-title"></span>\n\n                    <button class="button medium simple no-text val-icon-edit js-change-scope">\n                        {{changeScopeLabel}}\n                    </button>\n\n                    <button class="button medium simple danger no-text val-icon-trash js-remove-scope">\n                        {{removeScopeLabel}}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="preview-group description-preview">\n    <div class="subheader">{{language.descriptionLabel}}</div>\n    <textarea class="js-description simple" rows="3"\n              placeholder="{{language.pathDescriptionHintLabel}}">{{description}}</textarea>\n\n    <div class="skills-select hidden">\n        <div class="subheader">{{language.prerequisitesLabel}}</div>\n        <div class="dropdown">\n            <div class="js-common-select">\n                <div class="js-recommendation-list"></div>\n                <button class="button add-skills js-add-prerequisites js-show-list">\n                    <span class="js-show-select-label">{{language.addSkillandLevelLabel}}</span>\n                    <span class="js-show-select-skill-label hidden">{{language.selectSkillLabel}}</span>\n                    <span class="js-show-select-level-label hidden">{{language.selectLabelLabel}}</span>\n                </button>\n                <div class="js-prerequisites js-select-list"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="skills-select hidden">\n        <div class="subheader">{{language.improvementLabel}}</div>\n        <div class="dropdown">\n            <div class="js-common-select">\n                <div class="js-improving-list"></div>\n                <button class="button add-skills js-add-improving-skills js-show-list">\n                    <span class="js-show-select-label">{{language.addSkillandLevelLabel}}</span>\n                    <span class="js-show-select-skill-label hidden">{{language.selectSkillLabel}}</span>\n                    <span class="js-show-select-level-label hidden">{{language.selectLabelLabel}}</span>\n                </button>\n                <div class="js-improving-skills js-select-list"></div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div id="pathGoals" class="preview-group path-goals edit-path-goals">\n    <div class="clearfix">\n        <div class="subheader">{{language.learningGoalsLabel}}</div>\n\n        <div class="dropdown actions shift-right js-add-goal js-dropdown" data-value="">\n            <button class="button medium primary">\n                <span class="dropdown-text"> {{language.addLabel}} </span>\n                <span class="val-icon-arrow-down-two val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                {{#goalTypesList}}\n                <li data-value="{{value}}">{{label}}</li>\n                {{/goalTypesList}}\n                <li class="js-add-group">{{language.groupAddLabel}}</li>\n            </ul>\n        </div>\n    </div>\n\n    <div class="js-path-goals">\n        <div class="loading-container js-loading"></div>\n    </div>\n</div>\n\n<div id="pathExtInfo" class="preview-group"></div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(l,j){function o(q){return q&&q.__esModule?q:{"default":q}}function i(q,r){if(!(q instanceof r)){throw new TypeError("Cannot call a class as a function")}}function m(q,r){if(!q){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !r||"object"!=typeof r&&"function"!=typeof r?q:r}function n(r,q){if("function"!=typeof q&&null!==q){throw new TypeError("Super expression must either be null or a function, not "+typeof q)}r.prototype=Object.create(q&&q.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(r,q):r.__proto__=q)}Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function q(u,s){for(var r=0;r<s.length;r++){var t=s[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value" in t&&(t.writable=!0),Object.defineProperty(u,t.key,t)}}return function(t,r,s){return r&&q(t.prototype,r),s&&q(t,s),t}}(),d=c(115),h=o(d),e=c(36),k=o(e),f=k["default"].channel("modal"),p=function(q){function r(){return i(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return n(r,q),g(r,[{key:"upload",value:function(u,s){var v=this,t=new h["default"]({autoUpload:u.autoUpload||!1,message:u.message||"Message about file",fileUploadUrl:s.getImageUploadUrl,fileAttribute:u.fileAttribute||"logo",acceptedFileTypes:u.acceptedFileTypes||"image/*",parentView:s});u.appendTo?s.$(u.appendTo).html(t.render().$el):f.trigger("open:as:modal",t,{header:u.header||"File Upload"}),u.autoUpload?t.on("fileuploaddone",function(x,w){s.triggerMethod("fileUploaded",w.result.logoUrl),u.appendTo?s.$(u.appendTo).html(t.render().$el):f.trigger("close",t)}):t.on("fileuploadadd",function(x){j("img").on("error",function(){console.log("error loading image")});var w=v.createObjectURL(x);s.triggerMethod("fileAdded",{src:w,name:x.name}),f.trigger("close",t)})}},{key:"createObjectURL",value:function(s){return window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(s):window.webkitURL?window.webkitURL.createObjectURL(s):null}},{key:"uploadBadges",value:function(y,s){for(var w=y.data,u=w.split(",")[1].split(";")[0],z=w.split(":")[1].split(";")[0],t=window.atob(u),x=t.length,A=new Uint8Array(x),v=0;v<x;v++){A[v]=t.charCodeAt(v)}return j.ajax({url:s,contentType:z,type:"PUT",data:A,headers:{"X-CSRF-Token":Liferay.authToken,"Content-Disposition":'attachment; filename="icon.png"'},processData:!1})}}]),r}(l.Object);a["default"]=p}).call(a,c(2),c(24))},function(b,a,c){(function(h,n,k){function m(o){return o&&o.__esModule?o:{"default":o}}Object.defineProperty(a,"__esModule",{value:!0});var j=c(116),l=m(j),d=c(118),g=m(d),i=c(40),f=m(i),e=h.View.extend({template:g["default"],templateContext:function(){return{fileAttribute:this.getOption("fileAttribute"),fileUploadAdditionalInfo:this.getOption("message")||"",fileTypeAttribute:this.getOption("acceptedFileTypes")}},initialize:function(o){o=o||{},this.progressView=l["default"],this.amount=0,this.autoUpload=o.autoUpload,o.onFailFunction&&(this.onFailFunction=o.onFailFunction),o.parentView&&(this.parentView=o.parentView)},onRender:function(){var o=this,p={dataType:"json",dropZone:this.$("#dropzone"),autoUpload:this.autoUpload,headers:{"X-CSRF-Token":""+(0,f["default"])().csrf},method:"PUT",multipart:!1};this.options.autoUpload||(p.add=function(r,q){o.parentView&&o.parentView.off("submit:logo").on("submit:logo",function(s){q.url=o.options.fileUploadUrl(s),q.submit()})}),this.$("#fileupload").fileupload(p),this.$("#fileupload").bind("fileuploaddone",n.proxy(this.onDone,this)).bind("fileuploadfail",n.proxy(this.onFail,this)).bind("fileuploadprogress",n.proxy(this.onProgress,this)).bind("fileuploadprogressall",n.proxy(this.onProgressAll,this)).bind("fileuploadadd",n.proxy(this.onAdd,this))},onAdd:function(q,p){this.amount+=1;var o=k.Model.extend({defaults:{filename:p.files[0].name,progress:0,bitrate:"",remaining:"",fileSize:0,uploadedBytes:0}});p.itemModel=new o(),p.itemView=new this.progressView({model:p.itemModel}),this.parentView&&(p.url=this.options.fileUploadUrl(this.parentView.model.get("id"))),this.$el.parent().append(p.itemView.render().$el),this.$(".dropzone-wrapper").hide(),this.amount>1&&this.$(".progress").removeClass("hidden"),this.trigger("fileuploadadd",p.files[0],p)},onDone:function(p,o){o.itemView.hideInfo(),this.trigger("itemDone",o.result,o.itemView,o.itemModel),this.amount-=1,0===this.amount&&(this.$(".progress").addClass("hidden"),this.trigger("fileuploaddone",o.files[0],o))},onFail:function(p,o){_.isFunction(this.onFailFunction)&&this.onFailFunction(p,o)},onProgress:function(r,q){var o=~~(q.loaded/q.total*100),p=8*(q.total-q.loaded)/q.bitrate;q.itemModel.set({progress:o,bitrate:this._formatBitrate(q.bitrate),remaining:this._formatTime(p),fileSize:this._formatFileSize(q.total),uploadedBytes:this._formatFileSize(q.loaded)})},onProgressAll:function(q,p){var o=~~(p.loaded/p.total*100);this.updateOverallProgress(o)},updateOverallProgress:function(p){var o=p+"%";this.$(".progress-bar").css("width",o).html(o)},_formatTime:function(p){var o=new Date(1000*p),q=Math.floor(p/86400);return q=q?q+"d ":"",q+("0"+o.getUTCHours()).slice(-2)+":"+("0"+o.getUTCMinutes()).slice(-2)+":"+("0"+o.getUTCSeconds()).slice(-2)},_formatFileSize:function(o){return"number"!=typeof o?"":o>=1000000000?(o/1000000000).toFixed(2)+" GB":o>=1000000?(o/1000000).toFixed(2)+" MB":(o/1000).toFixed(2)+" KB"},_formatBitrate:function(o){return"number"!=typeof o?"":o>=1000000000?(o/1000000000).toFixed(2)+" Gbit/s":o>=1000000?(o/1000000).toFixed(2)+" Mbit/s":o>=1000?(o/1000).toFixed(2)+" kbit/s":o.toFixed(2)+" bit/s"}});a["default"]=e}).call(a,c(2),c(24),c(3))},function(b,a,c){(function(h){function e(i){return i&&i.__esModule?i:{"default":i}}Object.defineProperty(a,"__esModule",{value:!0});var d=c(117),g=e(d),f=h.View.extend({template:g["default"],initialize:function(){this.listenTo(this.model,"change:progress",this.updateUploadProgress)},updateUploadProgress:function(){var i=this.model.get("progress")+"%";this.$(".progress-bar").css("width",i).html(i)},hideInfo:function(){this.$(".info-block").hide(),this.$(".progress-bar").html("")}});a["default"]=f}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="file-uploader-item-wrapper">'),f.b("\n"+g),f.b('    <div class="loading-container">'),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b('    <strong class="uploading-file-name">'),f.b(f.v(f.f("filename",j,h,0))),f.b("</strong>"),f.b("\n"+g),f.b("</div>"),f.b("\n"),f.fl()},partials:{},subs:{}},'<div class="file-uploader-item-wrapper">\n    <div class="loading-container">\n    </div>\n    <strong class="uploading-file-name">{{filename}}</strong>\n</div>\n',b);return e.render.apply(e,arguments)}},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="file-uploader-wrapper">'),f.b("\n"+g),f.b('    <div class="dropzone-wrapper">'),f.b("\n"+g),f.b('        <label id="dropzone" class="dropzone fileinput-button">'),f.b("\n"+g),f.b("            <div>"),f.b("\n"+g),f.b('                <div class="upload-image"></div>'),f.b("\n"+g),f.b('                <div> Drop or <span class="upload-browse-label"> browse </span> files to upload.</div>'),f.b("\n"+g),f.b('                <span class="upload-info-label"> '),f.b(f.v(f.f("fileUploadAdditionalInfo",j,h,0))),f.b(" </span>"),f.b("\n"+g),f.b("            </div>"),f.b("\n"+g),f.b('            <input id="fileupload" class="hidden js-file-uploader-input" type="file" accept="'),f.b(f.v(f.f("fileTypeAttribute",j,h,0))),f.b('" name="'),f.b(f.v(f.f("fileAttribute",j,h,0))),f.b('"'),f.b("\n"+g),f.b('                   data-url="'),f.b(f.v(f.f("fileUploadEndpoint",j,h,0))),f.b('" multiple>'),f.b("\n"+g),f.b("        </label>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b('    <div class="progress progress-striped active hidden">'),f.b("\n"+g),f.b('        <div class="progress-bar bar bar-success progress-bar-success" role="progressbar"></div>'),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="file-uploader-wrapper">\n    <div class="dropzone-wrapper">\n        <label id="dropzone" class="dropzone fileinput-button">\n            <div>\n                <div class="upload-image"></div>\n                <div> Drop or <span class="upload-browse-label"> browse </span> files to upload.</div>\n                <span class="upload-info-label"> {{fileUploadAdditionalInfo}} </span>\n            </div>\n            <input id="fileupload" class="hidden js-file-uploader-input" type="file" accept="{{fileTypeAttribute}}" name="{{fileAttribute}}"\n                   data-url="{{fileUploadEndpoint}}" multiple>\n        </label>\n    </div>\n    <div class="progress progress-striped active hidden">\n        <div class="progress-bar bar bar-success progress-bar-success" role="progressbar"></div>\n    </div>\n</div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(j){function s(x){if(x&&x.__esModule){return x}var v={};if(null!=x){for(var w in x){Object.prototype.hasOwnProperty.call(x,w)&&(v[w]=x[w])}}return v["default"]=x,v}function d(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(a,"__esModule",{value:!0});var i=c(120),f=d(i),e=c(1),q=d(e),g=c(36),r=d(g),p=c(68),k=d(p),u=c(47),o=d(u),m=c(48),h=s(m),n="P1Y",l="P30D",t=j.View.extend({className:"div-table val-info-table",template:f["default"],templateContext:function(){var v=_.map(h.validPeriodTypes,function(x,w){return{value:w,label:q["default"].language[x+"PeriodLabel"]}});return{periodTypes:v}},behaviors:[o["default"]],ui:{validPeriodPermanent:"#permanentPeriod",validPeriodNonPermanent:"#nonPermanentPeriod",validPeriodValue:".js-valid-period-value",validPeriodTypeSelector:".js-valid-period-type-selector",validPeriodType:".js-valid-period-type",expiringBlock:".js-expiring-block",expiringPeriodValue:".js-expiring-period-value",expiringPeriodType:".js-expiring-period-type",badgesIntegration:"#badgesIntegration",badgesDescriptionBlock:".js-badges-description-block",badgesDescription:".js-badges-description"},events:{"change @ui.validPeriodPermanent":"onValidPeriodChange","change @ui.validPeriodNonPermanent":"onValidPeriodChange","change @ui.validPeriodValue input":"updateValidPeriod","change @ui.validPeriodType":"updateValidPeriod","change @ui.expiringPeriodValue input":"updateExpiringPeriod","change @ui.expiringPeriodType":"updateExpiringPeriod","change @ui.badgesIntegration":"onBadgesIntegrationChange","change @ui.badgesDescription":"saveBadgesDescription"},onRender:function(){var w=this,v=!this.model.get("validPeriod");v?this.ui.validPeriodPermanent.prop("checked",!0):this.ui.validPeriodNonPermanent.prop("checked",!0),this.toggleExtraValidInfo(v),this.toggleExtraBadgesInfo(this.model.get("openBadgesEnabled")),this.on("valamis:controls:init",function(){w.ui.validPeriodValue.valamisPlusMinus({min:1}),w.ui.expiringPeriodValue.valamisPlusMinus({min:1}),v||w.showDurations()})},showDurations:function(){var x=r["default"].trigger("notify"),w=k["default"].getPeriod(this.model.get("validPeriod"));_.isEmpty(w)?(x.trigger("notify","warning","durationWarningLabel"),console.log(q["default"].language.durationWarningLabel+" "+this.model.get("validPeriod"))):(this.ui.validPeriodValue.valamisPlusMinus("value",w.value),this.ui.validPeriodType.val(w.type));var v=k["default"].getPeriod(this.model.get("expiringPeriod"));_.isEmpty(v)?(x.trigger("notify","warning","durationWarningLabel"),console.log(q["default"].language.durationWarningLabel+" "+this.model.get("expiringPeriod"))):(this.ui.expiringPeriodValue.valamisPlusMinus("value",v.value),this.ui.expiringPeriodType.val(v.type))},onValidPeriodChange:function(){var w=this.ui.validPeriodPermanent.prop("checked")===!0,v=w?{validPeriod:null,expiringPeriod:null}:{validPeriod:n,expiringPeriod:l};this.model.set(v),this.model.trigger("path:save"),w?this.toggleExtraValidInfo(w):this.render()},toggleExtraValidInfo:function(v){this.ui.validPeriodValue.toggleClass("hidden",v),this.ui.validPeriodTypeSelector.toggleClass("hidden",v),this.ui.expiringBlock.toggleClass("hidden",v)},updateValidPeriod:function(){var w=this.ui.validPeriodValue.valamisPlusMinus("value"),v=this.ui.validPeriodType.val(),x={};x[v]=w,this.model.set("validPeriod",k["default"].getIsoDuration(x)),this.model.trigger("path:save")},updateExpiringPeriod:function(){var w=this.ui.expiringPeriodValue.valamisPlusMinus("value"),v=this.ui.expiringPeriodType.val(),x={};x[v]=w,this.model.set("expiringPeriod",k["default"].getIsoDuration(x)),this.model.trigger("path:save")},onBadgesIntegrationChange:function(){var w=this.ui.badgesIntegration.prop("checked"),v=w?{openBadgesEnabled:!0,openBadgesDescription:""}:{openBadgesEnabled:!1,openBadgesDescription:null};this.model.set(v),this.model.trigger("path:save"),w?this.render():this.toggleExtraBadgesInfo(w)},toggleExtraBadgesInfo:function(v){this.ui.badgesDescriptionBlock.toggleClass("hidden",!v)},saveBadgesDescription:function(){this.model.set("openBadgesDescription",this.ui.badgesDescription.val()),this.model.trigger("path:save")}});a["default"]=t}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b("\n"+g),f.b('<div class="div-row">'),f.b("\n"+g),f.b('    <div class="div-col name-col">'),f.b(f.v(f.d("language.validPeriodLabel",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b('    <div class="div-col content-col">'),f.b("\n"+g),f.b('        <div class="shift-left">'),f.b("\n"+g),f.b('            <input type="radio" id="permanentPeriod" name="validPeriod" class="val-radio" />'),f.b("\n"+g),f.b('            <label for="permanentPeriod" class="clearfix">'),f.b("\n"+g),f.b('                <span class="radio-icon"></span>'),f.b("\n"+g),f.b('                <span class="radio-label">'),f.b(f.v(f.d("language.permanentLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b("            </label>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"),f.b("\n"+g),f.b('        <div class="shift-left">'),f.b("\n"+g),f.b('            <input type="radio" id="nonPermanentPeriod" name="validPeriod" class="val-radio" />'),f.b("\n"+g),f.b('            <label for="nonPermanentPeriod" class="clearfix">'),f.b("\n"+g),f.b('                <span class="radio-icon"></span>'),f.b("\n"+g),f.b('                <span class="radio-label">'),f.b(f.v(f.d("language.validForLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b("            </label>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"),f.b("\n"+g),f.b('        <div class="js-plus-minus shift-left js-valid-period-value"></div>'),f.b("\n"+g),f.b('        <div class="val-select shift-left js-valid-period-type-selector">'),f.b("\n"+g),f.b('            <select class="js-valid-period-type">'),f.b("\n"+g),f.s(f.f("periodTypes",j,h,1),j,h,0,1063,1141,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('                <option value="'),i.b(i.v(i.f("value",l,k,0))),i.b('">'),i.b(i.v(i.f("label",l,k,0))),i.b("</option>"),i.b("\n"+g)}),j.pop()),f.b("            </select>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.b('<div class="div-row js-expiring-block">'),f.b("\n"+g),f.b('    <div class="div-col name-col">'),f.b(f.v(f.d("language.expiringPeriodLabel",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b('    <div class="div-col content-col">'),f.b("\n"+g),f.b('        <div class="js-plus-minus shift-left js-expiring-period-value"></div>'),f.b("\n"+g),f.b('        <div class="val-select shift-left">'),f.b("\n"+g),f.b('            <select class="js-expiring-period-type">'),f.b("\n"+g),f.s(f.f("periodTypes",j,h,1),j,h,0,1572,1650,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('                <option value="'),i.b(i.v(i.f("value",l,k,0))),i.b('">'),i.b(i.v(i.f("label",l,k,0))),i.b("</option>"),i.b("\n"+g)}),j.pop()),f.b("            </select>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.b('<div class="div-row">'),f.b("\n"+g),f.b('    <div class="div-col name-col">'),f.b(f.v(f.d("language.openBadgesIntegrationLabel",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b('    <div class="div-col content-col">'),f.b("\n"+g),f.b('        <label class="val-switch">'),f.b("\n"+g),f.b('            <input type="checkbox" id="badgesIntegration" class="switch-input"'),f.b("\n"+g),f.b("                   "),f.s(f.f("openBadgesEnabled",j,h,1),j,h,0,2018,2027,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b(" checked ")}),j.pop()),f.b(" />"),f.b("\n"+g),f.b('            <span class="switch-handle"></span>'),f.b("\n"+g),f.b("        </label>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.b('<div class="div-row js-badges-description-block">'),f.b("\n"+g),f.b('    <div class="div-col name-col">'),f.b(f.v(f.d("language.openBadgesDescriptionLabel",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b('    <div class="div-col content-col">'),f.b("\n"+g),f.b('        <input type="text" class="simple js-badges-description" value="'),f.b(f.v(f.f("openBadgesDescription",j,h,0))),f.b('"'),f.b("\n"+g),f.b('               placeholder="'),f.b(f.v(f.d("language.openBadgesDescriptionHintLabel",j,h,0))),f.b('" />'),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"),f.fl()},partials:{},subs:{}},'\n<div class="div-row">\n    <div class="div-col name-col">{{language.validPeriodLabel}}</div>\n    <div class="div-col content-col">\n        <div class="shift-left">\n            <input type="radio" id="permanentPeriod" name="validPeriod" class="val-radio" />\n            <label for="permanentPeriod" class="clearfix">\n                <span class="radio-icon"></span>\n                <span class="radio-label">{{language.permanentLabel}}</span>\n            </label>\n        </div>\n\n        <div class="shift-left">\n            <input type="radio" id="nonPermanentPeriod" name="validPeriod" class="val-radio" />\n            <label for="nonPermanentPeriod" class="clearfix">\n                <span class="radio-icon"></span>\n                <span class="radio-label">{{language.validForLabel}}</span>\n            </label>\n        </div>\n\n        <div class="js-plus-minus shift-left js-valid-period-value"></div>\n        <div class="val-select shift-left js-valid-period-type-selector">\n            <select class="js-valid-period-type">\n                {{#periodTypes}}\n                <option value="{{value}}">{{label}}</option>\n                {{/periodTypes}}\n            </select>\n        </div>\n    </div>\n</div>\n\n<div class="div-row js-expiring-block">\n    <div class="div-col name-col">{{language.expiringPeriodLabel}}</div>\n    <div class="div-col content-col">\n        <div class="js-plus-minus shift-left js-expiring-period-value"></div>\n        <div class="val-select shift-left">\n            <select class="js-expiring-period-type">\n                {{#periodTypes}}\n                <option value="{{value}}">{{label}}</option>\n                {{/periodTypes}}\n            </select>\n        </div>\n    </div>\n</div>\n\n<div class="div-row">\n    <div class="div-col name-col">{{language.openBadgesIntegrationLabel}}</div>\n    <div class="div-col content-col">\n        <label class="val-switch">\n            <input type="checkbox" id="badgesIntegration" class="switch-input"\n                   {{#openBadgesEnabled}} checked {{/openBadgesEnabled}} />\n            <span class="switch-handle"></span>\n        </label>\n    </div>\n</div>\n\n<div class="div-row js-badges-description-block">\n    <div class="div-col name-col">{{language.openBadgesDescriptionLabel}}</div>\n    <div class="div-col content-col">\n        <input type="text" class="simple js-badges-description" value="{{openBadgesDescription}}"\n               placeholder="{{language.openBadgesDescriptionHintLabel}}" />\n    </div>\n</div>\n',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(m,h){function A(E){if(E&&E.__esModule){return E}var C={};if(null!=E){for(var D in E){Object.prototype.hasOwnProperty.call(E,D)&&(C[D]=E[D])}}return C["default"]=E,C}function e(C){return C&&C.__esModule?C:{"default":C}}Object.defineProperty(a,"__esModule",{value:!0});var t=c(122),k=e(t),v=c(73),x=e(v),i=c(123),f=e(i),p=c(74),u=e(p),s=c(68),n=e(s),B=c(47),r=e(B),g=c(1),q=e(g),o=c(48),l=A(o),j=c(36),w=e(j),z=m.View.extend({tagName:"li",className:function(){return this.model.isGroup()?"":"js-single-goal"},template:k["default"],templateContext:function(){var C=_.map(l.validPeriodTypes,function(G,F){return{value:F,label:q["default"].language[G+"PeriodLabel"]}}),E="";if(this.model.isGroup()){var D=this.model.get("count");E=isNaN(D)?1:D}return{isGroup:this.model.isGroup(),isEvent:this.model.isEvent(),isActivity:this.model.isActivity(),goalTypeLabel:q["default"].language[this.model.get("goalType")+"GoalLabel"],periodTypes:C,cid:this.cid,toComplete:l.childrenToComplete,childrenToComplete:E}},regions:{tree:{el:"ul.js-group-children",replaceElement:!0}},behaviors:[r["default"]],ui:{handle:"> div .js-handle",deleteButton:"> div .js-delete",activitiesCount:"> div  .js-activities-count",title:"> div .js-group-title",mandatoryLayout:"> div .js-goal-mandatory",mandatory:"> div .js-goal-mandatory input",groupMandatory:"> div .js-group-mandatory",childrenToComplete:"> div .js-group-mandatory .js-children-to-complete",childrenToCompleteLabel:"> div .js-children-to-complete-label",setDeadline:"> div .js-set-deadline",deadline:"> div .js-deadline",deadlinePeriodValue:"> div .js-deadline-period-value",deadlinePeriodType:"> div .js-deadline-period-type"},events:{"click @ui.deleteButton":"deleteGoal","change @ui.activitiesCount":"saveActivitiesCount","change @ui.title":"saveTitle","change @ui.mandatory":"saveMandatory","click @ui.groupMandatory li":"changeGroupMandatory","change @ui.childrenToComplete":"childrenToCompleteChanged","click @ui.setDeadline":"setDeadline","change @ui.deadlinePeriodValue":"updateDeadline","change @ui.deadlinePeriodType":"updateDeadline"},getChildren:function(){return this.$("> ul > li")},onRender:function(){var F=this;if(this.on("valamis:controls:init",function(){if(F.model.isGroup()){var H=l.childrenToComplete,G=void 0!==F.model.get("count")?H.any:H.custom;F.ui.groupMandatory.valamisDropDown("select",G),F.setChildrenCompleteText(F.model.get("count")),F.ui.childrenToComplete.on("click",function(I){I.preventDefault(),I.stopPropagation()})}}),this.$el.attr("id",this.model.get("id")),this.ui.handle.on("update:goal:position",function(I,G,H){H&&F.ui.mandatoryLayout.removeClass("hidden"),F.model.get("id")==G.id&&F.model.move({},G)}),this.ui.handle.on("update:children",function(){F.model.isGroup()&&F.setChildrenCompleteText(F.model.get("count"))}),this.model.get("timeLimit")){var E=n["default"].getPeriod(this.model.get("timeLimit"));_.isEmpty(E)?(w["default"].channel("notify").trigger("notify","warning","durationWarningLabel"),console.log(q["default"].language.durationWarningLabel+" "+this.model.get("timeLimit"))):(this.ui.deadlinePeriodValue.val(E.value),this.ui.deadlinePeriodType.val(E.type)),this.toggleDeadlineFields(!0)}var D=this.model.get("goals");if(D&&D.length){var C=new y({collection:new u["default"](D)});this.showChildView("tree",C)}},deleteGoal:function(){this.model.destroy().then(function(){},function(){w["default"].channel("notify").trigger("notify","error","failedLabel")})},saveActivitiesCount:function(){this.setFields({count:parseInt(this.ui.activitiesCount.val())||1})},saveTitle:function(){this.setFields({title:this.ui.title.val()||q["default"].language.newGroupLabel})},saveMandatory:function(){this.setFields({optional:!this.ui.mandatory.prop("checked")})},setChildrenCompleteText:function(D,C){var E="";C=C||this.getChildren().length,D>C&&w["default"].channel("notify").trigger("notify","warning",q["default"].language.toBeCompletedWarningLabel+" "+this.model.get("title")),E=void 0!==D?q["default"].language.anyLabel+" "+D+" "+q["default"].language.ofLabel+" "+C:q["default"].language.customLabel,this.ui.childrenToCompleteLabel.text(E),this.getChildren().find(this._uiBindings.mandatoryLayout).toggleClass("hidden",void 0!==D)},updateToCompleteValue:function(D){var C=this.getChildren().length;void 0!==D?this.setFields({count:D}):this.unsetField("count"),this.setChildrenCompleteText(D,C)},childrenToCompleteChanged:function(C){this.ui.groupMandatory.data("value")===l.childrenToComplete.any&&this.updateToCompleteValue(parseInt(h(C.target).val())||1)},changeGroupMandatory:function(E){var C=h(E.target).attr("data-value")===l.childrenToComplete.custom,D=C?void 0:parseInt(this.ui.childrenToComplete.val())||1;this.updateToCompleteValue(D)},setDeadline:function(){this.toggleDeadlineFields(!0),this.updateDeadline()},updateDeadline:function(){var D=parseInt(this.ui.deadlinePeriodValue.val()),F="";if(!isNaN(D)&&D>0){var C=this.ui.deadlinePeriodType.val(),E={};E[C]=D,F=n["default"].getIsoDuration(E)}else{this.ui.deadlinePeriodValue.val(1),this.toggleDeadlineFields(!1)}F?this.setFields({timeLimit:F}):this.unsetField("timeLimit")},toggleDeadlineFields:function(C){this.ui.setDeadline.toggleClass("hidden",C),this.ui.deadline.toggleClass("hidden",!C)},setFields:function(C){this.model.set(C),this.saveGoal()},unsetField:function(C){this.model.unset(C),this.saveGoal()},saveGoal:function(){this.model.save().then(function(){},function(){w["default"].channel("notify").trigger("notify","error","failedLabel")})}}),y=m.CollectionView.extend({tagName:"ul",childView:z,emptyView:f["default"],initSortable:function(){var D=this,C=this;this.startParent=void 0,this.$el.nestedSortable({forcePlaceholderSize:!0,handle:".js-handle",items:"li:not(.dropdown-item)",toleranceElement:"> div.list-table-row",listType:"ul",placeholder:"placeholder",disableNestingClass:"js-single-goal",start:function(F,E){C.startParent=E.item.parents("li")},relocate:function(L,M){var F=C.$el.nestedSortable("toArray",{expression:/(?=(.+))(.+)/}),J=_.filter(F,function(O){return !!O.id}),G=M.item.attr("id"),I=_.find(J,{id:G}).parent_id,N=_.filter(J,{parent_id:I}),K=N.map(function(O){return O.id}).indexOf(G),E=M.item.parents("li"),H=0===E.length;M.item.find("> div .js-handle").trigger("update:goal:position",[{id:parseInt(G),parentId:parseInt(I),index:K},H]),C.startParent.length>0&&C.startParent.find("> div .js-handle").trigger("update:children"),D.startParent=void 0,E.length>0&&E.find("> div .js-handle").trigger("update:children")}})}}),d=m.View.extend({template:x["default"],className:"val-list-table",regions:{goalsList:".js-goals-list"},ui:{header:".js-header"},onRender:function(){var C=this;this.goals=new u["default"](),this.options.pathId?(this.goals.pathId=this.options.pathId,this.goals.fetch({getVersion:!1,activities:q["default"].activities.toJSON()}).then(function(){C.showGoals()})):this.showGoals()},showGoals:function(){var C=this;this.toggleHeader(),this.goals.on("destroy",function(){C.toggleHeader()});var D=new y({collection:this.goals});this.showChildView("goalsList",D),this.goals.length&&D.initSortable()},toggleHeader:function(){this.ui.header.toggleClass("hidden",!this.goals.length)},onDestroy:function(){this.off()}});a["default"]=d}).call(a,c(2),c(24))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="clearfix list-table-row">'),f.b("\n"+g),f.b('    <span class="s-6 goal-title '),f.s(f.f("isGroup",j,h,1),j,h,0,82,87,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b("group")}),j.pop()),f.b(' js-handle cursor-move">'),f.b("\n"+g),f.b('        <div class="ellipsis">'),f.b("\n"+g),f.s(f.f("isGroup",j,h,1),j,h,0,179,353,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('                <span class="input-container">'),i.b("\n"+g),i.b('                    <input type="text" value="'),i.b(i.v(i.f("title",l,k,0))),i.b('" class="simple js-group-title" />'),i.b("\n"+g),i.b("                </span>"),i.b("\n"+g)}),j.pop()),f.s(f.f("isGroup",j,h,1),j,h,1,0,0,"")||(f.s(f.f("isActivity",j,h,1),j,h,0,422,597,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b("                "),i.b(i.v(i.d("language.doLabel",l,k,0))),i.b(' <input type="text" value="'),i.b(i.v(i.f("count",l,k,0))),i.b('"'),i.b("\n"+g),i.b('                    class="onlyDigits simple js-digits-only js-activities-count" />'),i.b("\n"+g)}),j.pop()),f.b("                "),f.b(f.v(f.f("title",j,h,0))),f.b("\n"+g)),f.b("        </div>"),f.b("\n"+g),f.b("    </span>"),f.b("\n"+g),f.b('    <span class="s-2">'),f.b(f.v(f.f("goalTypeLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b('    <span class="s-2">'),f.b("\n"+g),f.s(f.f("isEvent",j,h,1),j,h,1,0,0,"")||(f.b('        <span class="label-with-action js-set-deadline">'),f.b(f.v(f.d("language.toSetLabel",j,h,0))),f.b("</span>"),f.b("\n"+g),f.b('        <div class="hidden clearfix deadline js-deadline">'),f.b("\n"+g),f.b('            <input type="text" class="onlyDigits shift-left js-digits-only js-deadline-period-value" value="1"/>'),f.b("\n"+g),f.b('            <div class="val-select shift-left">'),f.b("\n"+g),f.b('                <select class="js-deadline-period-type">'),f.b("\n"+g),f.s(f.f("periodTypes",j,h,1),j,h,0,1182,1268,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('                    <option value="'),i.b(i.v(i.f("value",l,k,0))),i.b('">'),i.b(i.v(i.f("label",l,k,0))),i.b("</option>"),i.b("\n"+g)}),j.pop()),f.b("                </select>"),f.b("\n"+g),f.b("            </div>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g)),f.b("        "),f.s(f.f("isEvent",j,h,1),j,h,0,1386,1389,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b(" - ")}),j.pop()),f.b("\n"+g),f.b("    </span>"),f.b("\n"+g),f.b('    <span class="s-2">'),f.b("\n"+g),f.s(f.f("isGroup",j,h,1),j,h,0,1457,2247,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('        <div class="shift-left dropdown js-dropdown js-group-mandatory" data-value="">'),i.b("\n"+g),i.b('            <button class="button medium simple">'),i.b("\n"+g),i.b('                <span class="dropdown-label js-children-to-complete-label"></span>'),i.b("\n"+g),i.b('                <span class="val-icon-arrow-down-two val-icon-right"></span>'),i.b("\n"+g),i.b("            </button>"),i.b("\n"+g),i.b('            <ul class="dropdown-menu">'),i.b("\n"+g),i.b('                <li class="dropdown-item" data-value="'),i.b(i.v(i.d("toComplete.any",l,k,0))),i.b('">'),i.b(i.v(i.d("language.anyLabel",l,k,0))),i.b("\n"+g),i.b('                    <input type="text" value="'),i.b(i.v(i.f("childrenToComplete",l,k,0))),i.b('"'),i.b("\n"+g),i.b('                                  class="onlyDigits js-digits-only js-children-to-complete" />'),i.b("\n"+g),i.b("                </li>"),i.b("\n"+g),i.b('                <li class="dropdown-item" data-value="'),i.b(i.v(i.d("toComplete.custom",l,k,0))),i.b('">'),i.b(i.v(i.d("language.customLabel",l,k,0))),i.b("</li>"),i.b("\n"+g),i.b("            </ul>"),i.b("\n"+g),i.b("        </div>"),i.b("\n"+g)}),j.pop()),f.b("\n"+g),f.s(f.f("isGroup",j,h,1),j,h,1,0,0,"")||(f.b('        <label class="val-switch shift-left js-goal-mandatory">'),f.b("\n"+g),f.b('            <input type="checkbox" class="switch-input" '),f.s(f.f("optional",j,h,1),j,h,1,0,0,"")||f.b(" checked "),f.b(" />"),f.b("\n"+g),f.b('            <span class="switch-handle"></span>'),f.b("\n"+g),f.b("        </label>"),f.b("\n"+g)),f.b("\n"+g),f.b('        <button class="button medium simple danger no-text shift-right js-delete">'),f.b("\n"+g),f.b('            <span class="val-icon-trash"></span>'),f.b(f.v(f.d("language.deleteLabel",j,h,0))),f.b("\n"+g),f.b("        </button>"),f.b("\n"+g),f.b("    </span>"),f.b("\n"+g),f.b("</div>"),f.b("\n"+g),f.s(f.f("isGroup",j,h,1),j,h,0,2733,2770,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('<ul class="js-group-children"></ul>'),i.b("\n"+g)}),j.pop()),f.fl()},partials:{},subs:{}},'<div class="clearfix list-table-row">\n    <span class="s-6 goal-title {{#isGroup}}group{{/isGroup}} js-handle cursor-move">\n        <div class="ellipsis">\n            {{#isGroup}}\n                <span class="input-container">\n                    <input type="text" value="{{title}}" class="simple js-group-title" />\n                </span>\n            {{/isGroup}}\n            {{^isGroup}}\n                {{#isActivity}}\n                {{language.doLabel}} <input type="text" value="{{count}}"\n                    class="onlyDigits simple js-digits-only js-activities-count" />\n                {{/isActivity}}\n                {{title}}\n            {{/isGroup}}\n        </div>\n    </span>\n    <span class="s-2">{{goalTypeLabel}}</span>\n    <span class="s-2">\n        {{^isEvent}}\n        <span class="label-with-action js-set-deadline">{{language.toSetLabel}}</span>\n        <div class="hidden clearfix deadline js-deadline">\n            <input type="text" class="onlyDigits shift-left js-digits-only js-deadline-period-value" value="1"/>\n            <div class="val-select shift-left">\n                <select class="js-deadline-period-type">\n                    {{#periodTypes}}\n                    <option value="{{value}}">{{label}}</option>\n                    {{/periodTypes}}\n                </select>\n            </div>\n        </div>\n        {{/isEvent}}\n        {{#isEvent}} - {{/isEvent}}\n    </span>\n    <span class="s-2">\n        {{#isGroup}}\n        <div class="shift-left dropdown js-dropdown js-group-mandatory" data-value="">\n            <button class="button medium simple">\n                <span class="dropdown-label js-children-to-complete-label"></span>\n                <span class="val-icon-arrow-down-two val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                <li class="dropdown-item" data-value="{{toComplete.any}}">{{language.anyLabel}}\n                    <input type="text" value="{{childrenToComplete}}"\n                                  class="onlyDigits js-digits-only js-children-to-complete" />\n                </li>\n                <li class="dropdown-item" data-value="{{toComplete.custom}}">{{language.customLabel}}</li>\n            </ul>\n        </div>\n        {{/isGroup}}\n\n        {{^isGroup}}\n        <label class="val-switch shift-left js-goal-mandatory">\n            <input type="checkbox" class="switch-input" {{^optional}} checked {{/optional}} />\n            <span class="switch-handle"></span>\n        </label>\n        {{/isGroup}}\n\n        <button class="button medium simple danger no-text shift-right js-delete">\n            <span class="val-icon-trash"></span>{{language.deleteLabel}}\n        </button>\n    </span>\n</div>\n{{#isGroup}}\n<ul class="js-group-children"></ul>\n{{/isGroup}}',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(h){function g(i){return i&&i.__esModule?i:{"default":i}}Object.defineProperty(a,"__esModule",{value:!0});var d=c(124),e=g(d),f=h.View.extend({template:e["default"]});a["default"]=f}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="target goals js-no-goals">'),f.b(f.v(f.d("language.addGoalsHint1Label",j,h,0))),f.b("<br/>"),f.b(f.v(f.d("language.addGoalsHint2Label",j,h,0))),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="target goals js-no-goals">{{language.addGoalsHint1Label}}<br/>{{language.addGoalsHint2Label}}</div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(l){function i(v){if(v&&v.__esModule){return v}var t={};if(null!=v){for(var u in v){Object.prototype.hasOwnProperty.call(v,u)&&(t[u]=v[u])}}return t["default"]=v,t}function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(a,"__esModule",{value:!0});var s=c(126),o=r(s),h=c(96),q=r(h),j=c(52),g=i(j),m=c(127),n=r(m),f=c(129),p=r(f),k=c(104),e=r(k),d=l.View.extend({template:o["default"],regions:{toolbar:"#viewToolbar",content:"#viewContent",more:"#viewPaginatorMore",showing:"#viewPaginatorShowing"},ui:{loading:".js-loading-container",infoLabel:".js-info-label"},onRender:function(){var x=this;this.filter=new q["default"]({sort:"title"});var v=new n["default"]({model:this.filter});this.showChildView("toolbar",v),this.collection=new e["default"](),this.collection.on("scope:item:selected",function(y){x.setScope(y)}),this.collection.goalType=this.goalType,this.paginatorModel=new g.PageModel({itemsOnPage:10,isLazy:!0}),this.filter.on("change",function(y){x.fetch()}),this.paginatorModel.on("pageChanged",function(){x.fetchMore()}),this.collection.on("sync",function(y){x.toggleLoading(!1,!y.hasItems()),x.paginatorModel.set("totalElements",y.options.total)});var u=new g.ValamisPaginatorShowMore({model:this.paginatorModel});this.showChildView("more",u);var w=new g.ValamisPaginatorShowing({model:this.paginatorModel});this.showChildView("showing",w);var t=new p["default"]({collection:this.collection});this.showChildView("content",t),this.fetch()},fetch:function(){this.paginatorModel.set({totalElements:0}),this.collection.reset();var t=this.paginatorModel.get("currentPage")*this.paginatorModel.get("itemsOnPage");this.fetchMore(1,t)},fetchMore:function(u,t){this.collection.fetch({filter:this.filter.toJSON(),page:u||this.paginatorModel.get("currentPage"),count:t||this.paginatorModel.get("itemsOnPage"),add:!0,remove:!1,merge:!1})},toggleLoading:function(u,t){this.ui.loading.toggleClass("hidden",!u),this.ui.infoLabel.toggleClass("hidden",u||!t)},setScope:function(t){this.triggerMethod("scope:selected",t)}});a["default"]=d}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div id="viewToolbar"></div>'),f.b("\n"+g),f.b('<div id="viewContent" class="val-table-wrapper"></div>'),f.b("\n"),f.b("\n"+g),f.b('<div class="loading-container js-loading-container hidden"></div>'),f.b("\n"+g),f.b('<label class="valamis-info-label shifted hidden js-info-label">'),f.b(f.v(f.d("language.emptyListLabel",j,h,0))),f.b("</label>"),f.b("\n"),f.b("\n"+g),f.b('<div id="viewPaginatorMore" class="text-center"></div>'),f.fl()},partials:{},subs:{}},'<div id="viewToolbar"></div>\n<div id="viewContent" class="val-table-wrapper"></div>\n\n<div class="loading-container js-loading-container hidden"></div>\n<label class="valamis-info-label shifted hidden js-info-label">{{language.emptyListLabel}}</label>\n\n<div id="viewPaginatorMore" class="text-center"></div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(k,f){function e(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(a,"__esModule",{value:!0});var d=c(128),h=e(d),j=c(47),i=e(j),g=k.View.extend({template:h["default"],ui:{search:".js-search input",sort:".js-sort"},events:{"keyup @ui.search":"changeSearchText","click @ui.sort li":"changeSort"},behaviors:[i["default"]],onRender:function(){this.on("valamis:controls:init",function(){this.ui.sort.valamisDropDown("select",this.model.get("sort"))},this)},changeSearchText:function(l){var m=this;clearTimeout(this.inputTimeout),this.inputTimeout=setTimeout(function(){m.model.set("filter",f(l.target).val())},800)},changeSort:function(l){this.model.set("sort",f(l.target).attr("data-value"))}});a["default"]=g}).call(a,c(2),c(24))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="filters-row val-row">'),f.b("\n"+g),f.b('    <div class="side-layout">&nbsp;</div>'),f.b("\n"),f.b("\n"+g),f.b('    <div class="center-layout text-center">'),f.b("\n"+g),f.b('        <div class="val-search js-search">'),f.b("\n"+g),f.b('            <input type="text" placeholder="'),f.b(f.v(f.d("language.searchLabel",j,h,0))),f.b('">'),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"+g),f.b('<div class="filters-row val-row showing-row">'),f.b("\n"+g),f.b('    <div class="side-layout">'),f.b("\n"+g),f.b('        <div id="viewPaginatorShowing" class="display-inline-block"></div>'),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b('    <div class="side-layout text-right">'),f.b("\n"+g),f.b('        <div class="dropdown js-dropdown shift-right js-sort" data-value="">'),f.b("\n"+g),f.b('            <button class="button medium simple">'),f.b("\n"+g),f.b('                <span class="dropdown-text"></span>'),f.b("\n"+g),f.b('                <span class="val-icon-arrow-down val-icon-right"></span>'),f.b("\n"+g),f.b("            </button>"),f.b("\n"+g),f.b('            <ul class="dropdown-menu">'),f.b("\n"+g),f.b('                <li data-value="title" class="selected">'),f.b(f.v(f.d("language.byNameAscLabel",j,h,0))),f.b("</li>"),f.b("\n"+g),f.b('                <li data-value="-title">'),f.b(f.v(f.d("language.byNameDescLabel",j,h,0))),f.b("</li>"),f.b("\n"+g),f.b("            </ul>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="filters-row val-row">\n    <div class="side-layout">&nbsp;</div>\n\n    <div class="center-layout text-center">\n        <div class="val-search js-search">\n            <input type="text" placeholder="{{language.searchLabel}}">\n        </div>\n    </div>\n</div>\n<div class="filters-row val-row showing-row">\n    <div class="side-layout">\n        <div id="viewPaginatorShowing" class="display-inline-block"></div>\n    </div>\n    <div class="side-layout text-right">\n        <div class="dropdown js-dropdown shift-right js-sort" data-value="">\n            <button class="button medium simple">\n                <span class="dropdown-text"></span>\n                <span class="val-icon-arrow-down val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                <li data-value="title" class="selected">{{language.byNameAscLabel}}</li>\n                <li data-value="-title">{{language.byNameDescLabel}}</li>\n            </ul>\n        </div>\n    </div>\n</div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(i){function g(j){return j&&j.__esModule?j:{"default":j}}Object.defineProperty(a,"__esModule",{value:!0});var e=c(130),h=g(e),f=i.View.extend({tagName:"tr",template:h["default"],events:{click:"modelSelected"},modelSelected:function(){this.model.trigger("scope:item:selected",this.model.toJSON())}}),d=i.CollectionView.extend({tagName:"table",className:"val-table",childView:f});a["default"]=d}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<td class="title cursor-pointer">'),f.b("\n"+g),f.b("    "),f.b(f.v(f.f("title",j,h,0))),f.b("\n"+g),f.b("</td>"),f.fl()},partials:{},subs:{}},'<td class="title cursor-pointer">\n    {{title}}\n</td>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(h){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(a,"__esModule",{value:!0});var l=c(132),f=k(l),d=c(133),i=k(d),g=h.View.extend({tagName:"li",className:"js-select-item",template:f["default"],events:{click:"onClick"},onClick:function(){this.model.trigger("skillSelected",{model:this.model.toJSON(),improving:this.options.improving})}}),e=h.CollectionView.extend({childView:g,childViewOptions:function(){return{improving:this.options.improving}}}),j=h.View.extend({tagName:"ul",className:"dropdown-menu js-select-dropdown",template:i["default"],regions:{list:{el:".js-skills-list",replaceElement:!0}},ui:{search:".js-search input"},events:{"keyup @ui.search":"onSearchChange"},onRender:function(){this.skills=new e({collection:this.collection,improving:this.options.improving}),this.showChildView("list",this.skills)},onSearchChange:function(){var m=this.ui.search.val().toLowerCase();this.skills.setFilter(function(p,n,o){return p.get("title").toLowerCase().includes(m)})}});a["default"]=j}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b(f.v(f.f("title",j,h,0))),f.fl()},partials:{},subs:{}},"{{title}}",b);return e.render.apply(e,arguments)}},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="val-search js-search">'),f.b("\n"+g),f.b('    <input type="text" placeholder="'),f.b(f.v(f.d("language.searchSkillLabel",j,h,0))),f.b('">'),f.b("\n"+g),f.b("</div>"),f.b("\n"+g),f.b('<div class="js-skills-list"></div>'),f.fl()},partials:{},subs:{}},'<div class="val-search js-search">\n    <input type="text" placeholder="{{language.searchSkillLabel}}">\n</div>\n<div class="js-skills-list"></div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(g){function j(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(a,"__esModule",{value:!0});var k=c(132),f=j(k),i=c(135),e=j(i),h=g.View.extend({tagName:"li",template:f["default"],events:{click:"onClick"},onClick:function(){this.model.trigger("levelSelected",this.model.toJSON(),this.options)}}),l=g.CollectionView.extend({childView:h,childViewOptions:function(){return{skillName:this.options.skillName,skillId:this.options.skillId,improving:this.options.improving}}}),d=g.View.extend({tagName:"ul",className:"dropdown-menu js-select-dropdown",template:e["default"],regions:{list:{el:".js-levels-list",replaceElement:!0}},templateContext:function(){return{skillName:this.options.skillName}},onRender:function(){var m=new l({collection:this.collection,skillName:this.options.skillName,skillId:this.options.skillId,improving:this.options.improving});this.showChildView("list",m)}});a["default"]=d}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="selected-skill">'),f.b(f.v(f.f("skillName",j,h,0))),f.b(" "),f.b(f.v(f.d("language.skillNameToLabel",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b('<div class="js-levels-list"></div>'),f.fl()},partials:{},subs:{}},'<div class="selected-skill">{{skillName}} {{language.skillNameToLabel}}</div>\n<div class="js-levels-list"></div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(k){function l(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(a,"__esModule",{value:!0});var d=c(42),f=l(d),m=c(57),j=l(m),g=c(40),e=l(g),i=new k.Service(),h=f["default"].extend({model:k.Model,initialize:function(n){this.url=(0,e["default"])().endpoint.skills,j["default"].prototype.initialize.apply(this,arguments)}}).extend(i);a["default"]=h}).call(a,c(3))},function(b,a,c){(function(j){function l(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(a,"__esModule",{value:!0});var e=c(42),g=l(e),m=c(57),i=l(m),h=c(40),f=l(h),k=new j.Service(),d=g["default"].extend({model:j.Model,initialize:function(n){this.url=(0,f["default"])().endpoint.levels,i["default"].prototype.initialize.apply(this,arguments)}}).extend(k);a["default"]=d}).call(a,c(3))},function(b,a,c){(function(i){function f(j){return j&&j.__esModule?j:{"default":j}}Object.defineProperty(a,"__esModule",{value:!0});var h=c(139),e=f(h),d=i.View.extend({tagName:"li",template:e["default"],events:{"click .js-delete-competency":"deleteCompetency"},deleteCompetency:function(){this.model.destroy()}}),g=i.CollectionView.extend({childView:d});a["default"]=g}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b(f.v(f.f("skillName",j,h,0))),f.b(", "),f.b(f.v(f.f("levelName",j,h,0))),f.b(' <span class="val-icon-trash cursor-pointer js-delete-competency"></span>'),f.fl()},partials:{},subs:{}},'{{skillName}}, {{levelName}} <span class="val-icon-trash cursor-pointer js-delete-competency"></span>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(j){function l(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(a,"__esModule",{value:!0});var e=c(59),g=l(e),i=c(40),f=l(i),k=c(1),d=l(k),h=new j.Service({url:function(n){return""+(0,f["default"])().endpoint.learningPaths},sync:{read:{path:"draft",method:"get"},update:{path:"draft",method:"put"}},targets:{deleteLogo:{path:"draft/logo",method:"delete"},addGoals:{path:"draft/goals",data:function(o,n){return n.data},method:"post"},addGroup:{path:"draft/groups",data:function(o,n){return{title:n.title}},method:"post"},publish:{path:"draft/publish",method:"post"},addRecommendation:{path:"draft/recommended-competences",data:function(o,n){return{skillId:n.skillId,skillName:n.skillName,levelId:n.levelId,levelName:n.levelName}},method:"post"}}}),m=g["default"].extend({defaults:{title:"",logo:"",openBadgesEnabled:!1,hasDraft:!0},getFullLogoUrl:function(){var n=this.get("logoUrl");return n?""+(0,f["default"])().apiPath+n:""},save:function(o,p,n){return""===this.get("title")&&this.set("title",d["default"].language.defaultNameLabel),g["default"].prototype.save.apply(this,[o,p,n])}}).extend(h);a["default"]=m}).call(a,c(3))},function(b,a,c){(function(m){function n(p){return p&&p.__esModule?p:{"default":p}}Object.defineProperty(a,"__esModule",{value:!0});var o=c(57),l=n(o),f=c(59),h=n(f),k=c(40),g=n(k),i=new m.Service({url:function(p){return(0,g["default"])().endpoint.learningPaths+p.collection.pathId+"/members/"+p.collection.memberType}}),j=h["default"].extend(i),e=new m.Service({sync:{read:{path:function(q,p){return q.pathId+"/members/"+q.memberType},data:function(q,p){return p.data},method:"get"}},targets:{addMembers:{path:function(q,p){return q.pathId+"/members"},data:function(q,p){return p.data},method:"post"}}}),d=l["default"].extend({model:j,initialize:function(){this.url=(0,g["default"])().endpoint.learningPaths,l["default"].prototype.initialize.apply(this,arguments)}}).extend(e);a["default"]=d}).call(a,c(3))},function(b,a,c){(function(i){function k(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(a,"__esModule",{value:!0});var l=c(57),h=k(l),d=c(59),f=k(d),g=c(40),e=k(g),j=new i.Service({sync:{read:{path:function(o,n){return o.pathId+"/available-members/"+o.memberType},data:function(o,n){return n.data},method:"get"}}}),m=h["default"].extend({model:f["default"],initialize:function(){this.url=""+(0,e["default"])().endpoint.learningPaths,this.available=!0,h["default"].prototype.initialize.apply(this,arguments)},getMembersSum:function(){var n=0;return _.each(this.toJSON(),function(o){var p=o.userCount;n+=void 0!=p?p:1}),n}}).extend(j);a["default"]=m}).call(a,c(3))},function(b,a,c){(function(p,k){function C(H){if(H&&H.__esModule){return H}var F={};if(null!=H){for(var G in H){Object.prototype.hasOwnProperty.call(H,G)&&(F[G]=H[G])}}return F["default"]=H,F}function e(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(a,"__esModule",{value:!0});var D=c(144),u=e(D),r=c(145),j=e(r),B=c(146),w=e(B),i=c(1),v=e(i),o=c(96),n=e(o),l=c(36),x=e(l),s=c(52),h=C(s),q=c(48),m=C(q),E=c(47),t=e(E),g=c(147),z=e(g),f=p.View.extend({tagName:"tr",template:u["default"],initialize:function(){this.isMemberUser=this.model.collection.memberType==m.memberType.user},templateContext:function(){var F=function(O){return'<span class="valamis-tooltip" data-placement="bottom" title="'+v["default"].language.memberAsPartOfGroupHintLabel+'">'+O+"</span>"},G="",J=this.model;if(this.isMemberUser){var M=m.memberType,N={};N[M.organization]="organization",N[M.userGroup]="group",N[M.role]="role";var L=J.get("membershipInfo");G=_.map([M.organization,M.userGroup,M.role],function(O){return J.get(O).map(function(Q){var P=_.filter(L,function(R){return R.tpe===N[O]&&R.id===Q.id});return P.length>0?F(Q.name):Q.name}).join(", ")}),G=_.filter(G,function(O){return""!=O}).join("  ")}else{G=this.model.get("userCount")+" "+v["default"].language.membersLabel}var I=this.model.get("status"),K=Math.round(100*(this.model.get("progress")||0)),H=m.statuses;return{available:this.options.available,cid:this.cid,info:G,isGroup:!this.isMemberUser,progressPercent:K,isInProgress:I===H.inprogress,isSucceed:I===H.success,isFailed:I===H.failed,isExpired:I===H.expired,isExpiring:I===H.expiring}},ui:{"delete":".js-member-delete",checkbox:".val-checkbox",tooltip:".valamis-tooltip"},events:{click:"openProgress","click @ui.delete":"memberDelete","change @ui.checkbox":"toggleModelSelected"},modelEvents:{"change:selected":"toggleSelected"},onRender:function(){this.isMemberUser&&this.$el.addClass("cursor-pointer")},toggleModelSelected:function(H){var F=k(H.target).prop("checked");this.model.set("selected",F);var G=this.model.get("userCount");void 0==G&&(G=1),this.model.collection.trigger("members:selected:changed",F?G:-1*G)},toggleSelected:function(){this.ui.checkbox.prop("checked",this.model.get("selected"))},memberDelete:function(F){F.stopPropagation();var G=this.model.collection;this.model.destroy({data:{memberIds:this.model.get("id"),memberType:G.memberType}}).then(function(){G.trigger("member:removed")},function(){x["default"].channel("notify").trigger("notify","error","failedLabel")})},openProgress:function(){this.isMemberUser&&this.model.trigger("show:user:progress",this.model.collection.indexOf(this.model))}}),y=p.CollectionView.extend({tagName:"table",className:"val-table",childView:f,childViewOptions:function(){return{available:this.options.available}}}),d=p.View.extend({template:w["default"],templateContext:function(){var F=[],G=[];return _.each(m.memberType,function(H,I){F.push({value:I,label:v["default"].language[I+"MembersLabel"]}),G.push({value:I,label:v["default"].language[I+"AddLabel"]})}),{membersType:F,addMembers:G,available:this.options.available,cid:this.cid}},behaviors:[t["default"]],ui:{search:".js-search input",sort:".js-sort-filter",memberType:".js-member-type",addMembers:".js-add-members",selectAll:".js-select-all",deselectAll:".js-deselect-all",selectedInfo:".js-selected-info",selectedAmount:".js-selected-amount"},events:{"keyup @ui.search":"changeSearchText","click @ui.sort li":"changeSort","click @ui.memberType li":"changeMemberType","click @ui.addMembers li":"addMembers","change @ui.selectAll":"toggleSelectAll","click @ui.deselectAll":"deselectAll"},onRender:function(){this.isSelectedAll=!1,this.selectedMembers=0,this.on("valamis:controls:init",function(){var G=this,F=_.findKey(m.memberType,function(H){return H==G.model.get("memberType")});this.ui.memberType.valamisDropDown("select",F)},this)},changeSearchText:function(G){var F=this;clearTimeout(this.inputTimeout),this.inputTimeout=setTimeout(function(){F.model.set("searchtext",k(G.target).val())},800)},changeSort:function(F){this.model.set("sort",k(F.target).attr("data-value"))},changeMemberType:function(G){var F=m.memberType[k(G.target).attr("data-value")];this.model.set("memberType",F),this.deselectAll()},addMembers:function(G){var F=m.memberType[k(G.target).attr("data-value")];this.triggerMethod("add:member",F)},toggleSelectAll:function(){this.isSelectedAll=this.ui.selectAll.prop("checked"),this.selectedMembers=this.isSelectedAll?this.options.paginatorModel.get("membersSum"):0,this.updateSelectedText(this.isSelectedAll),this.triggerMethod("toggle:select:all",this.isSelectedAll)},deselectAll:function(){this.ui.selectAll.prop("checked",!1),this.toggleSelectAll()},updateSelectedText:function(F){this.ui.selectedInfo.toggleClass("hidden",!F),this.ui.selectedAmount.text(this.selectedMembers)},checkSelectedAmount:function(G,F){this.selectedMembers+=G,this.ui.selectAll.prop("checked",this.selectedMembers==this.options.paginatorModel.get("membersSum")),this.updateSelectedText(F)}}),A=p.View.extend({template:j["default"],templateContext:function(){return{available:this.options.available}},regions:{toolbar:"#viewToolbar",list:"#viewList",more:"#viewPaginatorMore",showing:"#viewPaginatorShowing",noMembers:"#viewNoMembers"},ui:{back:".js-back",add:".js-add-selected",hintLayout:".js-hint-layout",contentLayout:".js-content-layout",selectMembers:".js-select-members"},events:{"click @ui.back":"goBack","click @ui.add":"addSelectedMembers","click @ui.selectMembers":"selectMembers"},childViewEvents:{"add:member":"selectMembers","toggle:select:all":"toggleSelectAll"},initialize:function(){this.paginatorModel=new h.PageModel({itemsOnPage:10,isLazy:!0}),this.members=this.options.members,this.members.memberType=this.options.memberType||m.memberType.user,this.filter=new n["default"]({sort:"name",memberType:this.members.memberType}),this.available=!!this.options.available,this.members.on("collection:update",this.fetch,this)},selectMembers:function(F){this.triggerMethod("select:members",F)},toggleSelectAll:function(F){this.members.each(function(G){G.set("selected",F)})},onRender:function(){var I=this;this.available||this.showChildView("noMembers",new z["default"]());var G=new d({model:this.filter,paginatorModel:this.paginatorModel,available:this.available});this.showChildView("toolbar",G),this.filter.on("change",function(K){G.deselectAll(),I.fetch()}),this.members.on("member:removed",function(){I.fetch(),I.triggerMethod("preview:path")}),this.members.on("member:update",function(){I.fetch()}),this.members.on("sync",function(L){I.toggleLoading(!1,!L.hasItems());var K={totalElements:L.options.total};L.available&&_.extend(K,{membersSum:L.getMembersSum()}),I.paginatorModel.set(K),I.toggleHint()}),this.paginatorModel.on("pageChanged",function(){I.fetchMore()}),this.members.on("members:selected:changed",function(L){var K=I.members.filter({selected:!0}).length>0;G.checkSelectedAmount(L,K)},this);var F=new y({collection:this.members,available:this.available,memberType:this.members.memberType});this.showChildView("list",F);var H=new h.ValamisPaginatorShowMore({model:this.paginatorModel});this.showChildView("more",H);var J=new h.ValamisPaginatorShowing({model:this.paginatorModel});this.showChildView("showing",J),this.fetch()},onDestroy:function(){this.members.off()},toggleLoading:function(G,F){this.$(".js-loading-container").toggleClass("hidden",!G),this.$(".js-info-label").toggleClass("hidden",G||!F)},fetch:function(){this.paginatorModel.set({totalElements:0}),this.members.memberType=this.filter.get("memberType"),this.members.reset();var F=this.paginatorModel.get("currentPage")*this.paginatorModel.get("itemsOnPage");this.fetchMore(1,F)},fetchMore:function(J,I){var G=this;this.toggleLoading(!0);var F=I||this.paginatorModel.get("itemsOnPage"),H=((J||this.paginatorModel.get("currentPage"))-1)*F;this.members.fetch({data:{skip:H,take:F,name:this.filter.get("searchtext"),sort:this.filter.get("sort")},add:!0,remove:!1,merge:!1}).then(function(){},function(){x["default"].channel("notify").trigger("notify","error","failedLabel"),G.toggleLoading(!1)})},toggleHint:function(){var F=!this.available&&0==this.members.length&&this.filter.get("memberType")==m.memberType.user&&!this.filter.get("searchtext");this.ui.hintLayout.toggleClass("hidden",!F),this.ui.contentLayout.toggleClass("hidden",F)},addSelectedMembers:function(){var G=this,H=this.members.where({selected:!0});if(0==H.length){return x["default"].channel("notify").trigger("notify","warning","noUsersSelectedLabel"),!1}var F=_.map(H,function(I){return I.get("id")});this.options.path.set("userMembersCount",this.members.getMembersSum()),this.options.path.addMembers({},{memberType:this.members.memberType,selectedIds:F}).then(function(){G.goBack()},function(){x["default"].channel("notify").trigger("notify","error","failedLabel")})},goBack:function(){this.triggerMethod("select:members:back")}});a["default"]=A}).call(a,c(2),c(24))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.s(f.f("available",j,h,1),j,h,0,14,205,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('<td class="narrow-col">'),i.b("\n"+g),i.b('    <input type="checkbox" id="'),i.b(i.v(i.f("cid",l,k,0))),i.b("_toggle_"),i.b(i.v(i.f("id",l,k,0))),i.b('" name="check" class="val-checkbox">'),i.b("\n"+g),i.b('    <label class="checkbox-label" for="'),i.b(i.v(i.f("cid",l,k,0))),i.b("_toggle_"),i.b(i.v(i.f("id",l,k,0))),i.b('"></label>'),i.b("\n"+g),i.b("</td>"),i.b("\n"+g)}),j.pop()),f.b('<td class="narrow-col">'),f.b("\n"+g),f.b('    <div class="portraits '),f.s(f.f("isGroup",j,h,1),j,h,0,282,287,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b("group")}),j.pop()),f.b('">'),f.b("\n"+g),f.s(f.f("logo",j,h,1),j,h,0,319,391,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('        <img class="img-circle" src="'),i.b(i.v(i.f("logo",l,k,0))),i.b('" alt="'),i.b(i.v(i.f("name",l,k,0))),i.b('">'),i.b("\n"+g)}),j.pop()),f.s(f.f("userPortraits",j,h,1),j,h,0,427,496,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('        <img class="img-circle" src="'),i.b(i.v(i.d(".",l,k,0))),i.b('" alt="'),i.b(i.v(i.f("name",l,k,0))),i.b('">'),i.b("\n"+g)}),j.pop()),f.b("    </div>"),f.b("\n"+g),f.b("</td>"),f.b("\n"+g),f.b("<td>"),f.b("\n"+g),f.b('    <div class="title">'),f.b(f.v(f.f("name",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b('    <div class="info">'),f.b(f.t(f.f("info",j,h,0))),f.b("</div>"),f.b("\n"+g),f.b("</td>"),f.b("\n"),f.b("\n"+g),f.s(f.f("available",j,h,1),j,h,1,0,0,"")||(f.s(f.f("isGroup",j,h,1),j,h,1,0,0,"")||(f.b('<td class="narrow-col text-right">'),f.b("\n"+g),f.b("    "),f.s(f.f("isInProgress",j,h,1),j,h,0,705,770,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('<span class="val-label">'),i.b(i.v(i.d("language.inProgressStatusLabel",l,k,0))),i.b("</span>")}),j.pop()),f.b("\n"+g),f.b("    "),f.s(f.f("isSucceed",j,h,1),j,h,0,806,876,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('<span class="val-label success">'),i.b(i.v(i.d("language.successStatusLabel",l,k,0))),i.b("</span>")}),j.pop()),f.b("\n"+g),f.b("    "),f.s(f.f("isFailed",j,h,1),j,h,0,908,976,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('<span class="val-label failed">'),i.b(i.v(i.d("language.failedStatusLabel",l,k,0))),i.b("</span>")}),j.pop()),f.b("\n"+g),f.b("    "),f.s(f.f("isExpired",j,h,1),j,h,0,1008,1077,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('<span class="val-label failed">'),i.b(i.v(i.d("language.expiredStatusLabel",l,k,0))),i.b("</span>")}),j.pop()),f.b("\n"+g),f.b("    "),f.s(f.f("isExpiring",j,h,1),j,h,0,1111,1185,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('<span class="val-label inprogress">'),i.b(i.v(i.d("language.expiringStatusLabel",l,k,0))),i.b("</span>")}),j.pop()),f.b("\n"+g),f.b("</td>"),f.b("\n"+g),f.b('<td class="narrow-col path-progress">'),f.b("\n"+g),f.b("    "),f.b(f.v(f.f("progressPercent",j,h,0))),f.b('<span class="val-percent-sign">%</span>'),f.b("\n"+g),f.b("</td>"),f.b("\n"+g)),f.b("\n"+g),f.b('<td class="narrow-col">'),f.b("\n"+g),f.b('    <button class="button medium simple danger no-text js-member-delete">'),f.b("\n"+g),f.b('        <span class="val-icon-trash"></span>'),f.b(f.v(f.d("language.deleteLabel",j,h,0))),f.b("\n"+g),f.b("    </button>"),f.b("\n"+g),f.b("</td>"),f.b("\n"+g)),f.fl()},partials:{},subs:{}},'{{#available}}\n<td class="narrow-col">\n    <input type="checkbox" id="{{cid}}_toggle_{{id}}" name="check" class="val-checkbox">\n    <label class="checkbox-label" for="{{cid}}_toggle_{{id}}"></label>\n</td>\n{{/available}}\n<td class="narrow-col">\n    <div class="portraits {{#isGroup}}group{{/isGroup}}">\n        {{#logo}}\n        <img class="img-circle" src="{{logo}}" alt="{{name}}">\n        {{/logo}}\n        {{#userPortraits}}\n        <img class="img-circle" src="{{.}}" alt="{{name}}">\n        {{/userPortraits}}\n    </div>\n</td>\n<td>\n    <div class="title">{{name}}</div>\n    <div class="info">{{{info}}}</div>\n</td>\n\n{{^available}}\n{{^isGroup}}\n<td class="narrow-col text-right">\n    {{#isInProgress}}<span class="val-label">{{language.inProgressStatusLabel}}</span>{{/isInProgress}}\n    {{#isSucceed}}<span class="val-label success">{{language.successStatusLabel}}</span>{{/isSucceed}}\n    {{#isFailed}}<span class="val-label failed">{{language.failedStatusLabel}}</span>{{/isFailed}}\n    {{#isExpired}}<span class="val-label failed">{{language.expiredStatusLabel}}</span>{{/isExpired}}\n    {{#isExpiring}}<span class="val-label inprogress">{{language.expiringStatusLabel}}</span>{{/isExpiring}}\n</td>\n<td class="narrow-col path-progress">\n    {{progressPercent}}<span class="val-percent-sign">%</span>\n</td>\n{{/isGroup}}\n\n<td class="narrow-col">\n    <button class="button medium simple danger no-text js-member-delete">\n        <span class="val-icon-trash"></span>{{language.deleteLabel}}\n    </button>\n</td>\n{{/available}}',b);return e.render.apply(e,arguments)}},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.s(f.f("available",j,h,1),j,h,1,0,0,"")||(f.b('<div class="tab-header-imitation"></div>'),f.b("\n"+g)),f.b("\n"+g),f.s(f.f("available",j,h,1),j,h,0,86,325,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('<div class="bbm-modal__topbar">'),i.b("\n"+g),i.b('    <button class="button medium simple js-back">'),i.b("\n"+g),i.b('        <span class="val-icon-arrow-left"></span>'),i.b("\n"+g),i.b("        "),i.b(i.v(i.d("language.backToLPLabel",l,k,0))),i.b("\n"+g),i.b("    </button>"),i.b("\n"+g),i.b('    <div class="modal-close val-icon-exit"></div>'),i.b("\n"+g),i.b("</div>"),i.b("\n"+g)}),j.pop()),f.b("\n"+g),f.b('<div class="js-content-layout">'),f.b("\n"+g),f.b('    <div id="viewToolbar"></div>'),f.b("\n"+g),f.b('    <div id="viewList" class="val-table-wrapper"></div>'),f.b("\n"+g),f.b('    <div class="loading-container js-loading-container"></div>'),f.b("\n"+g),f.b('    <label class="valamis-info-label shifted hidden js-info-label">'),f.b(f.v(f.d("language.emptyListLabel",j,h,0))),f.b("</label>"),f.b("\n"+g),f.b('    <div id="viewPaginatorMore" class="text-center"></div>'),f.b("\n"+g),f.b("</div>"),f.b("\n"),f.b("\n"+g),f.s(f.f("available",j,h,1),j,h,0,709,953,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('<div class="bbm-modal__bottombar">'),i.b("\n"+g),i.b('    <button class="button medium primary js-add-selected">'),i.b("\n"+g),i.b("        "),i.b(i.v(i.d("language.saveLabel",l,k,0))),i.b("\n"+g),i.b("    </button>"),i.b("\n"+g),i.b('    <button class="button medium simple js-back">'),i.b("\n"+g),i.b("        "),i.b(i.v(i.d("language.cancelLabel",l,k,0))),i.b("\n"+g),i.b("    </button>"),i.b("\n"+g),i.b("</div>"),i.b("\n"+g)}),j.pop()),f.b("\n"+g),f.s(f.f("available",j,h,1),j,h,1,0,0,"")||(f.b('<div id="viewNoMembers" class="hidden js-hint-layout"></div>'),f.b("\n"+g)),f.fl()},partials:{},subs:{}},'{{^available}}\n<div class="tab-header-imitation"></div>\n{{/available}}\n\n{{#available}}\n<div class="bbm-modal__topbar">\n    <button class="button medium simple js-back">\n        <span class="val-icon-arrow-left"></span>\n        {{language.backToLPLabel}}\n    </button>\n    <div class="modal-close val-icon-exit"></div>\n</div>\n{{/available}}\n\n<div class="js-content-layout">\n    <div id="viewToolbar"></div>\n    <div id="viewList" class="val-table-wrapper"></div>\n    <div class="loading-container js-loading-container"></div>\n    <label class="valamis-info-label shifted hidden js-info-label">{{language.emptyListLabel}}</label>\n    <div id="viewPaginatorMore" class="text-center"></div>\n</div>\n\n{{#available}}\n<div class="bbm-modal__bottombar">\n    <button class="button medium primary js-add-selected">\n        {{language.saveLabel}}\n    </button>\n    <button class="button medium simple js-back">\n        {{language.cancelLabel}}\n    </button>\n</div>\n{{/available}}\n\n{{^available}}\n<div id="viewNoMembers" class="hidden js-hint-layout"></div>\n{{/available}}',b);return e.render.apply(e,arguments)}},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="filters-row val-row filter-members">'),f.b("\n"+g),f.b('    <div class="side-layout">'),f.b("\n"+g),f.b('        <div class="dropdown js-dropdown js-member-type" data-value="user">'),f.b("\n"+g),f.b('            <button class="button medium neutral">'),f.b("\n"+g),f.b('                <span class="dropdown-text"></span>'),f.b("\n"+g),f.b('                <span class="val-icon-arrow-down val-icon-right"></span>'),f.b("\n"+g),f.b("            </button>"),f.b("\n"+g),f.b('            <ul class="dropdown-menu">'),f.b("\n"+g),f.s(f.f("membersType",j,h,1),j,h,0,424,499,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('                <li data-value="'),i.b(i.v(i.f("value",l,k,0))),i.b('">'),i.b(i.v(i.f("label",l,k,0))),i.b("</li>"),i.b("\n"+g)}),j.pop()),f.b("            </ul>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"),f.b("\n"+g),f.b('    <div class="side-layout hide-l">'),f.b("\n"+g),f.s(f.f("available",j,h,1),j,h,1,0,0,"")||(f.b('        <div class="dropdown actions shift-right js-dropdown js-add-members">'),f.b("\n"+g),f.b('            <button class="button medium primary">'),f.b("\n"+g),f.b('                <span class="dropdown-text"> '),f.b(f.v(f.d("language.addMemberLabel",j,h,0))),f.b(" </span>"),f.b("\n"+g),f.b('                <span class="val-icon-arrow-down-two val-icon-right"></span>'),f.b("\n"+g),f.b("            </button>"),f.b("\n"+g),f.b('            <ul class="dropdown-menu">'),f.b("\n"+g),f.s(f.f("addMembers",j,h,1),j,h,0,1000,1075,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('                <li data-value="'),i.b(i.v(i.f("value",l,k,0))),i.b('">'),i.b(i.v(i.f("label",l,k,0))),i.b("</li>"),i.b("\n"+g)}),j.pop()),f.b("            </ul>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g)),f.b("    </div>"),f.b("\n"),f.b("\n"+g),f.b('    <div class="center-layout text-center">'),f.b("\n"+g),f.b('        <div class="members-search val-search js-search">'),f.b("\n"+g),f.b('            <input type="text" placeholder="'),f.b(f.v(f.d("language.membersSearchPlaceholder",j,h,0))),f.b('">'),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"),f.b("\n"+g),f.b('    <div class="side-layout l-only">'),f.b("\n"+g),f.s(f.f("available",j,h,1),j,h,1,0,0,"")||(f.b('    <div class="dropdown actions shift-right js-dropdown js-add-members">'),f.b("\n"+g),f.b('        <button class="button medium primary">'),f.b("\n"+g),f.b('            <span class="dropdown-text"> '),f.b(f.v(f.d("language.addMemberLabel",j,h,0))),f.b(" </span>"),f.b("\n"+g),f.b('            <span class="val-icon-arrow-down-two val-icon-right"></span>'),f.b("\n"+g),f.b("        </button>"),f.b("\n"+g),f.b('        <ul class="dropdown-menu">'),f.b("\n"+g),f.s(f.f("addMembers",j,h,1),j,h,0,1779,1846,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('            <li data-value="'),i.b(i.v(i.f("value",l,k,0))),i.b('">'),i.b(i.v(i.f("label",l,k,0))),i.b("</li>"),i.b("\n"+g)}),j.pop()),f.b("        </ul>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g)),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"+g),f.b('<div class="filters-row val-row showing-row">'),f.b("\n"+g),f.b('    <div class="side-layout">'),f.b("\n"+g),f.s(f.f("available",j,h,1),j,h,0,2022,2205,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('        <input type="checkbox" id="'),i.b(i.v(i.f("cid",l,k,0))),i.b('_selectAll" name="check" class="val-checkbox js-select-all">'),i.b("\n"+g),i.b('        <label class="checkbox-label" for="'),i.b(i.v(i.f("cid",l,k,0))),i.b('_selectAll"></label>'),i.b("\n"+g)}),j.pop()),f.b("\n"+g),f.b('        <div id="viewPaginatorShowing" class="display-inline-block"></div>'),f.b("\n"),f.b("\n"+g),f.s(f.f("available",j,h,1),j,h,0,2319,2666,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('        <div class="js-selected-info display-inline-block hidden">'),i.b("\n"+g),i.b('            <span class="users-selected-label">'),i.b("\n"+g),i.b('                <span class="js-selected-amount"></span> '),i.b(i.v(i.d("language.usersSelectedLabel",l,k,0))),i.b("\n"+g),i.b("            </span>"),i.b("\n"+g),i.b('            - <span class="label-with-action js-deselect-all">'),i.b(i.v(i.d("language.deselectAllLabel",l,k,0))),i.b("</span>"),i.b("\n"+g),i.b("        </div>"),i.b("\n"+g)}),j.pop()),f.b("    </div>"),f.b("\n"+g),f.b('    <div class="side-layout text-right">'),f.b("\n"+g),f.b('        <div class="dropdown js-dropdown shift-right js-sort-filter" data-value="name">'),f.b("\n"+g),f.b('            <button class="button medium simple">'),f.b("\n"+g),f.b('                <span class="dropdown-text"> '),f.b(f.v(f.d("language.byNameAscLabel",j,h,0))),f.b(" </span>"),f.b("\n"+g),f.b('                <span class="val-icon-arrow-down val-icon-right"></span>'),f.b("\n"+g),f.b("            </button>"),f.b("\n"+g),f.b('            <ul class="dropdown-menu">'),f.b("\n"+g),f.b('                <li data-value="name" class="selected"> '),f.b(f.v(f.d("language.byNameAscLabel",j,h,0))),f.b(" </li>"),f.b("\n"+g),f.b('                <li data-value="-name"> '),f.b(f.v(f.d("language.byNameDescLabel",j,h,0))),f.b(" </li>"),f.b("\n"+g),f.b("            </ul>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="filters-row val-row filter-members">\n    <div class="side-layout">\n        <div class="dropdown js-dropdown js-member-type" data-value="user">\n            <button class="button medium neutral">\n                <span class="dropdown-text"></span>\n                <span class="val-icon-arrow-down val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                {{#membersType}}\n                <li data-value="{{value}}">{{label}}</li>\n                {{/membersType}}\n            </ul>\n        </div>\n    </div>\n\n    <div class="side-layout hide-l">\n        {{^available}}\n        <div class="dropdown actions shift-right js-dropdown js-add-members">\n            <button class="button medium primary">\n                <span class="dropdown-text"> {{language.addMemberLabel}} </span>\n                <span class="val-icon-arrow-down-two val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                {{#addMembers}}\n                <li data-value="{{value}}">{{label}}</li>\n                {{/addMembers}}\n            </ul>\n        </div>\n        {{/available}}\n    </div>\n\n    <div class="center-layout text-center">\n        <div class="members-search val-search js-search">\n            <input type="text" placeholder="{{language.membersSearchPlaceholder}}">\n        </div>\n    </div>\n\n    <div class="side-layout l-only">\n    {{^available}}\n    <div class="dropdown actions shift-right js-dropdown js-add-members">\n        <button class="button medium primary">\n            <span class="dropdown-text"> {{language.addMemberLabel}} </span>\n            <span class="val-icon-arrow-down-two val-icon-right"></span>\n        </button>\n        <ul class="dropdown-menu">\n            {{#addMembers}}\n            <li data-value="{{value}}">{{label}}</li>\n            {{/addMembers}}\n        </ul>\n    </div>\n    {{/available}}\n    </div>\n</div>\n<div class="filters-row val-row showing-row">\n    <div class="side-layout">\n        {{#available}}\n        <input type="checkbox" id="{{cid}}_selectAll" name="check" class="val-checkbox js-select-all">\n        <label class="checkbox-label" for="{{cid}}_selectAll"></label>\n        {{/available}}\n\n        <div id="viewPaginatorShowing" class="display-inline-block"></div>\n\n        {{#available}}\n        <div class="js-selected-info display-inline-block hidden">\n            <span class="users-selected-label">\n                <span class="js-selected-amount"></span> {{language.usersSelectedLabel}}\n            </span>\n            - <span class="label-with-action js-deselect-all">{{language.deselectAllLabel}}</span>\n        </div>\n        {{/available}}\n    </div>\n    <div class="side-layout text-right">\n        <div class="dropdown js-dropdown shift-right js-sort-filter" data-value="name">\n            <button class="button medium simple">\n                <span class="dropdown-text"> {{language.byNameAscLabel}} </span>\n                <span class="val-icon-arrow-down val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                <li data-value="name" class="selected"> {{language.byNameAscLabel}} </li>\n                <li data-value="-name"> {{language.byNameDescLabel}} </li>\n            </ul>\n        </div>\n    </div>\n</div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(k,g){function i(s){if(s&&s.__esModule){return s}var q={};if(null!=s){for(var r in s){Object.prototype.hasOwnProperty.call(s,r)&&(q[r]=s[r])}}return q["default"]=s,q}function p(q){return q&&q.__esModule?q:{"default":q}}Object.defineProperty(a,"__esModule",{value:!0});var e=c(148),f=p(e),o=c(1),d=p(o),n=c(48),m=i(n),h=c(47),l=p(h),j=k.View.extend({template:f["default"],templateContext:function(){var q=[],r=[];return _.each(m.memberType,function(s,t){q.push({value:t,label:d["default"].language[t+"MembersLabel"]}),r.push({value:t,label:d["default"].language[t+"AddLabel"]})}),{addMembers:r}},ui:{addMembers:".js-empty-add-members"},events:{"click @ui.addMembers li":"addMembers"},behaviors:[l["default"]],addMembers:function(r){var q=m.memberType[g(r.target).attr("data-value")];this.triggerMethod("add:member",q)}});a["default"]=j}).call(a,c(2),c(24))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="filters-row val-row filter-members">'),f.b("\n"+g),f.b('    <div class="side-layout shift-right">'),f.b("\n"+g),f.b('        <div class="dropdown actions shift-right js-dropdown js-empty-add-members">'),f.b("\n"+g),f.b('            <button class="button medium primary">'),f.b("\n"+g),f.b('                <span class="dropdown-text"> '),f.b(f.v(f.d("language.addMemberLabel",j,h,0))),f.b(" </span>"),f.b("\n"+g),f.b('                <span class="val-icon-arrow-down-two val-icon-right"></span>'),f.b("\n"+g),f.b("            </button>"),f.b("\n"+g),f.b('            <ul class="dropdown-menu">'),f.b("\n"+g),f.s(f.f("addMembers",j,h,1),j,h,0,476,551,"{{ }}")&&(f.rs(j,h,function(l,k,i){i.b('                <li data-value="'),i.b(i.v(i.f("value",l,k,0))),i.b('">'),i.b(i.v(i.f("label",l,k,0))),i.b("</li>"),i.b("\n"+g)}),j.pop()),f.b("            </ul>"),f.b("\n"+g),f.b("        </div>"),f.b("\n"+g),f.b("    </div>"),f.b("\n"+g),f.b("</div>"),f.b("\n"+g),f.b('<div class="target members">'),f.b(f.v(f.d("language.addMembersHint1Label",j,h,0))),f.b("<br/>"),f.b(f.v(f.d("language.addMembersHint2Label",j,h,0))),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="filters-row val-row filter-members">\n    <div class="side-layout shift-right">\n        <div class="dropdown actions shift-right js-dropdown js-empty-add-members">\n            <button class="button medium primary">\n                <span class="dropdown-text"> {{language.addMemberLabel}} </span>\n                <span class="val-icon-arrow-down-two val-icon-right"></span>\n            </button>\n            <ul class="dropdown-menu">\n                {{#addMembers}}\n                <li data-value="{{value}}">{{label}}</li>\n                {{/addMembers}}\n            </ul>\n        </div>\n    </div>\n</div>\n<div class="target members">{{language.addMembersHint1Label}}<br/>{{language.addMembersHint2Label}}</div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(m){function k(u){if(u&&u.__esModule){return u}var s={};if(null!=u){for(var t in u){Object.prototype.hasOwnProperty.call(u,t)&&(s[t]=u[t])}}return s["default"]=u,s}function r(s){return s&&s.__esModule?s:{"default":s}}Object.defineProperty(a,"__esModule",{value:!0});var g=c(150),d=r(g),j=c(144),n=r(j),q=c(1),e=r(q),p=c(48),o=k(p),i=c(71),f=r(i),l=m.View.extend({template:n["default"],tagName:"tr",templateContext:function(){var s=function(B){return'<span class="valamis-tooltip" data-placement="bottom" title="'+e["default"].language.memberAsPartOfGroupHintLabel+'">'+B+"</span>"},w=this.model,z=o.memberType,A={};A[z.organization]="organization",A[z.userGroup]="group",A[z.role]="role";var y=w.get("membershipInfo"),t=_.map([z.organization,z.userGroup,z.role],function(B){return w.get(B).map(function(D){var C=_.filter(y,function(E){return E.tpe===A[B]&&E.id===D.id});return C.length>0?s(D.name):D.name}).join(", ")});t=_.filter(t,function(B){return""!=B}).join("  ");var v=this.model.get("status"),x=Math.round(100*(this.model.get("progress")||0)),u=o.statuses;return{cid:this.cid,info:t,progressPercent:x,isInProgress:v===u.inprogress,isSucceed:v===u.success,isFailed:v===u.failed,isExpired:v===u.expired,isExpiring:v===u.expiring}}}),h=m.View.extend({className:"user-progress",template:d["default"],regions:{info:".js-user-info",goals:".js-user-goals"},ui:{prevUser:".js-previous-user",nextUser:".js-next-user",back:".js-back"},events:{"click @ui.prevUser":"showForPrevUser","click @ui.nextUser":"showForNextUser","click @ui.back":"goBack"},onRender:function(){this.userIndex=this.options.userIndex||0,this.showProgress()},showForPrevUser:function(){this.userIndex>0&&(this.userIndex--,this.showProgress())},showForNextUser:function(){this.userIndex<this.options.members.length&&(this.userIndex++,this.showProgress())},showProgress:function(){var t=this.options.members.at(this.userIndex);if(t){this.ui.prevUser.prop("disabled",0==this.userIndex),this.ui.nextUser.prop("disabled",this.userIndex==this.options.members.length-1);var s=new l({model:t});this.showChildView("info",s);var u=new f["default"]({path:this.options.path,doAsAdmin:!1,versionId:t.get("statusVersionId"),userId:t.get("id")});this.showChildView("goals",u)}},goBack:function(){this.triggerMethod("user:progress:back")}});a["default"]=h}).call(a,c(2))},function(c,a,d){var b=d(33);c.exports=function(){var e=new b.Template({code:function(j,h,g){var f=this;return f.b(g=g||""),f.b('<div class="bbm-modal__topbar">'),f.b("\n"+g),f.b('    <button class="button medium simple js-back">'),f.b("\n"+g),f.b('        <span class="val-icon-arrow-left"></span>'),f.b("\n"+g),f.b("        "),f.b(f.v(f.d("language.backToMembersLabel",j,h,0))),f.b("\n"+g),f.b("    </button>"),f.b("\n"+g),f.b("</div>"),f.b("\n"+g),f.b('<div class="modal-corner">'),f.b("\n"+g),f.b('    <button class="button medium neutral no-text js-previous-user">'),f.b("\n"+g),f.b('        <span class="val-icon-arrow-left"></span>'),f.b(f.v(f.d("language.previousMemberLabel",j,h,0))),f.b("\n"+g),f.b("    </button>"),f.b("\n"+g),f.b('    <button class="button medium neutral no-text js-next-user">'),f.b("\n"+g),f.b('        <span class="val-icon-arrow-right"></span>'),f.b(f.v(f.d("language.nextMemberLabel",j,h,0))),f.b("\n"+g),f.b("    </button>"),f.b("\n"+g),f.b('    <div class="modal-close val-icon-exit"></div>'),f.b("\n"+g),f.b("</div>"),f.b("\n"+g),f.b("<div>"),f.b("\n"+g),f.b('    <table class="val-table js-user-info"></table>'),f.b("\n"+g),f.b('    <div class="preview-wrapper path-goals js-user-goals"></div>'),f.b("\n"+g),f.b("</div>"),f.fl()},partials:{},subs:{}},'<div class="bbm-modal__topbar">\n    <button class="button medium simple js-back">\n        <span class="val-icon-arrow-left"></span>\n        {{language.backToMembersLabel}}\n    </button>\n</div>\n<div class="modal-corner">\n    <button class="button medium neutral no-text js-previous-user">\n        <span class="val-icon-arrow-left"></span>{{language.previousMemberLabel}}\n    </button>\n    <button class="button medium neutral no-text js-next-user">\n        <span class="val-icon-arrow-right"></span>{{language.nextMemberLabel}}\n    </button>\n    <div class="modal-close val-icon-exit"></div>\n</div>\n<div>\n    <table class="val-table js-user-info"></table>\n    <div class="preview-wrapper path-goals js-user-goals"></div>\n</div>',b);return e.render.apply(e,arguments)}},function(b,a,c){(function(e){function f(i,g,h){i[g]||Object[d](i,g,{writable:!0,configurable:!0,value:h})}if(c(152),c(443),c(445),e._babelPolyfill){throw new Error("only one instance of babel-polyfill is allowed")}e._babelPolyfill=!0;var d="defineProperty";f(String.prototype,"padLeft","".padStart),f(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(g){[][g]&&f(Array,g,Function.call.bind([][g]))})}).call(a,function(){return this}())},function(b,a,c){c(153),c(202),c(203),c(204),c(205),c(207),c(210),c(211),c(212),c(213),c(214),c(215),c(216),c(217),c(218),c(220),c(222),c(224),c(226),c(229),c(230),c(231),c(235),c(237),c(239),c(242),c(243),c(244),c(245),c(247),c(248),c(249),c(250),c(251),c(252),c(253),c(255),c(256),c(257),c(259),c(260),c(261),c(263),c(264),c(265),c(266),c(267),c(268),c(269),c(270),c(271),c(272),c(273),c(274),c(275),c(276),c(281),c(282),c(286),c(287),c(288),c(289),c(291),c(292),c(293),c(294),c(295),c(296),c(297),c(298),c(299),c(300),c(301),c(302),c(303),c(304),c(305),c(306),c(307),c(309),c(310),c(316),c(317),c(319),c(320),c(321),c(325),c(326),c(327),c(328),c(329),c(331),c(332),c(333),c(334),c(337),c(339),c(340),c(341),c(343),c(345),c(347),c(348),c(349),c(351),c(352),c(353),c(354),c(361),c(364),c(365),c(367),c(368),c(371),c(372),c(374),c(375),c(376),c(377),c(378),c(379),c(380),c(381),c(382),c(383),c(384),c(385),c(386),c(387),c(388),c(389),c(390),c(391),c(392),c(394),c(395),c(396),c(397),c(398),c(399),c(401),c(402),c(403),c(404),c(405),c(406),c(407),c(408),c(410),c(411),c(413),c(414),c(415),c(416),c(419),c(420),c(421),c(422),c(423),c(424),c(425),c(426),c(428),c(429),c(430),c(431),c(432),c(433),c(434),c(435),c(436),c(437),c(438),c(441),c(442),b.exports=c(159)},function(c,X,n){var a=n(154),f=n(155),t=n(156),d=n(158),ac=n(168),F=n(172).KEY,aa=n(157),C=n(173),H=n(174),h=n(169),e=n(175),ad=n(176),J=n(177),r=n(179),j=n(192),B=n(195),g=n(162),E=n(182),x=n(166),k=n(167),z=n(196),S=n(199),u=n(201),U=n(161),N=n(180),q=u.f,G=U.f,m=S.f,Z=a.Symbol,s=a.JSON,R=s&&s.stringify,T="prototype",Y=e("_hidden"),l=e("toPrimitive"),ae={}.propertyIsEnumerable,w=C("symbol-registry"),O=C("symbols"),M=C("op-symbols"),b=Object[T],v="function"==typeof Z,y=a.QObject,P=!y||!y[T]||!y[T].findChild,K=t&&aa(function(){return 7!=z(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a})?function(ah,ag,ai){var i=q(b,ag);i&&delete b[ag],G(ah,ag,ai),i&&ah!==b&&G(b,ag,i)}:G,V=function(i){var ag=O[i]=z(Z[T]);return ag._k=i,ag},o=v&&"symbol"==typeof Z.iterator?function(i){return"symbol"==typeof i}:function(i){return i instanceof Z},Q=function(ag,i,ah){return ag===b&&Q(M,i,ah),g(ag),i=x(i,!0),g(ah),f(O,i)?(ah.enumerable?(f(ag,Y)&&ag[Y][i]&&(ag[Y][i]=!1),ah=z(ah,{enumerable:k(0,!1)})):(f(ag,Y)||G(ag,Y,k(1,{})),ag[Y][i]=!0),K(ag,i,ah)):G(ag,i,ah)},af=function(aj,al){g(aj);for(var ai,ak=j(al=E(al)),ah=0,ag=ak.length;ag>ah;){Q(aj,ai=ak[ah++],al[ai])}return aj},p=function(i,ag){return void 0===ag?z(i):af(z(i),ag)},D=function(i){var ag=ae.call(this,i=x(i,!0));return !(this===b&&f(O,i)&&!f(M,i))&&(!(ag||!f(this,i)||!f(O,i)||f(this,Y)&&this[Y][i])||ag)},I=function(ag,i){if(ag=E(ag),i=x(i,!0),ag!==b||!f(O,i)||f(M,i)){var ah=q(ag,i);return !ah||!f(O,i)||f(ag,Y)&&ag[Y][i]||(ah.enumerable=!0),ah}},L=function(aj){for(var ai,ak=m(E(aj)),ag=[],ah=0;ak.length>ah;){f(O,ai=ak[ah++])||ai==Y||ai==F||ag.push(ai)}return ag},A=function(aj){for(var ai,ak=aj===b,al=m(ak?M:E(aj)),ag=[],ah=0;al.length>ah;){!f(O,ai=al[ah++])||ak&&!f(b,ai)||ag.push(O[ai])}return ag};v||(Z=function(){if(this instanceof Z){throw TypeError("Symbol is not a constructor!")}var i=h(arguments.length>0?arguments[0]:void 0),ag=function(ah){this===b&&ag.call(M,ah),f(this,Y)&&f(this[Y],i)&&(this[Y][i]=!1),K(this,i,k(1,ah))};return t&&P&&K(b,i,{configurable:!0,set:ag}),V(i)},ac(Z[T],"toString",function(){return this._k}),u.f=I,U.f=Q,n(200).f=S.f=L,n(194).f=D,n(193).f=A,t&&!n(178)&&ac(b,"propertyIsEnumerable",D,!0),ad.f=function(i){return V(e(i))}),d(d.G+d.W+d.F*!v,{Symbol:Z});for(var W="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ab=0;W.length>ab;){e(W[ab++])}for(var W=N(e.store),ab=0;W.length>ab;){J(W[ab++])}d(d.S+d.F*!v,"Symbol",{"for":function(i){return f(w,i+="")?w[i]:w[i]=Z(i)},keyFor:function(i){if(o(i)){return r(w,i)}throw TypeError(i+" is not a symbol!")},useSetter:function(){P=!0},useSimple:function(){P=!1}}),d(d.S+d.F*!v,"Object",{create:p,defineProperty:Q,defineProperties:af,getOwnPropertyDescriptor:I,getOwnPropertyNames:L,getOwnPropertySymbols:A}),s&&d(d.S+d.F*(!v||aa(function(){var i=Z();return"[null]"!=R([i])||"{}"!=R({a:i})||"{}"!=R(Object(i))})),"JSON",{stringify:function(ak){if(void 0!==ak&&!o(ak)){for(var aj,ag,ah=[ak],ai=1;arguments.length>ai;){ah.push(arguments[ai++])}return aj=ah[1],"function"==typeof aj&&(ag=aj),!ag&&B(aj)||(aj=function(i,al){if(ag&&(al=ag.call(this,i,al)),!o(al)){return al}}),ah[1]=aj,R.apply(s,ah)}}}),Z[T][l]||n(160)(Z[T],l,Z[T].valueOf),H(Z,"Symbol"),H(Math,"Math",!0),H(a.JSON,"JSON",!0)},function(b,a){var c=b.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(b,a){var c={}.hasOwnProperty;b.exports=function(e,d){return c.call(e,d)}},function(b,a,c){b.exports=!c(157)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(b,a){b.exports=function(c){try{return !!c()}catch(d){return !0}}},function(c,g,b){var a=b(154),d=b(159),h=b(160),i=b(168),j=b(170),f="prototype",e=function(w,m,k){var x,y,t,p,l=w&e.F,o=w&e.G,s=w&e.S,n=w&e.P,r=w&e.B,u=o?a:s?a[m]||(a[m]={}):(a[m]||{})[f],q=o?d:d[m]||(d[m]={}),v=q[f]||(q[f]={});o&&(k=m);for(x in k){y=!l&&u&&void 0!==u[x],t=(y?u:k)[x],p=r&&y?j(t,a):n&&"function"==typeof t?j(Function.call,t):t,u&&i(u,x,t,w&e.U),q[x]!=t&&h(q,x,p),n&&v[x]!=t&&(v[x]=t)}};a.core=d,e.F=1,e.G=2,e.S=4,e.P=8,e.B=16,e.W=32,e.U=64,e.R=128,c.exports=e},function(c,b){var a=c.exports={version:"2.4.0"};"number"==typeof __e&&(__e=a)},function(c,b,d){var e=d(161),a=d(167);c.exports=d(156)?function(f,g,h){return e.f(f,g,a(1,h))}:function(f,g,h){return f[g]=h,f}},function(d,b,f){var a=f(162),e=f(164),c=f(166),g=Object.defineProperty;b.f=f(156)?Object.defineProperty:function(j,h,k){if(a(j),h=c(h,!0),a(k),e){try{return g(j,h,k)}catch(i){}}if("get" in k||"set" in k){throw TypeError("Accessors not supported!")}return"value" in k&&(j[h]=k.value),j}},function(c,b,d){var a=d(163);c.exports=function(e){if(!a(e)){throw TypeError(e+" is not an object!")}return e}},function(b,a){b.exports=function(c){return"object"==typeof c?null!==c:"function"==typeof c}},function(b,a,c){b.exports=!c(156)&&!c(157)(function(){return 7!=Object.defineProperty(c(165)("div"),"a",{get:function(){return 7}}).a})},function(d,c,f){var b=f(163),a=f(154).document,e=b(a)&&b(a.createElement);d.exports=function(g){return e?a.createElement(g):{}}},function(c,b,d){var a=d(163);c.exports=function(g,e){if(!a(g)){return g}var f,h;if(e&&"function"==typeof(f=g.toString)&&!a(h=f.call(g))){return h}if("function"==typeof(f=g.valueOf)&&!a(h=f.call(g))){return h}if(!e&&"function"==typeof(f=g.toString)&&!a(h=f.call(g))){return h}throw TypeError("Can't convert object to primitive value")}},function(b,a){b.exports=function(d,c){return{enumerable:!(1&d),configurable:!(2&d),writable:!(4&d),value:c}}},function(d,e,c){var b=c(154),f=c(160),i=c(155),h=c(169)("src"),j="toString",g=Function[j],a=(""+g).split(j);c(159).inspectSource=function(k){return g.call(k)},(d.exports=function(m,k,o,l){var n="function"==typeof o;n&&(i(o,"name")||f(o,"name",k)),m[k]!==o&&(n&&(i(o,h)||f(o,h,m[k]?""+m[k]:a.join(String(k)))),m===b?m[k]=o:l?m[k]?m[k]=o:f(m,k,o):(delete m[k],f(m,k,o)))})(Function.prototype,j,function(){return"function"==typeof this&&this[h]||g.call(this)})},function(c,a){var d=0,b=Math.random();c.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++d+b).toString(36))}},function(c,b,d){var a=d(171);c.exports=function(e,g,f){if(a(e),void 0===g){return e}switch(f){case 1:return function(h){return e.call(g,h)};case 2:return function(i,h){return e.call(g,i,h)};case 3:return function(i,h,j){return e.call(g,i,h,j)}}return function(){return e.apply(g,arguments)}}},function(b,a){b.exports=function(c){if("function"!=typeof c){throw TypeError(c+" is not a function!")}return c}},function(e,f,d){var m=d(169)("meta"),o=d(163),l=d(155),b=d(161).f,c=0,k=Object.isExtensible||function(){return !0},j=!d(157)(function(){return k(Object.preventExtensions({}))}),g=function(p){b(p,m,{value:{i:"O"+ ++c,w:{}}})},i=function(q,p){if(!o(q)){return"symbol"==typeof q?q:("string"==typeof q?"S":"P")+q}if(!l(q,m)){if(!k(q)){return"F"}if(!p){return"E"}g(q)}return q[m].i},h=function(q,p){if(!l(q,m)){if(!k(q)){return !0}if(!p){return !1}g(q)}return q[m].w},a=function(p){return j&&n.NEED&&k(p)&&!l(p,m)&&g(p),p},n=e.exports={KEY:m,NEED:!1,fastKey:i,getWeak:h,onFreeze:a}},function(c,b,f){var d=f(154),e="__core-js_shared__",a=d[e]||(d[e]={});c.exports=function(g){return a[g]||(a[g]={})}},function(c,a,f){var d=f(161).f,b=f(155),e=f(175)("toStringTag");c.exports=function(i,g,h){i&&!b(i=h?i:i.prototype,e)&&d(i,e,{configurable:!0,value:g})}},function(d,b,g){var a=g(173)("wks"),c=g(169),e=g(154).Symbol,f="function"==typeof e,h=d.exports=function(i){return a[i]||(a[i]=f&&e[i]||(f?e:c)("Symbol."+i))};h.store=a},function(b,a,c){a.f=c(175)},function(d,c,h){var f=h(154),b=h(159),g=h(178),e=h(176),a=h(161).f;d.exports=function(i){var j=b.Symbol||(b.Symbol=g?{}:f.Symbol||{});"_"==i.charAt(0)||i in j||a(j,i,{value:e.f(i)})}},function(b,a){b.exports=!1},function(b,a,c){var e=c(180),d=c(182);b.exports=function(g,i){for(var h,l=d(g),k=e(l),j=k.length,f=0;j>f;){if(l[h=k[f++]]===i){return h}}}},function(c,b,e){var a=e(181),d=e(191);c.exports=Object.keys||function(f){return a(f,d)}},function(d,a,f){var b=f(155),g=f(182),e=f(186)(!1),c=f(190)("IE_PROTO");d.exports=function(j,n){var l,m=g(j),k=0,h=[];for(l in m){l!=c&&b(m,l)&&h.push(l)}for(;n.length>k;){b(m,l=n[k++])&&(~e(h,l)||h.push(l))}return h}},function(b,a,c){var e=c(183),d=c(185);b.exports=function(f){return e(d(f))}},function(b,a,c){var d=c(184);b.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==d(e)?e.split(""):Object(e)}},function(b,a){var c={}.toString;b.exports=function(d){return c.call(d).slice(8,-1)}},function(b,a){b.exports=function(c){if(void 0==c){throw TypeError("Can't call method on  "+c)}return c}},function(c,b,e){var f=e(182),a=e(187),d=e(189);c.exports=function(g){return function(n,j,i){var l,m=f(n),k=a(m.length),h=d(i,k);if(g&&j!=j){for(;k>h;){if(l=m[h++],l!=l){return !0}}}else{for(;k>h;h++){if((g||h in m)&&m[h]===j){return g||h||0}}}return !g&&-1}}},function(d,b,e){var a=e(188),c=Math.min;d.exports=function(f){return f>0?c(a(f),9007199254740991):0}},function(b,a){var c=Math.ceil,d=Math.floor;b.exports=function(e){return isNaN(e=+e)?0:(e>0?d:c)(e)}},function(e,c,f){var b=f(188),a=Math.max,d=Math.min;e.exports=function(g,h){return g=b(g),g<0?a(g+h,0):d(g,h)}},function(c,a,e){var d=e(173)("keys"),b=e(169);c.exports=function(f){return d[f]||(d[f]=b(f))}},function(b,a){b.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(d,c,e){var f=e(180),a=e(193),b=e(194);d.exports=function(m){var g=f(m),l=a.f;if(l){for(var k,h=l(m),n=b.f,j=0;h.length>j;){n.call(m,k=h[j++])&&g.push(k)}}return g}},function(b,a){a.f=Object.getOwnPropertySymbols},function(b,a){a.f={}.propertyIsEnumerable},function(b,a,c){var d=c(184);b.exports=Array.isArray||function(e){return"Array"==d(e)}},function(b,e,a){var g=a(162),j=a(197),i=a(191),f=a(190)("IE_PROTO"),c=function(){},d="prototype",h=function(){var o,n=a(165)("iframe"),m=i.length,k="<",l=">";for(n.style.display="none",a(198).appendChild(n),n.src="javascript:",o=n.contentWindow.document,o.open(),o.write(k+"script"+l+"document.F=Object"+k+"/script"+l),o.close(),h=o.F;m--;){delete h[d][i[m]]}return h()};b.exports=Object.create||function(m,l){var k;return null!==m?(c[d]=g(m),k=new c(),c[d]=null,k[f]=m):k=h(),void 0===l?k:j(k,l)}},function(c,b,d){var e=d(161),a=d(162),f=d(180);c.exports=d(156)?Object.defineProperties:function(m,g){a(m);for(var l,k=f(g),j=k.length,h=0;j>h;){e.f(m,l=k[h++],g[l])}return m}},function(b,a,c){b.exports=c(154).document&&document.documentElement},function(b,a,f){var h=f(182),c=f(200).f,e={}.toString,d="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],g=function(i){try{return c(i)}catch(j){return d.slice()}};b.exports.f=function(i){return d&&"[object Window]"==e.call(i)?g(i):c(h(i))}},function(c,b,e){var a=e(181),d=e(191).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(f){return a(f,d)}},function(c,f,b){var j=b(194),d=b(167),e=b(182),h=b(166),i=b(155),a=b(164),g=Object.getOwnPropertyDescriptor;f.f=b(156)?g:function(m,k){if(m=e(m),k=h(k,!0),a){try{return g(m,k)}catch(l){}}if(i(m,k)){return d(!j.f.call(m,k),m[k])}}},function(b,a,c){var d=c(158);d(d.S,"Object",{create:c(196)})},function(b,a,c){var d=c(158);d(d.S+d.F*!c(156),"Object",{defineProperty:c(161).f})},function(b,a,c){var d=c(158);d(d.S+d.F*!c(156),"Object",{defineProperties:c(197)})},function(c,a,d){var e=d(182),b=d(201).f;d(206)("getOwnPropertyDescriptor",function(){return function(g,f){return b(e(g),f)}})},function(d,c,e){var f=e(158),b=e(159),a=e(157);d.exports=function(h,g){var i=(b.Object||{})[h]||Object[h],j={};j[h]=g(i),f(f.S+f.F*a(function(){i(1)}),"Object",j)}},function(b,a,d){var c=d(208),e=d(209);d(206)("getPrototypeOf",function(){return function(f){return e(c(f))}})},function(b,a,c){var d=c(185);b.exports=function(e){return Object(d(e))}},function(e,a,g){var b=g(155),f=g(208),d=g(190)("IE_PROTO"),c=Object.prototype;e.exports=Object.getPrototypeOf||function(h){return h=f(h),b(h,d)?h[d]:"function"==typeof h.constructor&&h instanceof h.constructor?h.constructor.prototype:h instanceof Object?c:null}},function(c,b,e){var d=e(208),a=e(180);e(206)("keys",function(){return function(f){return a(d(f))}})},function(b,a,c){c(206)("getOwnPropertyNames",function(){return c(199).f})},function(c,b,e){var a=e(163),d=e(172).onFreeze;e(206)("freeze",function(f){return function(g){return f&&a(g)?f(d(g)):g}})},function(c,b,e){var a=e(163),d=e(172).onFreeze;e(206)("seal",function(f){return function(g){return f&&a(g)?f(d(g)):g}})},function(c,b,e){var a=e(163),d=e(172).onFreeze;e(206)("preventExtensions",function(f){return function(g){return f&&a(g)?f(d(g)):g}})},function(c,b,d){var a=d(163);d(206)("isFrozen",function(e){return function(f){return !a(f)||!!e&&e(f)}})},function(c,b,d){var a=d(163);d(206)("isSealed",function(e){return function(f){return !a(f)||!!e&&e(f)}})},function(c,b,d){var a=d(163);d(206)("isExtensible",function(e){return function(f){return !!a(f)&&(!e||e(f))}})},function(b,a,c){var d=c(158);d(d.S+d.F,"Object",{assign:c(219)})},function(c,d,b){var g=b(180),f=b(193),h=b(194),i=b(208),a=b(183),e=Object.assign;c.exports=!e||b(157)(function(){var j={},m={},l=Symbol(),k="abcdefghijklmnopqrst";return j[l]=7,k.split("").forEach(function(n){m[n]=n}),7!=e({},j)[l]||Object.keys(e({},m)).join("")!=k})?function(r,k){for(var n=i(r),m=arguments.length,q=1,t=f.f,s=h.f;m>q;){for(var u,p=a(arguments[q++]),v=t?g(p).concat(t(p)):g(p),l=v.length,o=0;l>o;){s.call(p,u=v[o++])&&(n[u]=p[u])}}return n}:e},function(b,a,c){var d=c(158);d(d.S,"Object",{is:c(221)})},function(b,a){b.exports=Object.is||function(c,d){return c===d?0!==c||1/c===1/d:c!=c&&d!=d}},function(b,a,c){var d=c(158);d(d.S,"Object",{setPrototypeOf:c(223).set})},function(e,d,f){var a=f(163),c=f(162),b=function(h,g){if(c(h),!a(g)&&null!==g){throw TypeError(g+": can't set as prototype!")}};e.exports={set:Object.setPrototypeOf||("__proto__" in {}?function(j,h,i){try{i=f(170)(Function.call,f(201).f(Object.prototype,"__proto__").set,2),i(j,[]),h=!(j instanceof Array)}catch(g){h=!0}return function(l,k){return b(l,k),h?l.__proto__=k:i(l,k),l}}({},!1):void 0),check:b}},function(c,a,d){var b=d(225),e={};e[d(175)("toStringTag")]="z",e+""!="[object z]"&&d(168)(Object.prototype,"toString",function(){return"[object "+b(this)+"]"},!0)},function(b,a,f){var g=f(184),e=f(175)("toStringTag"),d="Arguments"==g(function(){return arguments}()),c=function(i,h){try{return i[h]}catch(j){}};b.exports=function(i){var j,h,k;return void 0===i?"Undefined":null===i?"Null":"string"==typeof(h=c(j=Object(i),e))?h:d?g(j):"Object"==(k=g(j))&&"function"==typeof j.callee?"Arguments":k}},function(b,a,c){var d=c(158);d(d.P,"Function",{bind:c(227)})},function(c,g,b){var d=b(171),i=b(163),f=b(228),a=[].slice,e={},h=function(m,j,k){if(!(j in e)){for(var o=[],l=0;l<j;l++){o[l]="a["+l+"]"}e[j]=Function("F,a","return new F("+o.join(",")+")")}return e[j](m,k)};c.exports=Function.bind||function(m){var l=d(this),j=a.call(arguments,1),k=function(){var n=j.concat(a.call(arguments));return this instanceof k?h(l,n.length,n):f(l,n,m)};return i(l.prototype)&&(k.prototype=l.prototype),k}},function(b,a){b.exports=function(e,d,f){var c=void 0===f;switch(d.length){case 0:return c?e():e.call(f);case 1:return c?e(d[0]):e.call(f,d[0]);case 2:return c?e(d[0],d[1]):e.call(f,d[0],d[1]);case 3:return c?e(d[0],d[1],d[2]):e.call(f,d[0],d[1],d[2]);case 4:return c?e(d[0],d[1],d[2],d[3]):e.call(f,d[0],d[1],d[2],d[3])}return e.apply(f,d)}},function(b,e,a){var g=a(161).f,c=a(167),i=a(155),f=Function.prototype,d=/^\s*function ([^ (]*)/,j="name",h=Object.isExtensible||function(){return !0};j in f||a(156)&&g(f,j,{configurable:!0,get:function(){try{var l=this,k=(""+l).match(d)[1];return i(l,j)||!h(l)||g(l,j,c(5,k)),k}catch(m){return""}}})},function(d,b,g){var a=g(163),e=g(209),f=g(175)("hasInstance"),c=Function.prototype;f in c||g(161).f(c,f,{value:function(h){if("function"!=typeof this||!a(h)){return !1}if(!a(this.prototype)){return h instanceof this}for(;h=e(h);){if(this.prototype===h){return !0}}return !1}})},function(b,a,d){var e=d(158),c=d(232);e(e.G+e.F*(parseInt!=c),{parseInt:c})},function(c,b,g){var f=g(154).parseInt,e=g(233).trim,a=g(234),d=/^[\-+]?0[xX]/;c.exports=8!==f(a+"08")||22!==f(a+"0x16")?function(j,i){var h=e(String(j),3);return f(h,i>>>0||(d.test(h)?16:10))}:f},function(e,j,d){var h=d(158),i=d(185),b=d(157),l=d(234),a="["+l+"]",k="",m=RegExp("^"+a+a+"*"),g=RegExp(a+a+"*$"),c=function(o,n,p){var s={},r=b(function(){return !!l[o]()||k[o]()!=k}),q=s[o]=r?n(f):l[o];p&&(s[p]=q),h(h.P+h.F*r,"String",s)},f=c.trim=function(n,o){return n=String(i(n)),1&o&&(n=n.replace(m,"")),2&o&&(n=n.replace(g,"")),n};e.exports=c},function(b,a){b.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(c,b,d){var e=d(158),a=d(236);e(e.G+e.F*(parseFloat!=a),{parseFloat:a})},function(c,b,e){var a=e(154).parseFloat,d=e(233).trim;c.exports=1/a(e(234)+"-0")!==-(1/0)?function(h){var g=d(String(h),3),f=a(g);return 0===f&&"-"==g.charAt(0)?-0:f}:a},function(b,v,d){var p=d(154),c=d(155),g=d(184),h=d(238),e=d(166),t=d(157),o=d(200).f,u=d(201).f,f=d(161).f,w=d(233).trim,m="Number",q=p[m],i=q,n=q.prototype,l=g(d(196)(n))==m,a="trim" in String.prototype,s=function(j){var C=e(j,!1);if("string"==typeof C&&C.length>2){C=a?C.trim():w(C,3);var E,F,G,D=C.charCodeAt(0);if(43===D||45===D){if(E=C.charCodeAt(2),88===E||120===E){return NaN}}else{if(48===D){switch(C.charCodeAt(1)){case 66:case 98:F=2,G=49;break;case 79:case 111:F=8,G=55;break;default:return +C}for(var y,z=C.slice(2),B=0,A=z.length;B<A;B++){if(y=z.charCodeAt(B),y<48||y>G){return NaN}}return parseInt(z,F)}}}return +C};if(!q(" 0o1")||!q("0b1")||q("+0x1")){q=function(z){var j=arguments.length<1?0:z,y=this;return y instanceof q&&(l?t(function(){n.valueOf.call(y)}):g(y)!=m)?h(new i(s(j)),y,q):s(j)};for(var x,k=d(156)?o(i):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),r=0;k.length>r;r++){c(i,x=k[r])&&!c(q,x)&&f(q,x,u(i,x))}q.prototype=n,n.constructor=q,d(168)(p,m,q)}},function(c,b,d){var a=d(163),e=d(223).set;c.exports=function(g,i,j){var h,f=i.constructor;return f!==j&&"function"==typeof f&&(h=f.prototype)!==j.prototype&&a(h)&&e&&e(g,h),g}},function(d,j,c){var f=c(158),p=c(188),g=c(240),b=c(241),q=(1).toFixed,m=Math.floor,l=[0,0,0,0,0,0],i="Number.toFixed: incorrect invocation!",o="0",a=function(u,t){for(var s=-1,r=t;++s<6;){r+=u*l[s],l[s]=r%10000000,r=m(r/10000000)}},k=function(t){for(var r=6,s=0;--r>=0;){s+=l[r],l[r]=m(s/t),s=s%t*10000000}},e=function(){for(var u=6,v="";--u>=0;){if(""!==v||0===u||0!==l[u]){var r=String(l[u]);v=""===v?r:v+b.call(o,7-r.length)+r}}return v},n=function(r,t,s){return 0===t?s:t%2===1?n(r,t-1,s*r):n(r*r,t/2,s)},h=function(r){for(var t=0,s=r;s>=4096;){t+=12,s/=4096}for(;s>=2;){t+=1,s/=2}return t};f(f.P+f.F*(!!q&&("0.000"!==0.00008.toFixed(3)||"1"!==0.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(1000000000000000100).toFixed(0))||!c(157)(function(){q.call({})})),"Number",{toFixed:function(B){var w,y,u,t,A=g(this,i),v=p(B),C="",r=o;if(v<0||v>20){throw RangeError(i)}if(A!=A){return"NaN"}if(A<=-1e+21||A>=1e+21){return String(A)}if(A<0&&(C="-",A=-A),A>1e-21){if(w=h(A*n(2,69,1))-69,y=w<0?A*n(2,-w,1):A/n(2,w,1),y*=4503599627370496,w=52-w,w>0){for(a(0,y),u=v;u>=7;){a(10000000,0),u-=7}for(a(n(10,u,1),0),u=w-1;u>=23;){k(1<<23),u-=23}k(1<<u),a(1,1),k(2),r=e()}else{a(0,y),a(1<<-w,0),r=e()+b.call(o,v)}}return v>0?(t=r.length,r=C+(t<=v?"0."+b.call(o,v-t)+r:r.slice(0,t-v)+"."+r.slice(t-v))):r=C+r,r}})},function(b,a,c){var d=c(184);b.exports=function(e,f){if("number"!=typeof e&&"Number"!=d(e)){throw TypeError(f)}return +e}},function(c,b,d){var a=d(188),e=d(185);c.exports=function(g){var h=String(e(this)),f="",i=a(g);if(i<0||i==1/0){throw RangeError("Count can't be negative")}for(;i>0;(i>>>=1)&&(h+=h)){1&i&&(f+=h)}return f}},function(c,a,d){var g=d(158),e=d(157),b=d(240),f=(1).toPrecision;g(g.P+g.F*(e(function(){return"1"!==f.call(1,void 0)})||!e(function(){f.call({})})),"Number",{toPrecision:function(h){var i=b(this,"Number#toPrecision: incorrect invocation!");return void 0===h?f.call(i):f.call(i,h)}})},function(b,a,c){var d=c(158);d(d.S,"Number",{EPSILON:Math.pow(2,-52)})},function(b,a,d){var e=d(158),c=d(154).isFinite;e(e.S,"Number",{isFinite:function(f){return"number"==typeof f&&c(f)}})},function(b,a,c){var d=c(158);d(d.S,"Number",{isInteger:c(246)})},function(c,b,e){var a=e(163),d=Math.floor;c.exports=function(f){return !a(f)&&isFinite(f)&&d(f)===f}},function(b,a,c){var d=c(158);d(d.S,"Number",{isNaN:function(e){return e!=e}})},function(c,b,e){var f=e(158),d=e(246),a=Math.abs;f(f.S,"Number",{isSafeInteger:function(g){return d(g)&&a(g)<=9007199254740991}})},function(b,a,c){var d=c(158);d(d.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(b,a,c){var d=c(158);d(d.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(c,b,d){var e=d(158),a=d(236);e(e.S+e.F*(Number.parseFloat!=a),"Number",{parseFloat:a})},function(b,a,d){var e=d(158),c=d(232);e(e.S+e.F*(Number.parseInt!=c),"Number",{parseInt:c})},function(b,a,e){var g=e(158),f=e(254),d=Math.sqrt,c=Math.acosh;g(g.S+g.F*!(c&&710==Math.floor(c(Number.MAX_VALUE))&&c(1/0)==1/0),"Math",{acosh:function(h){return(h=+h)<1?NaN:h>94906265.62425156?Math.log(h)+Math.LN2:f(h-1+d(h-1)*d(h+1))}})},function(b,a){b.exports=Math.log1p||function(c){return(c=+c)>-1e-8&&c<1e-8?c-c*c/2:Math.log(1+c)}},function(b,a,d){function e(g){return isFinite(g=+g)&&0!=g?g<0?-e(-g):Math.log(g+Math.sqrt(g*g+1)):g}var f=d(158),c=Math.asinh;f(f.S+f.F*!(c&&1/c(0)>0),"Math",{asinh:e})},function(c,b,d){var e=d(158),a=Math.atanh;e(e.S+e.F*!(a&&1/a(-0)<0),"Math",{atanh:function(f){return 0==(f=+f)?f:Math.log((1+f)/(1-f))/2}})},function(c,b,d){var e=d(158),a=d(258);e(e.S,"Math",{cbrt:function(f){return a(f=+f)*Math.pow(Math.abs(f),1/3)}})},function(b,a){b.exports=Math.sign||function(c){return 0==(c=+c)||c!=c?c:c<0?-1:1}},function(b,a,c){var d=c(158);d(d.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+0.5)*Math.LOG2E):32}})},function(b,a,c){var e=c(158),d=Math.exp;e(e.S,"Math",{cosh:function(f){return(d(f=+f)+d(-f))/2}})},function(b,a,d){var e=d(158),c=d(262);e(e.S+e.F*(c!=Math.expm1),"Math",{expm1:c})},function(b,a){var c=Math.expm1;b.exports=!c||c(10)>22025.465794806718||c(10)<22025.465794806718||c(-2e-17)!=-2e-17?function(d){return 0==(d=+d)?d:d>-0.000001&&d<0.000001?d+d*d/2:Math.exp(d)-1}:c},function(b,g,a){var f=a(158),c=a(258),i=Math.pow,e=i(2,-52),k=i(2,-23),h=i(2,127)*(2-k),d=i(2,-126),j=function(l){return l+1/e-1/e};f(f.S,"Math",{fround:function(m){var n,l,o=Math.abs(m),p=c(m);return o<d?p*j(o/d/k)*d*k:(n=(1+k/e)*o,l=n-(n-o),l>h||l!=l?p*(1/0):p*l)}})},function(c,b,d){var e=d(158),a=Math.abs;e(e.S,"Math",{hypot:function(j,g){for(var f,n,l=0,k=0,h=arguments.length,m=0;k<h;){f=a(arguments[k++]),m<f?(n=m/f,l=l*n*n+1,m=f):f>0?(n=f/m,l+=n*n):l+=f}return m===1/0?1/0:m*Math.sqrt(l)}})},function(b,a,d){var e=d(158),c=Math.imul;e(e.S+e.F*d(157)(function(){return c(4294967295,5)!=-5||2!=c.length}),"Math",{imul:function(f,l){var h=65535,i=+f,k=+l,j=h&i,g=h&k;return 0|j*g+((h&i>>>16)*g+j*(h&k>>>16)<<16>>>0)}})},function(b,a,c){var d=c(158);d(d.S,"Math",{log10:function(e){return Math.log(e)/Math.LN10}})},function(b,a,c){var d=c(158);d(d.S,"Math",{log1p:c(254)})},function(b,a,c){var d=c(158);d(d.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(b,a,c){var d=c(158);d(d.S,"Math",{sign:c(258)})},function(b,a,c){var f=c(158),e=c(262),d=Math.exp;f(f.S+f.F*c(157)(function(){return !Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(g){return Math.abs(g=+g)<1?(e(g)-e(-g))/2:(d(g-1)-d(-g-1))*(Math.E/2)}})},function(b,a,c){var f=c(158),e=c(262),d=Math.exp;f(f.S,"Math",{tanh:function(h){var i=e(h=+h),g=e(-h);return i==1/0?1:g==1/0?-1:(i-g)/(d(h)+d(-h))}})},function(b,a,c){var d=c(158);d(d.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(d,a,f){var g=f(158),e=f(189),c=String.fromCharCode,b=String.fromCodePoint;g(g.S+g.F*(!!b&&1!=b.length),"String",{fromCodePoint:function(h){for(var m,l=[],j=arguments.length,k=0;j>k;){if(m=+arguments[k++],e(m,1114111)!==m){throw RangeError(m+" is not a valid code point")}l.push(m<65536?c(m):c(((m-=65536)>>10)+55296,m%1024+56320))}return l.join("")}})},function(c,b,d){var f=d(158),e=d(182),a=d(187);f(f.S,"String",{raw:function(m){for(var j=e(m.raw),g=a(j.length),h=arguments.length,l=[],k=0;g>k;){l.push(String(j[k++])),k<h&&l.push(String(arguments[k]))}return l.join("")}})},function(b,a,c){c(233)("trim",function(d){return function(){return d(this,3)}})},function(b,a,c){var d=c(277)(!0);c(278)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,g=this._t,f=this._i;return f>=g.length?{value:void 0,done:!0}:(e=d(g,f),this._i+=e.length,{value:e,done:!1})})},function(c,b,d){var a=d(188),e=d(185);c.exports=function(f){return function(n,o){var j,g,m=String(e(n)),k=a(o),h=m.length;return k<0||k>=h?f?"":void 0:(j=m.charCodeAt(k),j<55296||j>56319||k+1===h||(g=m.charCodeAt(k+1))<56320||g>57343?f?m.charAt(k):j:f?m.slice(k,k+2):(j-55296<<10)+(g-56320)+65536)}}},function(a,q,d){var f=d(178),r=d(158),j=d(168),i=d(160),b=d(155),h=d(279),n=d(280),l=d(174),c=d(209),e=d(175)("iterator"),p=!([].keys&&"next" in [].keys()),g="@@iterator",o="keys",k="values",m=function(){return this};a.exports=function(z,w,x,C,F,E,K){n(x,w,C);var G,J,A,t=function(L){if(!p&&L in B){return B[L]}switch(L){case o:return function(){return new x(this,L)};case k:return function(){return new x(this,L)}}return function(){return new x(this,L)}},u=w+" Iterator",y=F==k,I=!1,B=z.prototype,H=B[e]||B[g]||F&&B[F],v=H||t(F),s=F?y?t("entries"):v:void 0,D="Array"==w?B.entries||H:H;if(D&&(A=c(D.call(new z())),A!==Object.prototype&&(l(A,u,!0),f||b(A,e)||i(A,e,m))),y&&H&&H.name!==k&&(I=!0,v=function(){return H.call(this)}),f&&!K||!p&&!I&&B[e]||i(B,e,v),h[w]=v,h[u]=m,F){if(G={values:y?v:t(k),keys:E?v:t(o),entries:s},K){for(J in G){J in B||j(B,J,G[J])}}else{r(r.P+r.F*(p||I),w,G)}}return G}},function(b,a){b.exports={}},function(e,b,g){var d=g(196),f=g(167),c=g(174),a={};g(160)(a,g(175)("iterator"),function(){return this}),e.exports=function(j,i,h){j.prototype=d(a,{next:f(1,h)}),c(j,i+" Iterator")}},function(b,a,c){var e=c(158),d=c(277)(!1);e(e.P,"String",{codePointAt:function(f){return d(this,f)}})},function(f,c,g){var h=g(158),b=g(187),e=g(283),d="endsWith",a=""[d];h(h.P+h.F*g(285)(d),"String",{endsWith:function(k){var n=e(this,k,d),m=arguments.length>1?arguments[1]:void 0,i=b(n.length),j=void 0===m?i:Math.min(b(m),i),l=String(k);return a?a.call(n,l,j):n.slice(j-l.length,j)===l}})},function(c,b,d){var a=d(284),e=d(185);c.exports=function(g,f,h){if(a(f)){throw TypeError("String#"+h+" doesn't accept regex!")}return String(e(g))}},function(d,b,e){var a=e(163),f=e(184),c=e(175)("match");d.exports=function(h){var g;return a(h)&&(void 0!==(g=h[c])?!!g:"RegExp"==f(h))}},function(c,a,d){var b=d(175)("match");c.exports=function(g){var h=/./;try{"/./"[g](h)}catch(j){try{return h[b]=!1,!"/./"[g](h)}catch(i){}}return !0}},function(d,b,e){var f=e(158),c=e(283),a="includes";f(f.P+f.F*e(285)(a),"String",{includes:function(g){return !!~c(this,g,a).indexOf(g,arguments.length>1?arguments[1]:void 0)}})},function(b,a,c){var d=c(158);d(d.P,"String",{repeat:c(241)})},function(e,b,f){var h=f(158),a=f(187),d=f(283),g="startsWith",c=""[g];h(h.P+h.F*f(285)(g),"String",{startsWith:function(j){var l=d(this,j,g),i=a(Math.min(arguments.length>1?arguments[1]:void 0,l.length)),k=String(j);return c?c.call(l,k,i):l.slice(i,i+k.length)===k}})},function(b,a,c){c(290)("anchor",function(d){return function(e){return d(this,"a","name",e)}})},function(e,c,f){var h=f(158),a=f(157),g=f(185),b=/"/g,d=function(j,i,l,m){var k=String(g(j)),n="<"+i;return""!==l&&(n+=" "+l+'="'+String(m).replace(b,"&quot;")+'"'),n+">"+k+"</"+i+">"};e.exports=function(k,i){var j={};j[k]=i(d),h(h.P+h.F*a(function(){var l=""[k]('"');return l!==l.toLowerCase()||l.split('"').length>3}),"String",j)}},function(b,a,c){c(290)("big",function(d){return function(){return d(this,"big","","")}})},function(b,a,c){c(290)("blink",function(d){return function(){return d(this,"blink","","")}})},function(b,a,c){c(290)("bold",function(d){return function(){return d(this,"b","","")}})},function(b,a,c){c(290)("fixed",function(d){return function(){return d(this,"tt","","")}})},function(b,a,c){c(290)("fontcolor",function(d){return function(e){return d(this,"font","color",e)}})},function(b,a,c){c(290)("fontsize",function(d){return function(e){return d(this,"font","size",e)}})},function(b,a,c){c(290)("italics",function(d){return function(){return d(this,"i","","")}})},function(b,a,c){c(290)("link",function(d){return function(e){return d(this,"a","href",e)}})},function(b,a,c){c(290)("small",function(d){return function(){return d(this,"small","","")}})},function(b,a,c){c(290)("strike",function(d){return function(){return d(this,"strike","","")}})},function(b,a,c){c(290)("sub",function(d){return function(){return d(this,"sub","","")}})},function(b,a,c){c(290)("sup",function(d){return function(){return d(this,"sup","","")}})},function(b,a,c){var d=c(158);d(d.S,"Date",{now:function(){return new Date().getTime()}})},function(c,a,e){var f=e(158),d=e(208),b=e(166);f(f.P+f.F*e(157)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(g){var i=d(this),h=b(i);return"number"!=typeof h||isFinite(h)?i.toISOString():null}})},function(d,c,f){var g=f(158),b=f(157),a=Date.prototype.getTime,e=function(h){return h>9?h:"0"+h};g(g.P+g.F*(b(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-50000000000000-1).toISOString()})||!b(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(a.call(this))){throw RangeError("Invalid time value")}var j=this,k=j.getUTCFullYear(),h=j.getUTCMilliseconds(),i=k<0?"-":k>9999?"+":"";return i+("00000"+Math.abs(k)).slice(i?-6:-4)+"-"+e(j.getUTCMonth()+1)+"-"+e(j.getUTCDate())+"T"+e(j.getUTCHours())+":"+e(j.getUTCMinutes())+":"+e(j.getUTCSeconds())+"."+(h>99?h:"0"+e(h))+"Z"}})},function(e,b,g){var c=Date.prototype,h="Invalid Date",f="toString",d=c[f],a=c.getTime;new Date(NaN)+""!=h&&g(168)(c,f,function(){var i=a.call(this);return i===i?d.call(this):h})},function(c,b,e){var a=e(175)("toPrimitive"),d=Date.prototype;a in d||e(160)(d,a,e(308))},function(d,b,f){var a=f(162),c=f(166),e="number";d.exports=function(g){if("string"!==g&&g!==e&&"default"!==g){throw TypeError("Incorrect hint")}return c(a(this),g!=e)}},function(b,a,c){var d=c(158);d(d.S,"Array",{isArray:c(195)})},function(b,d,a){var h=a(170),c=a(158),j=a(208),k=a(311),e=a(312),g=a(187),f=a(313),i=a(314);c(c.S+c.F*!a(315)(function(l){Array.from(l)}),"Array",{from:function(v){var n,w,o,s,u=j(v),m="function"==typeof this?this:Array,q=arguments.length,p=q>1?arguments[1]:void 0,l=void 0!==p,t=0,r=i(u);if(l&&(p=h(p,q>2?arguments[2]:void 0,2)),void 0==r||m==Array&&e(r)){for(n=g(u.length),w=new m(n);n>t;t++){f(w,t,l?p(u[t],t):u[t])}}else{for(s=r.call(u),w=new m();!(o=s.next()).done;t++){f(w,t,l?k(s,p,[o.value,t],!0):o.value)}}return w.length=t,w}})},function(c,b,d){var a=d(162);c.exports=function(i,h,j,f){try{return f?h(a(j)[0],j[1]):h(j)}catch(k){var g=i["return"];throw void 0!==g&&a(g.call(i)),k}}},function(d,c,f){var e=f(279),b=f(175)("iterator"),a=Array.prototype;d.exports=function(g){return void 0!==g&&(e.Array===g||a[b]===g)}},function(d,b,e){var c=e(161),a=e(167);d.exports=function(g,f,h){f in g?c.f(g,f,a(0,h)):g[f]=h}},function(d,b,f){var c=f(225),a=f(175)("iterator"),e=f(279);d.exports=f(159).getIteratorMethod=function(g){if(void 0!=g){return g[a]||g["@@iterator"]||e[c(g)]}}},function(f,b,h){var a=h(175)("iterator"),d=!1;try{var c=[7][a]();c["return"]=function(){d=!0},Array.from(c,function(){throw 2})}catch(g){}f.exports=function(k,l){if(!l&&!d){return !1}var m=!1;try{var i=[7],j=i[a]();j.next=function(){return{done:m=!0}},i[a]=function(){return j},k(i)}catch(n){}return m}},function(b,a,d){var e=d(158),c=d(313);e(e.S+e.F*d(157)(function(){function f(){}return !(Array.of.call(f) instanceof f)}),"Array",{of:function(){for(var h=0,g=arguments.length,f=new ("function"==typeof this?this:Array)(g);g>h;){c(f,h,arguments[h++])}return f.length=g,f}})},function(c,b,d){var f=d(158),e=d(182),a=[].join;f(f.P+f.F*(d(183)!=Object||!d(318)(a)),"Array",{join:function(g){return a.call(e(this),void 0===g?",":g)}})},function(c,b,d){var a=d(157);c.exports=function(f,e){return !!f&&a(function(){e?f.call(null,function(){},1):f.call(null)})}},function(c,f,b){var d=b(158),h=b(198),g=b(184),e=b(189),i=b(187),a=[].slice;d(d.P+d.F*b(157)(function(){h&&a.call(h)}),"Array",{slice:function(k,l){var o=i(this.length),p=g(this);if(l=void 0===l?o:l,"Array"==p){return a.call(this,k,l)}for(var j=e(k,o),q=e(l,o),r=i(q-j),n=Array(r),m=0;m<r;m++){n[m]="String"==p?this.charAt(j+m):this[j+m]}return n}})},function(c,g,b){var f=b(158),d=b(171),i=b(208),a=b(157),e=[].sort,h=[1,2,3];f(f.P+f.F*(a(function(){h.sort(void 0)})||!a(function(){h.sort(null)})||!b(318)(e)),"Array",{sort:function(j){return void 0===j?e.call(i(this)):e.call(i(this),d(j))}})},function(c,b,e){var f=e(158),d=e(322)(0),a=e(318)([].forEach,!0);f(f.P+f.F*!a,"Array",{forEach:function(g){return d(this,g,arguments[1])}})},function(d,c,g){var b=g(170),h=g(183),f=g(208),a=g(187),e=g(323);d.exports=function(q,i){var k=1==q,m=2==q,p=3==q,l=4==q,o=6==q,j=5==q||o,n=i||e;return function(z,t,x){for(var s,y,v=f(z),A=h(v),w=b(t,x,3),r=a(A.length),u=0,B=k?n(z,r):m?n(z,0):void 0;r>u;u++){if((j||u in A)&&(s=A[u],y=w(s,u,v),q)){if(k){B[u]=y}else{if(y){switch(q){case 3:return !0;case 5:return s;case 6:return u;case 2:B.push(s)}}else{if(l){return !1}}}}}return o?-1:p||l?l:B}}},function(b,a,d){var c=d(324);b.exports=function(e,f){return new (c(e))(f)}},function(d,c,e){var a=e(163),b=e(195),f=e(175)("species");d.exports=function(g){var h;return b(g)&&(h=g.constructor,"function"!=typeof h||h!==Array&&!b(h.prototype)||(h=void 0),a(h)&&(h=h[f],null===h&&(h=void 0))),void 0===h?Array:h}},function(b,a,c){var e=c(158),d=c(322)(1);e(e.P+e.F*!c(318)([].map,!0),"Array",{map:function(f){return d(this,f,arguments[1])}})},function(b,a,d){var e=d(158),c=d(322)(2);e(e.P+e.F*!d(318)([].filter,!0),"Array",{filter:function(f){return c(this,f,arguments[1])}})},function(b,a,d){var e=d(158),c=d(322)(3);e(e.P+e.F*!d(318)([].some,!0),"Array",{some:function(f){return c(this,f,arguments[1])}})},function(b,a,d){var e=d(158),c=d(322)(4);e(e.P+e.F*!d(318)([].every,!0),"Array",{every:function(f){return c(this,f,arguments[1])}})},function(c,b,d){var e=d(158),a=d(330);e(e.P+e.F*!d(318)([].reduce,!0),"Array",{reduce:function(f){return a(this,f,arguments.length,arguments[1],!1)}})},function(d,c,f){var b=f(171),e=f(208),g=f(183),a=f(187);d.exports=function(o,l,j,q,p){b(l);var n=e(o),r=g(n),h=a(n.length),m=p?h-1:0,k=p?-1:1;if(j<2){for(;;){if(m in r){q=r[m],m+=k;break}if(m+=k,p?m<0:h<=m){throw TypeError("Reduce of empty array with no initial value")}}}for(;p?m>=0:h>m;m+=k){m in r&&(q=l(q,r[m],m,n))}return q}},function(c,b,d){var e=d(158),a=d(330);e(e.P+e.F*!d(318)([].reduceRight,!0),"Array",{reduceRight:function(f){return a(this,f,arguments.length,arguments[1],!0)}})},function(c,a,e){var g=e(158),b=e(186)(!1),d=[].indexOf,f=!!d&&1/[1].indexOf(1,-0)<0;g(g.P+g.F*(f||!e(318)(d)),"Array",{indexOf:function(h){return f?d.apply(this,arguments)||0:b(this,h,arguments[1])}})},function(c,f,b){var e=b(158),d=b(182),g=b(188),h=b(187),i=[].lastIndexOf,a=!!i&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(a||!b(318)(i)),"Array",{lastIndexOf:function(k){if(a){return i.apply(this,arguments)||0}var m=d(this),l=h(m.length),j=l-1;for(arguments.length>1&&(j=Math.min(j,g(arguments[1]))),j<0&&(j=l+j);j>=0;j--){if(j in m&&m[j]===k){return j||0}}return -1}})},function(b,a,c){var d=c(158);d(d.P,"Array",{copyWithin:c(335)}),c(336)("copyWithin")},function(c,b,f){var e=f(208),d=f(189),a=f(187);c.exports=[].copyWithin||function(m,g){var j=e(this),l=a(j.length),n=d(m,l),o=d(g,l),i=arguments.length>2?arguments[2]:void 0,k=Math.min((void 0===i?l:d(i,l))-o,l-n),h=1;for(o<n&&n<o+k&&(h=-1,o+=k-1,n+=k-1);k-->0;){o in j?j[n]=j[o]:delete j[n],n+=h,o+=h}return j}},function(c,b,d){var e=d(175)("unscopables"),a=Array.prototype;void 0==a[e]&&d(160)(a,e,{}),c.exports=function(f){a[e][f]=!0}},function(b,a,c){var d=c(158);d(d.P,"Array",{fill:c(338)}),c(336)("fill")},function(c,b,f){var e=f(208),d=f(189),a=f(187);c.exports=function(l){for(var m=e(this),k=a(m.length),h=arguments.length,j=d(h>1?arguments[1]:void 0,k),g=h>2?arguments[2]:void 0,i=void 0===g?k:d(g,k);i>j;){m[j++]=l}return m}},function(c,b,f){var g=f(158),d=f(322)(5),a="find",e=!0;a in []&&Array(1)[a](function(){e=!1}),g(g.P+g.F*e,"Array",{find:function(h){return d(this,h,arguments.length>1?arguments[1]:void 0)}}),f(336)(a)},function(c,b,f){var g=f(158),d=f(322)(6),a="findIndex",e=!0;a in []&&Array(1)[a](function(){e=!1}),g(g.P+g.F*e,"Array",{findIndex:function(h){return d(this,h,arguments.length>1?arguments[1]:void 0)}}),f(336)(a)},function(b,a,c){c(342)("Array")},function(c,b,e){var d=e(154),f=e(161),a=e(156),g=e(175)("species");c.exports=function(h){var i=d[h];a&&i&&!i[g]&&f.f(i,g,{configurable:!0,get:function(){return this}})}},function(b,a,f){var e=f(336),d=f(344),c=f(279),g=f(182);b.exports=f(278)(Array,"Array",function(i,h){this._t=g(i),this._i=0,this._k=h},function(){var j=this._t,i=this._k,h=this._i++;return !j||h>=j.length?(this._t=void 0,d(1)):"keys"==i?d(0,h):"values"==i?d(0,j[h]):d(0,[h,j[h]])},"values"),c.Arguments=c.Array,e("keys"),e("values"),e("entries")},function(b,a){b.exports=function(c,d){return{value:d,done:!!c}}},function(a,s,b){var m=b(154),g=b(238),c=b(161).f,l=b(200).f,p=b(284),r=b(346),d=m.RegExp,h=d,k=d.prototype,f=/a/g,e=/a/g,q=new d(f)!==f;if(b(156)&&(!q||b(157)(function(){return e[b(175)("match")]=!1,d(f)!=f||d(e)==e||"/a/i"!=d(f,"i")}))){d=function(v,t){var u=this instanceof d,w=p(v),i=void 0===t;return !u&&w&&v.constructor===d&&i?v:g(q?new h(w&&!i?v.source:v,t):h((w=v instanceof d)?v.source:v,w&&i?r.call(v):t),u?this:k,d)};for(var o=(function(i){i in d||c(d,i,{configurable:!0,get:function(){return h[i]},set:function(t){h[i]=t}})}),j=l(h),n=0;j.length>n;){o(j[n++])}k.constructor=d,d.prototype=k,b(168)(m,"RegExp",d)}b(342)("RegExp")},function(c,b,d){var a=d(162);c.exports=function(){var f=a(this),e="";return f.global&&(e+="g"),f.ignoreCase&&(e+="i"),f.multiline&&(e+="m"),f.unicode&&(e+="u"),f.sticky&&(e+="y"),e}},function(c,d,b){b(348);var h=b(162),a=b(346),f=b(156),i="toString",g=/./[i],e=function(j){b(168)(RegExp.prototype,i,j,!0)};b(157)(function(){return"/a/b"!=g.call({source:"a",flags:"b"})})?e(function(){var j=h(this);return"/".concat(j.source,"/","flags" in j?j.flags:!f&&j instanceof RegExp?a.call(j):void 0)}):g.name!=i&&e(function(){return g.call(this)})},function(b,a,c){c(156)&&"g"!=/./g.flags&&c(161).f(RegExp.prototype,"flags",{configurable:!0,get:c(346)})},function(b,a,c){c(350)("match",1,function(f,e,d){return[function(h){var i=f(this),g=void 0==h?void 0:h[e];return void 0!==g?g.call(h,i):new RegExp(h)[e](String(i))},d]})},function(d,b,f){var c=f(160),h=f(168),a=f(157),g=f(185),e=f(175);d.exports=function(k,n,j){var m=e(k),l=j(g,m,""[k]),i=l[0],o=l[1];a(function(){var p={};return p[m]=function(){return 7},7!=""[k](p)})&&(h(String.prototype,k,i),c(RegExp.prototype,m,2==n?function(q,p){return o.call(q,this,p)}:function(p){return o.call(p,this)}))}},function(b,a,c){c(350)("replace",2,function(e,f,d){return[function(i,g){var j=e(this),h=void 0==i?void 0:i[f];return void 0!==h?h.call(i,j,g):d.call(String(j),i,g)},d]})},function(b,a,c){c(350)("search",1,function(f,d,e){return[function(h){var i=f(this),g=void 0==h?void 0:h[d];return void 0!==g?g.call(h,i):new RegExp(h)[d](String(i))},e]})},function(b,a,c){c(350)("split",2,function(g,i,l){var e=c(284),m=l,j=[].push,h="split",d="length",f="lastIndex";if("c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[d]||2!="ab"[h](/(?:ab)*/)[d]||4!="."[h](/(.?)(.?)/)[d]||"."[h](/()()/)[d]>1||""[h](/.?/)[d]){var k=void 0===/()??/.exec("")[1];l=function(u,r){var x=String(this);if(void 0===u&&0===r){return[]}if(!e(u)){return m.call(x,u,r)}var o,v,w,y,t,q=[],p=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(u.sticky?"y":""),n=0,z=void 0===r?4294967295:r>>>0,s=new RegExp(u.source,p+"g");for(k||(o=new RegExp("^"+s.source+"$(?!\\s)",p));(v=s.exec(x))&&(w=v.index+v[0][d],!(w>n&&(q.push(x.slice(n,v.index)),!k&&v[d]>1&&v[0].replace(o,function(){for(t=1;t<arguments[d]-2;t++){void 0===arguments[t]&&(v[t]=void 0)}}),v[d]>1&&v.index<x[d]&&j.apply(q,v.slice(1)),y=v[0][d],n=w,q[d]>=z)));){s[f]===v.index&&s[f]++}return n===x[d]?!y&&s.test("")||q.push(""):q.push(x.slice(n)),q[d]>z?q.slice(0,z):q}}else{"0"[h](void 0,0)[d]&&(l=function(o,n){return void 0===o&&0===n?[]:m.call(this,o,n)})}return[function(q,n){var p=g(this),o=void 0==q?void 0:q[i];return void 0!==o?o.call(q,p,n):l.call(String(p),q,n)},l]})},function(d,C,h){var s,x,p,j=h(178),b=h(154),q=h(170),c=h(225),e=h(158),z=h(163),D=h(171),n=h(355),u=h(356),w=h(357),y=h(358).set,f=h(359)(),k="Promise",H=b.TypeError,G=b.process,r=b[k],G=b.process,g="process"==c(G),a=function(){},o=!!function(){try{var M=r.resolve(1),K=(M.constructor={})[h(175)("species")]=function(N){N(a,a)};return(g||"function"==typeof PromiseRejectionEvent)&&M.then(a) instanceof K}catch(L){}}(),J=function(L,K){return L===K||L===r&&K===p},B=function(K){var L;return !(!z(K)||"function"!=typeof(L=K.then))&&L},I=function(K){return J(r,K)?new A(K):new x(K)},A=x=function(M){var L,K;this.promise=new M(function(N,O){if(void 0!==L||void 0!==K){throw H("Bad Promise constructor")}L=N,K=O}),this.resolve=D(L),this.reject=D(K)},E=function(K){try{K()}catch(L){return{error:L}}},l=function(M,L){if(!M._n){M._n=!0;var K=M._c;f(function(){for(var P=M._v,O=1==M._s,N=0,Q=function(W){var R,Y,S=O?W.ok:W.fail,V=W.resolve,U=W.reject,T=W.domain;try{S?(O||(2==M._h&&v(M),M._h=1),S===!0?R=P:(T&&T.enter(),R=S(P),T&&T.exit()),R===W.promise?U(H("Promise-chain cycle")):(Y=B(R))?Y.call(R,V,U):V(R)):U(P)}catch(X){U(X)}};K.length>N;){Q(K[N++])}M._c=[],M._n=!1,L&&!M._h&&F(M)})}},F=function(K){y.call(b,function(){var O,M,L,N=K._v;if(m(K)&&(O=E(function(){g?G.emit("unhandledRejection",N,K):(M=b.onunhandledrejection)?M({promise:K,reason:N}):(L=b.console)&&L.error&&L.error("Unhandled promise rejection",N)}),K._h=g||m(K)?2:1),K._a=void 0,O){throw O.error}})},m=function(N){if(1==N._h){return !1}for(var M,L=N._a||N._c,K=0;L.length>K;){if(M=L[K++],M.fail||!m(M.promise)){return !1}}return !0},v=function(K){y.call(b,function(){var L;g?G.emit("rejectionHandled",K):(L=b.onrejectionhandled)&&L({promise:K,reason:K._v})})},t=function(K){var L=this;L._d||(L._d=!0,L=L._w||L,L._v=K,L._s=2,L._a||(L._a=L._c.slice()),l(L,!0))},i=function(K){var N,M=this;if(!M._d){M._d=!0,M=M._w||M;try{if(M===K){throw H("Promise can't be resolved itself")}(N=B(K))?f(function(){var P={_w:M,_d:!1};try{N.call(K,q(i,P,1),q(t,P,1))}catch(O){t.call(P,O)}}):(M._v=K,M._s=1,l(M,!1))}catch(L){t.call({_w:M,_d:!1},L)}}};o||(r=function(L){n(this,r,k,"_h"),D(L),s.call(this);try{L(q(i,this,1),q(t,this,1))}catch(K){t.call(this,K)}},s=function(K){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},s.prototype=h(360)(r.prototype,{then:function(M,K){var L=I(w(this,r));return L.ok="function"!=typeof M||M,L.fail="function"==typeof K&&K,L.domain=g?G.domain:void 0,this._c.push(L),this._a&&this._a.push(L),this._s&&l(this,!1),L.promise},"catch":function(K){return this.then(void 0,K)}}),A=function(){var K=new s();this.promise=K,this.resolve=q(i,K,1),this.reject=q(t,K,1)}),e(e.G+e.W+e.F*!o,{Promise:r}),h(174)(r,k),h(342)(k),p=h(159)[k],e(e.S+e.F*!o,k,{reject:function(L){var K=I(this),M=K.reject;return M(L),K.promise}}),e(e.S+e.F*(j||!o),k,{resolve:function(K){if(K instanceof r&&J(K.constructor,this)){return K}var M=I(this),L=M.resolve;return L(K),M.promise}}),e(e.S+e.F*!(o&&h(315)(function(K){r.all(K)["catch"](a)})),k,{all:function(N){var O=this,K=I(O),M=K.resolve,L=K.reject,P=E(function(){var Q=[],R=0,S=1;u(N,!1,function(V){var T=R++,U=!1;Q.push(void 0),S++,O.resolve(V).then(function(W){U||(U=!0,Q[T]=W,--S||M(Q))},L)}),--S||M(Q)});return P&&L(P.error),K.promise},race:function(M){var N=this,K=I(N),L=K.reject,O=E(function(){u(M,!1,function(P){N.resolve(P).then(K.resolve,L)})});return O&&L(O.error),K.promise}})},function(b,a){b.exports=function(e,f,c,d){if(!(e instanceof f)||void 0!==d&&d in e){throw TypeError(c+": incorrect invocation!")}return e}},function(b,c,a){var h=a(170),k=a(311),d=a(312),e=a(162),f=a(187),j=a(314),i={},g={},c=b.exports=function(l,q,v,t,u){var m,n,p,w,o=u?function(){return l}:j(l),s=h(v,t,q?2:1),r=0;if("function"!=typeof o){throw TypeError(l+" is not iterable!")}if(d(o)){for(m=f(l.length);m>r;r++){if(w=q?s(e(n=l[r])[0],n[1]):s(l[r]),w===i||w===g){return w}}}else{for(p=o.call(l);!(n=p.next()).done;){if(w=k(p,s,n.value,q),w===i||w===g){return w}}}};c.BREAK=i,c.RETURN=g},function(d,c,e){var a=e(162),b=e(171),f=e(175)("species");d.exports=function(i,h){var g,j=a(i).constructor;return void 0===j||void 0==(g=a(j)[f])?h:b(g)}},function(c,r,d){var e,t,g,l=d(170),s=d(228),i=d(198),p=d(165),n=d(154),k=n.process,b=n.setImmediate,o=n.clearImmediate,a=n.MessageChannel,h=0,m={},q="onreadystatechange",j=function(){var v=+this;if(m.hasOwnProperty(v)){var u=m[v];delete m[v],u()}},f=function(u){j.call(u.data)};b&&o||(b=function(w){for(var u=[],v=1;arguments.length>v;){u.push(arguments[v++])}return m[++h]=function(){s("function"==typeof w?w:Function(w),u)},e(h),h},o=function(u){delete m[u]},"process"==d(184)(k)?e=function(u){k.nextTick(l(j,u,1))}:a?(t=new a(),g=t.port2,t.port1.onmessage=f,e=l(g.postMessage,g,1)):n.addEventListener&&"function"==typeof postMessage&&!n.importScripts?(e=function(u){n.postMessage(u+"","*")},n.addEventListener("message",f,!1)):e=q in p("script")?function(u){i.appendChild(p("script"))[q]=function(){i.removeChild(this),j.call(u)}}:function(u){setTimeout(l(j,u,1),0)}),c.exports={set:b,clear:o}},function(d,f,c){var b=c(154),i=c(358).set,e=b.MutationObserver||b.WebKitMutationObserver,a=b.process,g=b.Promise,h="process"==c(184)(a);d.exports=function(){var m,o,l,k=function(){var r,q;for(h&&(r=a.domain)&&r.exit();m;){q=m.fn,m=m.next;try{q()}catch(s){throw m?l():o=void 0,s}}o=void 0,r&&r.enter()};if(h){l=function(){a.nextTick(k)}}else{if(e){var j=!0,n=document.createTextNode("");new e(k).observe(n,{characterData:!0}),l=function(){n.data=j=!j}}else{if(g&&g.resolve){var p=g.resolve();l=function(){p.then(k)}}else{l=function(){i.call(b,k)}}}}return function(r){var q={fn:r,next:void 0};o&&(o.next=q),m||(m=q,l()),o=q}}},function(b,a,c){var d=c(168);b.exports=function(g,h,f){for(var e in h){d(g,e,h[e],f)}return g}},function(c,b,d){var a=d(362);c.exports=d(363)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var f=a.getEntry(this,e);return f&&f.v},set:function(e,f){return a.def(this,0===e?0:e,f)}},a,!0)},function(d,i,c){var n=c(161).f,j=c(196),f=c(360),q=c(170),p=c(355),g=c(185),a=c(356),b=c(278),e=c(344),l=c(342),k=c(156),m=c(172).fastKey,o=k?"_s":"size",h=function(u,s){var t,r=m(s);if("F"!==r){return u._i[r]}for(t=u._f;t;t=t.n){if(t.k==s){return t}}};d.exports={getConstructor:function(v,t,s,r){var u=v(function(w,x){p(w,u,t,"_i"),w._i=j(null),w._f=void 0,w._l=void 0,w[o]=0,void 0!=x&&a(x,s,w[r],w)});return f(u.prototype,{clear:function(){for(var x=this,y=x._i,w=x._f;w;w=w.n){w.r=!0,w.p&&(w.p=w.p.n=void 0),delete y[w.i]}x._f=x._l=void 0,x[o]=0},"delete":function(w){var A=this,z=h(A,w);if(z){var x=z.n,y=z.p;delete A._i[z.i],z.r=!0,y&&(y.n=x),x&&(x.p=y),A._f==z&&(A._f=x),A._l==z&&(A._l=y),A[o]--}return !!z},forEach:function(w){p(this,u,"forEach");for(var x,y=q(w,arguments.length>1?arguments[1]:void 0,3);x=x?x.n:this._f;){for(y(x.v,x.k,this);x&&x.r;){x=x.p}}},has:function(w){return !!h(this,w)}}),k&&n(u.prototype,"size",{get:function(){return g(this[o])}}),u},def:function(v,s,w){var u,r,t=h(v,s);return t?t.v=w:(v._l=t={i:r=m(s,!0),k:s,v:w,p:u=v._l,n:void 0,r:!1},v._f||(v._f=t),u&&(u.n=t),v[o]++,"F"!==r&&(v._i[r]=t)),v},getEntry:h,setStrong:function(t,s,r){b(t,s,function(v,u){this._t=v,this._k=u,this._l=void 0},function(){for(var w=this,u=w._k,v=w._l;v&&v.r;){v=v.p}return w._t&&(w._l=v=v?v.n:w._t._f)?"keys"==u?e(0,v.k):"values"==u?e(0,v.v):e(0,[v.k,v.v]):(w._t=void 0,e(1))},r?"entries":"values",!r,!0),l(s)}}},function(e,h,d){var c=d(154),g=d(158),j=d(168),f=d(360),o=d(172),a=d(356),m=d(355),n=d(163),b=d(157),k=d(315),i=d(174),l=d(238);e.exports=function(G,p,w,B,s,v){var z=c[G],q=z,E=s?"set":"add",y=q&&q.prototype,A={},D=function(C){var H=y[C];j(y,C,"delete"==C?function(I){return !(v&&!n(I))&&H.call(this,0===I?0:I)}:"has"==C?function(I){return !(v&&!n(I))&&H.call(this,0===I?0:I)}:"get"==C?function(I){return v&&!n(I)?void 0:H.call(this,0===I?0:I)}:"add"==C?function(I){return H.call(this,0===I?0:I),this}:function(J,I){return H.call(this,0===J?0:J,I),this})};if("function"==typeof q&&(v||y.forEach&&!b(function(){new q().entries().next()}))){var F=new q(),x=F[E](v?{}:-0,1)!=F,r=b(function(){F.has(1)}),t=k(function(C){new q(C)}),u=!v&&b(function(){for(var H=new q(),C=5;C--;){H[E](C,C)}return !H.has(-0)});t||(q=p(function(I,H){m(I,q,G);var C=l(new z(),I,q);return void 0!=H&&a(H,s,C[E],C),C}),q.prototype=y,y.constructor=q),(r||u)&&(D("delete"),D("has"),s&&D("get")),(u||x)&&D(E),v&&y.clear&&delete y.clear}else{q=B.getConstructor(p,G,s,E),f(q.prototype,w),o.NEED=!0}return i(q,G),A[G]=q,g(g.G+g.W+g.F*(q!=z),A),v||B.setStrong(q,G,s),q}},function(c,b,d){var a=d(362);c.exports=d(363)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return a.def(this,e=0===e?0:e,e)}},a)},function(e,g,d){var c,m=d(322)(0),l=d(168),p=d(172),q=d(219),k=d(366),o=d(163),j=p.getWeak,n=Object.isExtensible,a=k.ufstore,h={},b=function(r){return function(){return r(this,arguments.length>0?arguments[0]:void 0)}},f={get:function(r){if(o(r)){var s=j(r);return s===!0?a(this).get(r):s?s[this._i]:void 0}},set:function(r,s){return k.def(this,r,s)}},i=e.exports=d(363)("WeakMap",b,f,k,!0,!0);7!=new i().set((Object.freeze||Object)(h),7).get(h)&&(c=k.getConstructor(b),q(c.prototype,f),p.NEED=!0,m(["delete","has","get","set"],function(r){var s=i.prototype,t=s[r];l(s,r,function(w,v){if(o(w)&&!n(w)){this._f||(this._f=new c());var u=this._f[r](w,v);return"set"==r?this:u}return t.call(this,w,v)})}))},function(f,h,e){var g=e(360),j=e(172).getWeak,o=e(162),q=e(163),p=e(355),b=e(356),c=e(322),i=e(155),l=c(5),n=c(6),d=0,a=function(r){return r._l||(r._l=new m())},m=function(){this.a=[]},k=function(r,s){return l(r.a,function(t){return t[0]===s})};m.prototype={get:function(r){var s=k(this,r);if(s){return s[1]}},has:function(r){return !!k(this,r)},set:function(r,t){var s=k(this,r);s?s[1]=t:this.a.push([r,t])},"delete":function(s){var r=n(this.a,function(t){return t[0]===s});return ~r&&this.a.splice(r,1),!!~r}},f.exports={getConstructor:function(v,t,s,r){var u=v(function(w,x){p(w,u,t,"_i"),w._i=d++,w._l=void 0,void 0!=x&&b(x,s,w[r],w)});return g(u.prototype,{"delete":function(w){if(!q(w)){return !1}var x=j(w);return x===!0?a(this)["delete"](w):x&&i(x,this._i)&&delete x[this._i]},has:function(w){if(!q(w)){return !1}var x=j(w);return x===!0?a(this).has(w):x&&i(x,this._i)}}),u},def:function(s,r,u){var t=j(o(r),!0);return t===!0?a(s).set(r,u):t[s._i]=u,s},ufstore:a}},function(b,a,d){var c=d(366);d(363)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return c.def(this,e,!0)}},c,!1,!0)},function(a,q,b){var r=b(158),g=b(369),m=b(370),n=b(162),k=b(189),p=b(187),i=b(163),c=b(154).ArrayBuffer,h=b(357),j=m.ArrayBuffer,f=m.DataView,l=g.ABV&&c.isView,e=j.prototype.slice,o=g.VIEW,d="ArrayBuffer";r(r.G+r.W+r.F*(c!==j),{ArrayBuffer:j}),r(r.S+r.F*!g.CONSTR,d,{isView:function(s){return l&&l(s)||i(s)&&o in s}}),r(r.P+r.U+r.F*b(157)(function(){return !new j(2).slice(1,void 0).byteLength}),d,{slice:function(s,v){if(void 0!==e&&void 0===v){return e.call(n(this),s)}for(var y=n(this).byteLength,w=k(s,y),z=k(void 0===v?y:v,y),A=new (h(this,j))(p(z-w)),u=new f(this),t=new f(A),x=0;w<z;){t.setUint8(x++,u.getUint8(w++))}return A}}),b(342)(d)},function(c,e,b){for(var p,a=b(154),j=b(160),k=b(169),o=k("typed_array"),m=k("view"),h=!(!a.ArrayBuffer||!a.DataView),g=h,f=0,d=9,n="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<d;){(p=a[n[f++]])?(j(p.prototype,o,!0),j(p.prototype,m,!0)):g=!1}c.exports={ABV:h,CONSTR:g,TYPED:o,VIEW:m}},function(h,X,s){var c=s(154),B=s(156),x=s(178),H=s(369),Y=s(160),o=s(360),z=s(157),A=s(355),S=s(188),u=s(187),r=s(200).f,I=s(161).f,Q=s(338),K=s(174),W="ArrayBuffer",w="DataView",V="prototype",g="Wrong length!",T="Wrong index!",Z=c[W],n=c[w],F=c.Math,P=c.RangeError,U=c.Infinity,v=Z,N=F.abs,M=F.pow,l=F.floor,p=F.log,t=F.LN2,b="buffer",R="byteLength",f="byteOffset",k=B?"_b":b,d=B?"_l":R,D=B?"_o":f,O=function(aq,ag,an){var ao,ai,ap,ak=Array(an),ah=8*an-ag-1,am=(1<<ah)-1,j=am>>1,aj=23===ag?M(2,-24)-M(2,-77):0,al=0,ar=aq<0||0===aq&&1/aq<0?1:0;for(aq=N(aq),aq!=aq||aq===U?(ai=aq!=aq?1:0,ao=am):(ao=l(p(aq)/t),aq*(ap=M(2,-ao))<1&&(ao--,ap*=2),aq+=ao+j>=1?aj/ap:aj*M(2,1-j),aq*ap>=2&&(ao++,ap/=2),ao+j>=am?(ai=0,ao=am):ao+j>=1?(ai=(aq*ap-1)*M(2,ag),ao+=j):(ai=aq*M(2,j-1)*M(2,ag),ao=0));ag>=8;ak[al++]=255&ai,ai/=256,ag-=8){}for(ao=ao<<ag|ai,ah+=ag;ah>0;ak[al++]=255&ao,ao/=256,ah-=8){}return ak[--al]|=128*ar,ak},ae=function(aj,ag,am){var ai,ah=8*am-ag-1,al=(1<<ah)-1,j=al>>1,ao=ah-7,ak=am-1,ap=aj[ak--],an=127&ap;for(ap>>=7;ao>0;an=256*an+aj[ak],ak--,ao-=8){}for(ai=an&(1<<-ao)-1,an>>=-ao,ao+=ag;ao>0;ai=256*ai+aj[ak],ak--,ao-=8){}if(0===an){an=1-j}else{if(an===al){return ai?NaN:ap?-U:U}ai+=M(2,ag),an-=j}return(ap?-1:1)*ai*M(2,an-ag)},a=function(j){return j[3]<<24|j[2]<<16|j[1]<<8|j[0]},i=function(j){return[255&j]},m=function(j){return[255&j,j>>8&255]},L=function(j){return[255&j,j>>8&255,j>>16&255,j>>24&255]},ad=function(j){return O(j,52,8)},ac=function(j){return O(j,23,4)},E=function(ah,ag,j){I(ah[V],ag,{get:function(){return this[j]}})},ab=function(aj,an,ah,ag){var ai=+ah,al=S(ai);if(ai!=al||al<0||al+an>aj[d]){throw P(T)}var am=aj[k]._b,j=al+aj[D],ak=am.slice(j,j+an);return ag?ak:ak.reverse()},G=function(al,aq,aj,ag,ao,ai){var ak=+aj,ap=S(ak);if(ak!=ap||ap<0||ap+aq>al[d]){throw P(T)}for(var an=al[k]._b,j=ap+al[D],am=ag(+ao),ah=0;ah<aq;ah++){an[j+ah]=am[ai?ah:aq-ah-1]}},af=function(ah,ag){A(ah,Z,W);var ai=+ag,j=u(ai);if(ai!=j){throw P(g)}return j};if(H.ABV){if(!z(function(){new Z()})||!z(function(){new Z(0.5)})){Z=function(j){return new v(af(this,j))};for(var C,q=Z[V]=v[V],J=r(v),aa=0;J.length>aa;){(C=J[aa++]) in Z||Y(Z,C,v[C])}x||(q.constructor=Z)}var e=new n(new Z(2)),y=n[V].setInt8;e.setInt8(0,2147483648),e.setInt8(1,2147483649),!e.getInt8(0)&&e.getInt8(1)||o(n[V],{setInt8:function(j,ag){y.call(this,j,ag<<24>>24)},setUint8:function(j,ag){y.call(this,j,ag<<24>>24)}},!0)}else{Z=function(ag){var j=af(this,ag);this._b=Q.call(Array(j),0),this[d]=j},n=function(j,ai,ag){A(this,n,w),A(j,Z,w);var ah=j[d],aj=S(ai);if(aj<0||aj>ah){throw P("Wrong offset!")}if(ag=void 0===ag?ah-aj:u(ag),aj+ag>ah){throw P(g)}this[k]=j,this[D]=aj,this[d]=ag},B&&(E(Z,R,"_l"),E(n,b,"_b"),E(n,R,"_l"),E(n,f,"_o")),o(n[V],{getInt8:function(j){return ab(this,1,j)[0]<<24>>24},getUint8:function(j){return ab(this,1,j)[0]},getInt16:function(ag){var j=ab(this,2,ag,arguments[1]);return(j[1]<<8|j[0])<<16>>16},getUint16:function(ag){var j=ab(this,2,ag,arguments[1]);return j[1]<<8|j[0]},getInt32:function(j){return a(ab(this,4,j,arguments[1]))},getUint32:function(j){return a(ab(this,4,j,arguments[1]))>>>0},getFloat32:function(j){return ae(ab(this,4,j,arguments[1]),23,4)},getFloat64:function(j){return ae(ab(this,8,j,arguments[1]),52,8)},setInt8:function(j,ag){G(this,1,j,i,ag)},setUint8:function(j,ag){G(this,1,j,i,ag)},setInt16:function(j,ag){G(this,2,j,m,ag,arguments[2])},setUint16:function(j,ag){G(this,2,j,m,ag,arguments[2])},setInt32:function(j,ag){G(this,4,j,L,ag,arguments[2])},setUint32:function(j,ag){G(this,4,j,L,ag,arguments[2])},setFloat32:function(j,ag){G(this,4,j,ac,ag,arguments[2])},setFloat64:function(j,ag){G(this,8,j,ad,ag,arguments[2])}})}K(Z,W),K(n,w),Y(n[V],H.VIEW,!0),X[W]=Z,X[w]=n},function(b,a,c){var d=c(158);d(d.G+d.W+d.F*!c(369).ABV,{DataView:c(370).DataView})},function(b,a,c){c(373)("Int8",1,function(d){return function(g,e,f){return d(this,g,e,f)}})},function(aU,ab,aK){if(aK(156)){var av=aK(178),u=aK(154),aN=aK(157),c=aK(158),af=aK(369),A=aK(370),X=aK(170),aO=aK(355),ae=aK(167),ap=aK(160),V=aK(360),aG=aK(188),R=aK(187),aj=aK(189),aA=aK(166),S=aK(155),ax=aK(221),aw=aK(225),F=aK(163),f=aK(208),w=aK(312),n=aK(196),t=aK(209),aH=aK(200).f,K=aK(314),ay=aK(169),D=aK(175),T=aK(322),aQ=aK(186),v=aK(357),ad=aK(343),s=aK(279),ar=aK(315),p=aK(342),e=aK(338),am=aK(335),U=aK(161),x=aK(201),L=U.f,aL=x.f,C=u.RangeError,O=u.TypeError,P=u.Uint8Array,ao="ArrayBuffer",aX="Shared"+ao,aE="BYTES_PER_ELEMENT",aP="prototype",ak=Array[aP],M=A.ArrayBuffer,d=A.DataView,aI=T(0),aY=T(2),g=T(3),z=T(4),aD=T(5),y=T(6),aJ=aQ(!0),o=aQ(!1),aW=ad.values,l=ad.keys,h=ad.entries,i=ak.lastIndexOf,aC=ak.reduce,aM=ak.reduceRight,ac=ak.join,r=ak.sort,az=ak.slice,q=ak.toString,aF=ak.toLocaleString,B=D("iterator"),Z=D("toStringTag"),au=ay("typed_constructor"),W=ay("def_constructor"),N=af.CONSTR,aT=af.TYPED,E=af.VIEW,Q="Wrong length!",m=T(1,function(a0,aZ){return j(v(a0,a0[W]),aZ)}),aS=aN(function(){return 1===new P(new Uint16Array([1]).buffer)[0]}),ag=!!P&&!!P[aP].set&&aN(function(){new P(1).set({})}),ai=function(a0,aZ){if(void 0===a0){throw O(Q)}var a2=+a0,a1=R(a0);if(aZ&&!ax(a2,a1)){throw C(Q)}return a1},aa=function(a0,aZ){var a1=aG(a0);if(a1<0||a1%aZ){throw C("Wrong offset!")}return a1},a=function(aZ){if(F(aZ)&&aT in aZ){return aZ}throw O(aZ+" is not a typed array!")},j=function(a0,aZ){if(!(F(a0)&&au in a0)){throw O("It is not a typed array constructor!")}return new a0(aZ)},al=function(a0,aZ){return Y(v(a0,a0[W]),aZ)},Y=function(a3,a2){for(var a0=0,a1=a2.length,aZ=j(a3,a1);a1>a0;){aZ[a0]=a2[a0++]}return aZ},aB=function(a1,a0,aZ){L(a1,a0,{get:function(){return this._d[aZ]}})},at=function(a0){var a6,a1,a9,ba,a2,a7,a8=f(a0),a4=arguments.length,a3=a4>1?arguments[1]:void 0,aZ=void 0!==a3,a5=K(a8);if(void 0!=a5&&!w(a5)){for(a7=a5.call(a8),a9=[],a6=0;!(a2=a7.next()).done;a6++){a9.push(a2.value)}a8=a9}for(aZ&&a4>2&&(a3=X(a3,arguments[2],2)),a6=0,a1=R(a8.length),ba=j(this,a1);a1>a6;a6++){ba[a6]=aZ?a3(a8[a6],a6):a8[a6]}return ba},G=function(){for(var a0=0,a1=arguments.length,aZ=j(this,a1);a1>a0;){aZ[a0]=arguments[a0++]}return aZ},k=!!P&&aN(function(){aF.call(new P(1))}),I=function(){return aF.apply(k?az.call(a(this)):a(this),arguments)},aV={copyWithin:function(aZ,a0){return am.call(a(this),aZ,a0,arguments.length>2?arguments[2]:void 0)},every:function(aZ){return z(a(this),aZ,arguments.length>1?arguments[1]:void 0)},fill:function(aZ){return e.apply(a(this),arguments)},filter:function(aZ){return al(this,aY(a(this),aZ,arguments.length>1?arguments[1]:void 0))},find:function(aZ){return aD(a(this),aZ,arguments.length>1?arguments[1]:void 0)},findIndex:function(aZ){return y(a(this),aZ,arguments.length>1?arguments[1]:void 0)},forEach:function(aZ){aI(a(this),aZ,arguments.length>1?arguments[1]:void 0)},indexOf:function(aZ){return o(a(this),aZ,arguments.length>1?arguments[1]:void 0)},includes:function(aZ){return aJ(a(this),aZ,arguments.length>1?arguments[1]:void 0)},join:function(aZ){return ac.apply(a(this),arguments)},lastIndexOf:function(aZ){return i.apply(a(this),arguments)},map:function(aZ){return m(a(this),aZ,arguments.length>1?arguments[1]:void 0)},reduce:function(aZ){return aC.apply(a(this),arguments)},reduceRight:function(aZ){return aM.apply(a(this),arguments)},reverse:function(){for(var a3,a2=this,a1=a(a2).length,a0=Math.floor(a1/2),aZ=0;aZ<a0;){a3=a2[aZ],a2[aZ++]=a2[--a1],a2[a1]=a3}return a2},some:function(aZ){return g(a(this),aZ,arguments.length>1?arguments[1]:void 0)},sort:function(aZ){return r.call(a(this),aZ)},subarray:function(a1,aZ){var a3=a(this),a2=a3.length,a0=aj(a1,a2);return new (v(a3,a3[W]))(a3.buffer,a3.byteOffset+a0*a3.BYTES_PER_ELEMENT,R((void 0===aZ?a2:aj(aZ,a2))-a0))}},aR=function(a0,aZ){return al(this,az.call(a(this),a0,aZ))},H=function(a0){a(this);var a4=aa(arguments[1],1),a2=this.length,a3=f(a0),aZ=R(a3.length),a1=0;if(aZ+a4>a2){throw C(Q)}for(;a1<aZ;){this[a4+a1]=a3[a1++]}},J={entries:function(){return h.call(a(this))},keys:function(){return l.call(a(this))},values:function(){return aW.call(a(this))}},b=function(a0,aZ){return F(a0)&&a0[aT]&&"symbol"!=typeof aZ&&aZ in a0&&String(+aZ)==String(aZ)},aq=function(a0,aZ){return b(a0,aZ=aA(aZ,!0))?ae(2,a0[aZ]):aL(a0,aZ)},ah=function(a0,aZ,a1){return !(b(a0,aZ=aA(aZ,!0))&&F(a1)&&S(a1,"value"))||S(a1,"get")||S(a1,"set")||a1.configurable||S(a1,"writable")&&!a1.writable||S(a1,"enumerable")&&!a1.enumerable?L(a0,aZ,a1):(a0[aZ]=a1.value,a0)};N||(x.f=aq,U.f=ah),c(c.S+c.F*!N,"Object",{getOwnPropertyDescriptor:aq,defineProperty:ah}),aN(function(){q.call({})})&&(q=aF=function(){return ac.call(this)});var an=V({},aV);V(an,J),ap(an,B,J.values),V(an,{slice:aR,set:H,constructor:function(){},toString:q,toLocaleString:I}),aB(an,"buffer","b"),aB(an,"byteOffset","o"),aB(an,"byteLength","l"),aB(an,"length","e"),L(an,Z,{get:function(){return this[aT]}}),aU.exports=function(a1,a3,a5,a4){a4=!!a4;var a6=a1+(a4?"Clamped":"")+"Array",bf="Uint8Array"!=a6,ba="get"+a1,a9="set"+a1,be=u[a6],bc=be||{},a2=be&&t(be),bi=!be||!af.ABV,a8={},a0=be&&be[aP],a7=function(bk,bj){var bl=bk._d;return bl.v[ba](bj*a3+bl.o,aS)},bg=function(bk,bj,bm){var bl=bk._d;a4&&(bm=(bm=Math.round(bm))<0?0:bm>255?255:255&bm),bl.v[a9](bj*a3+bl.o,bm,aS)},bb=function(bk,bj){L(bk,bj,{get:function(){return a7(this,bj)},set:function(bl){return bg(this,bj,bl)},enumerable:!0})};bi?(be=a5(function(bp,bn,bs,br){aO(bp,be,a6,"_d");var bm,bt,bk,bq,bo=0,bl=0;if(F(bn)){if(!(bn instanceof M||(bq=aw(bn))==ao||bq==aX)){return aT in bn?Y(be,bn):at.call(be,bn)}bm=bn,bl=aa(bs,a3);var bj=bn.byteLength;if(void 0===br){if(bj%a3){throw C(Q)}if(bt=bj-bl,bt<0){throw C(Q)}}else{if(bt=R(br)*a3,bt+bl>bj){throw C(Q)}}bk=bt/a3}else{bk=ai(bn,!0),bt=bk*a3,bm=new M(bt)}for(ap(bp,"_d",{b:bm,o:bl,l:bt,e:bk,v:new d(bm)});bo<bk;){bb(bp,bo++)}}),a0=be[aP]=n(an),ap(a0,"constructor",be)):ar(function(bj){new be(null),new be(bj)},!0)||(be=a5(function(bl,bm,bk,bn){aO(bl,be,a6);var bj;return F(bm)?bm instanceof M||(bj=aw(bm))==ao||bj==aX?void 0!==bn?new bc(bm,aa(bk,a3),bn):void 0!==bk?new bc(bm,aa(bk,a3)):new bc(bm):aT in bm?Y(be,bm):at.call(be,bm):new bc(ai(bm,bf))}),aI(a2!==Function.prototype?aH(bc).concat(aH(a2)):aH(bc),function(bj){bj in be||ap(be,bj,bc[bj])}),be[aP]=a0,av||(a0.constructor=be));var bd=a0[B],aZ=!!bd&&("values"==bd.name||void 0==bd.name),bh=J.values;ap(be,au,!0),ap(a0,aT,a6),ap(a0,E,!0),ap(a0,W,be),(a4?new be(1)[Z]==a6:Z in a0)||L(a0,Z,{get:function(){return a6}}),a8[a6]=be,c(c.G+c.W+c.F*(be!=bc),a8),c(c.S,a6,{BYTES_PER_ELEMENT:a3,from:at,of:G}),aE in a0||ap(a0,aE,a3),c(c.P,a6,aV),p(a6),c(c.P+c.F*ag,a6,{set:H}),c(c.P+c.F*!aZ,a6,J),c(c.P+c.F*(a0.toString!=q),a6,{toString:q}),c(c.P+c.F*aN(function(){new be(1).slice()}),a6,{slice:aR}),c(c.P+c.F*(aN(function(){return[1,2].toLocaleString()!=new be([1,2]).toLocaleString()})||!aN(function(){a0.toLocaleString.call([1,2])})),a6,{toLocaleString:I}),s[a6]=aZ?bd:bh,av||aZ||ap(a0,B,bh)}}else{aU.exports=function(){}}},function(b,a,c){c(373)("Uint8",1,function(d){return function(g,e,f){return d(this,g,e,f)}})},function(b,a,c){c(373)("Uint8",1,function(d){return function(g,e,f){return d(this,g,e,f)}},!0)},function(b,a,c){c(373)("Int16",2,function(d){return function(g,e,f){return d(this,g,e,f)}})},function(b,a,c){c(373)("Uint16",2,function(d){return function(g,e,f){return d(this,g,e,f)}})},function(b,a,c){c(373)("Int32",4,function(d){return function(g,e,f){return d(this,g,e,f)}})},function(b,a,c){c(373)("Uint32",4,function(d){return function(g,e,f){return d(this,g,e,f)}})},function(b,a,c){c(373)("Float32",4,function(d){return function(g,e,f){return d(this,g,e,f)}})},function(b,a,c){c(373)("Float64",8,function(d){return function(g,e,f){return d(this,g,e,f)}})},function(d,c,g){var h=g(158),b=g(171),a=g(162),e=(g(154).Reflect||{}).apply,f=Function.apply;h(h.S+h.F*!g(157)(function(){e(function(){})}),"Reflect",{apply:function(m,j,l){var k=b(m),i=a(l);return e?e(k,j,i):f.call(k,j,i)}})},function(e,i,d){var h=d(158),j=d(196),g=d(171),l=d(162),m=d(163),b=d(157),k=d(227),a=(d(154).Reflect||{}).construct,c=b(function(){function n(){}return !(a(function(){},[],n) instanceof n)}),f=!b(function(){a(function(){})});h(h.S+h.F*(c||f),"Reflect",{construct:function(r,p){g(r),l(p);var s=arguments.length<3?r:g(arguments[2]);if(f&&!c){return a(r,p,s)}if(r==s){switch(p.length){case 0:return new r();case 1:return new r(p[0]);case 2:return new r(p[0],p[1]);case 3:return new r(p[0],p[1],p[2]);case 4:return new r(p[0],p[1],p[2],p[3])}var t=[null];return t.push.apply(t,p),new (k.apply(r,t))()}var q=s.prototype,o=j(m(q)?q:Object.prototype),n=Function.apply.call(r,o,p);return m(n)?n:o}})},function(d,b,e){var f=e(161),g=e(158),a=e(162),c=e(166);g(g.S+g.F*e(157)(function(){Reflect.defineProperty(f.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(k,i,h){a(k),i=c(i,!0),a(h);try{return f.f(k,i,h),!0}catch(j){return !1}}})},function(c,b,e){var f=e(158),d=e(201).f,a=e(162);f(f.S,"Reflect",{deleteProperty:function(h,g){var i=d(a(h),g);return !(i&&!i.configurable)&&delete h[g]}})},function(c,b,d){var f=d(158),a=d(162),e=function(i){this._t=a(i),this._i=0;var g,h=this._k=[];for(g in i){h.push(g)}};d(280)(e,"Object",function(){var g,i=this,h=i._k;do{if(i._i>=h.length){return{value:void 0,done:!0}}}while(!((g=h[i._i++]) in i._t));return{value:g,done:!1}}),f(f.S,"Reflect",{enumerate:function(g){return new e(g)}})},function(b,e,a){function c(n,m){var o,k,l=arguments.length<3?n:arguments[2];return g(n)===l?n[m]:(o=f.f(n,m))?i(o,"value")?o.value:void 0!==o.get?o.get.call(l):void 0:j(k=h(n))?c(k,m,l):void 0}var f=a(201),h=a(209),i=a(155),d=a(158),j=a(163),g=a(162);d(d.S,"Reflect",{get:c})},function(c,b,e){var d=e(201),f=e(158),a=e(162);f(f.S,"Reflect",{getOwnPropertyDescriptor:function(h,g){return d.f(a(h),g)}})},function(d,c,e){var f=e(158),b=e(209),a=e(162);f(f.S,"Reflect",{getPrototypeOf:function(g){return b(a(g))}})},function(b,a,c){var d=c(158);d(d.S,"Reflect",{has:function(f,e){return e in f}})},function(c,b,d){var f=d(158),a=d(162),e=Object.isExtensible;f(f.S,"Reflect",{isExtensible:function(g){return a(g),!e||e(g)}})},function(b,a,c){var d=c(158);d(d.S,"Reflect",{ownKeys:c(393)})},function(d,c,f){var e=f(200),b=f(193),a=f(162),g=f(154).Reflect;d.exports=g&&g.ownKeys||function(i){var j=e.f(a(i)),h=b.f;return h?j.concat(h(i)):j}},function(c,b,e){var f=e(158),a=e(162),d=Object.preventExtensions;f(f.S,"Reflect",{preventExtensions:function(h){a(h);try{return d&&d(h),!0}catch(g){return !1}}})},function(c,e,b){function i(s,r,n){var m,p,q=arguments.length<4?s:arguments[3],o=f.f(h(s),r);if(!o){if(l(p=j(s))){return i(p,r,n,q)}o=a(0)}return k(o,"value")?!(o.writable===!1||!l(q))&&(m=f.f(q,r)||a(0),m.value=n,g.f(q,r,m),!0):void 0!==o.set&&(o.set.call(q,n),!0)}var g=b(161),f=b(201),j=b(209),k=b(155),d=b(158),a=b(167),h=b(162),l=b(163);d(d.S,"Reflect",{set:i})},function(b,a,d){var e=d(158),c=d(223);c&&e(e.S,"Reflect",{setPrototypeOf:function(h,f){c.check(h,f);try{return c.set(h,f),!0}catch(g){return !1}}})},function(c,b,d){var e=d(158),a=d(186)(!0);e(e.P,"Array",{includes:function(f){return a(this,f,arguments.length>1?arguments[1]:void 0)}}),d(336)("includes")},function(b,a,c){var e=c(158),d=c(277)(!0);e(e.P,"String",{at:function(f){return d(this,f)}})},function(b,a,c){var e=c(158),d=c(400);e(e.P,"String",{padStart:function(f){return d(this,f,arguments.length>1?arguments[1]:void 0,!0)}})},function(c,b,e){var a=e(187),d=e(241),f=e(185);c.exports=function(o,h,i,l){var m=String(f(o)),g=m.length,p=void 0===i?" ":String(i),j=a(h);if(j<=g||""==p){return m}var n=j-g,k=d.call(p,Math.ceil(n/p.length));return k.length>n&&(k=k.slice(0,n)),l?k+m:m+k}},function(b,a,c){var e=c(158),d=c(400);e(e.P,"String",{padEnd:function(f){return d(this,f,arguments.length>1?arguments[1]:void 0,!1)}})},function(b,a,c){c(233)("trimLeft",function(d){return function(){return d(this,1)}},"trimStart")},function(b,a,c){c(233)("trimRight",function(d){return function(){return d(this,2)}},"trimEnd")},function(b,f,a){var d=a(158),e=a(185),i=a(187),c=a(284),h=a(346),j=RegExp.prototype,g=function(l,k){this._r=l,this._s=k};a(280)(g,"RegExp String",function(){var k=this._r.exec(this._s);return{value:k,done:null===k}}),d(d.P,"String",{matchAll:function(m){if(e(this),!c(m)){throw TypeError(m+" is not a regexp!")}var l=String(this),k="flags" in j?String(m.flags):h.call(m),n=new RegExp(m.source,~k.indexOf("g")?k:"g"+k);return n.lastIndex=i(m.lastIndex),new g(n,l)}})},function(b,a,c){c(177)("asyncIterator")},function(b,a,c){c(177)("observable")},function(c,b,f){var h=f(158),a=f(393),g=f(182),d=f(201),e=f(313);h(h.S,"Object",{getOwnPropertyDescriptors:function(l){for(var n,p=g(l),k=d.f,o=a(p),j={},m=0;o.length>m;){e(j,n=o[m++],k(p,n))}return j}})},function(b,a,d){var e=d(158),c=d(409)(!1);e(e.S,"Object",{values:function(f){return c(f)}})},function(b,a,c){var f=c(180),e=c(182),d=c(194).f;b.exports=function(g){return function(l){for(var k,o=e(l),n=f(o),m=n.length,j=0,h=[];m>j;){d.call(o,k=n[j++])&&h.push(g?[k,o[k]]:o[k])}return h}}},function(b,a,d){var e=d(158),c=d(409)(!0);e(e.S,"Object",{entries:function(f){return c(f)}})},function(d,b,f){var g=f(158),e=f(208),a=f(171),c=f(161);f(156)&&g(g.P+f(412),"Object",{__defineGetter__:function(i,h){c.f(e(this),i,{get:a(h),enumerable:!0,configurable:!0})}})},function(b,a,c){b.exports=c(178)||!c(157)(function(){var d=Math.random();__defineSetter__.call(null,d,function(){}),delete c(154)[d]})},function(d,b,f){var g=f(158),e=f(208),a=f(171),c=f(161);f(156)&&g(g.P+f(412),"Object",{__defineSetter__:function(h,i){c.f(e(this),h,{set:a(i),enumerable:!0,configurable:!0})}})},function(c,a,g){var h=g(158),f=g(208),b=g(166),e=g(209),d=g(201).f;g(156)&&h(h.P+g(412),"Object",{__lookupGetter__:function(j){var l,k=f(this),i=b(j,!0);do{if(l=d(k,i)){return l.get}}while(k=e(k))}})},function(c,a,g){var h=g(158),f=g(208),b=g(166),e=g(209),d=g(201).f;g(156)&&h(h.P+g(412),"Object",{__lookupSetter__:function(j){var l,k=f(this),i=b(j,!0);do{if(l=d(k,i)){return l.set}}while(k=e(k))}})},function(b,a,c){var d=c(158);d(d.P+d.R,"Map",{toJSON:c(417)("Map")})},function(c,a,d){var b=d(225),e=d(418);c.exports=function(f){return function(){if(b(this)!=f){throw TypeError(f+"#toJSON isn't generic")}return e(this)}}},function(b,a,c){var d=c(356);b.exports=function(g,f){var e=[];return d(g,!1,e.push,e,f),e}},function(b,a,c){var d=c(158);d(d.P+d.R,"Set",{toJSON:c(417)("Set")})},function(b,a,c){var d=c(158);d(d.S,"System",{global:c(154)})},function(b,a,c){var e=c(158),d=c(184);e(e.S,"Error",{isError:function(f){return"Error"===d(f)}})},function(b,a,c){var d=c(158);d(d.S,"Math",{iaddh:function(h,g,k,j){var f=h>>>0,e=g>>>0,i=k>>>0;return e+(j>>>0)+((f&i|(f|i)&~(f+i>>>0))>>>31)|0}})},function(b,a,c){var d=c(158);d(d.S,"Math",{isubh:function(h,g,k,j){var f=h>>>0,e=g>>>0,i=k>>>0;return e-(j>>>0)-((~f&i|~(f^i)&f-i>>>0)>>>31)|0}})},function(b,a,c){var d=c(158);d(d.S,"Math",{imulh:function(m,k){var g=65535,i=+m,h=+k,f=i&g,l=h&g,e=i>>16,j=h>>16,n=(e*l>>>0)+(f*l>>>16);return e*j+(n>>16)+((f*j>>>0)+(n&g)>>16)}})},function(b,a,c){var d=c(158);d(d.S,"Math",{umulh:function(m,k){var g=65535,i=+m,h=+k,f=i&g,l=h&g,e=i>>>16,j=h>>>16,n=(e*l>>>0)+(f*l>>>16);return e*j+(n>>>16)+((f*j>>>0)+(n&g)>>>16)}})},function(e,b,g){var d=g(427),a=g(162),f=d.key,c=d.set;d.exp({defineMetadata:function(k,i,j,h){c(k,i,a(j),f(h))}})},function(e,l,d){var c=d(361),k=d(158),f=d(173)("metadata"),n=f.store||(f.store=new (d(365))()),g=function(r,o,q){var p=n.get(r);if(!p){if(!q){return}n.set(r,p=new c())}var s=p.get(o);if(!s){if(!q){return}p.set(o,s=new c())}return s},j=function(p,r,q){var o=g(r,q,!1);return void 0!==o&&o.has(p)},i=function(p,r,q){var o=g(r,q,!1);return void 0===o?void 0:o.get(p)},b=function(p,o,r,q){g(r,q,!0).set(p,o)},a=function(r,o){var p=g(r,o,!1),q=[];return p&&p.forEach(function(s,t){q.push(t)}),q},m=function(o){return void 0===o||"symbol"==typeof o?o:String(o)},h=function(o){k(k.S,"Reflect",o)};e.exports={store:n,map:g,has:j,get:i,set:b,keys:a,key:m,exp:h}},function(e,c,h){var d=h(427),a=h(162),f=d.key,g=d.map,b=d.store;d.exp({deleteMetadata:function(m,l){var i=arguments.length<3?void 0:f(arguments[2]),k=g(a(l),i,!1);if(void 0===k||!k["delete"](m)){return !1}if(k.size){return !0}var j=b.get(l);return j["delete"](i),!!j.size||b["delete"](l)}})},function(b,e,a){var h=a(427),j=a(162),i=a(209),c=h.has,d=h.get,f=h.key,g=function(l,o,n){var k=c(l,o,n);if(k){return d(l,o,n)}var m=i(o);return null!==m?g(l,m,n):void 0};h.exp({getMetadata:function(l,k){return g(l,j(k),arguments.length<3?void 0:f(arguments[2]))}})},function(c,e,b){var k=b(364),h=b(418),g=b(427),j=b(162),i=b(209),a=g.keys,f=g.key,d=function(o,n){var p=a(o,n),m=i(o);if(null===m){return p}var l=d(m,n);return l.length?p.length?h(new k(p.concat(l))):l:p};g.exp({getMetadataKeys:function(l){return d(j(l),arguments.length<2?void 0:f(arguments[1]))}})},function(e,b,g){var d=g(427),a=g(162),c=d.get,f=d.key;d.exp({getOwnMetadata:function(i,h){return c(i,a(h),arguments.length<3?void 0:f(arguments[2]))}})},function(e,c,g){var d=g(427),b=g(162),a=d.keys,f=d.key;d.exp({getOwnMetadataKeys:function(h){return a(b(h),arguments.length<2?void 0:f(arguments[1]))}})},function(c,e,b){var g=b(427),i=b(162),h=b(209),d=g.has,f=g.key,a=function(k,n,m){var j=d(k,n,m);if(j){return !0}var l=h(n);return null!==l&&a(k,l,m)};g.exp({hasMetadata:function(k,j){return a(k,i(j),arguments.length<3?void 0:f(arguments[2]))}})},function(e,b,g){var d=g(427),a=g(162),c=d.has,f=d.key;d.exp({hasOwnMetadata:function(i,h){return c(i,a(h),arguments.length<3?void 0:f(arguments[2]))}})},function(f,c,h){var e=h(427),a=h(162),b=h(171),g=e.key,d=e.set;e.exp({metadata:function(j,i){return function(l,k){d(j,i,(void 0!==k?a:b)(l),g(k))}}})},function(b,a,f){var g=f(158),c=f(359)(),e=f(154).process,d="process"==f(184)(e);g(g.G,{asap:function(h){var i=d&&e.domain;c(i?i.bind(h):h)}})},function(d,u,f){var v=f(158),p=f(154),s=f(159),r=f(359)(),o=f(175)("observable"),t=f(171),q=f(162),m=f(355),j=f(360),k=f(160),h=f(356),i=h.RETURN,c=function(w){return null==w?void 0:t(w)},b=function(x){var w=x._c;w&&(x._c=void 0,w())},n=function(w){return void 0===w._o},g=function(w){n(w)||(w._o=void 0,b(w))},l=function(w,y){q(w),this._c=void 0,this._o=w,w=new e(this);try{var x=y(w),z=x;null!=x&&("function"==typeof x.unsubscribe?x=function(){z.unsubscribe()}:t(x),this._c=x)}catch(A){return void w.error(A)}n(this)&&b(this)};l.prototype=j({},{unsubscribe:function(){g(this)}});var e=function(w){this._s=w};e.prototype=j({},{next:function(z){var y=this._s;if(!n(y)){var x=y._o;try{var w=c(x.next);if(w){return w.call(x,z)}}catch(A){try{g(y)}finally{throw A}}}},error:function(z){var y=this._s;if(n(y)){throw z}var x=y._o;y._o=void 0;try{var w=c(x.error);if(!w){throw z}z=w.call(x,z)}catch(A){try{b(y)}finally{throw A}}return b(y),z},complete:function(z){var y=this._s;if(!n(y)){var x=y._o;y._o=void 0;try{var w=c(x.complete);z=w?w.call(x,z):void 0}catch(A){try{b(y)}finally{throw A}}return b(y),z}}});var a=function(w){m(this,a,"Observable","_f")._f=t(w)};j(a.prototype,{subscribe:function(w){return new l(w,this._f)},forEach:function(w){var x=this;return new (s.Promise||p.Promise)(function(A,z){t(w);var y=x.subscribe({next:function(B){try{return w(B)}catch(C){z(C),y.unsubscribe()}},error:z,complete:A})})}}),j(a,{from:function(w){var z="function"==typeof this?this:a,A=c(q(w)[o]);if(A){var y=q(A.call(w));return y.constructor===z?y:new z(function(x){return y.subscribe(x)})}return new z(function(B){var x=!1;return r(function(){if(!x){try{if(h(w,!1,function(D){if(B.next(D),x){return i}})===i){return}}catch(C){if(x){throw C}return void B.error(C)}B.complete()}}),function(){x=!0}})},of:function(){for(var y=0,w=arguments.length,x=Array(w);y<w;){x[y]=arguments[y++]}return new ("function"==typeof this?this:a)(function(A){var z=!1;return r(function(){if(!z){for(var B=0;B<x.length;++B){if(A.next(x[B]),z){return}}A.complete()}}),function(){z=!0}})}}),k(a.prototype,o,function(){return this}),v(v.G,{Observable:a}),f(342)("Observable")},function(d,g,c){var b=c(154),e=c(158),f=c(228),i=c(439),j=b.navigator,h=!!j&&/MSIE .\./.test(j.userAgent),a=function(k){return h?function(l,m){return k(f(i,[].slice.call(arguments,2),"function"==typeof l?l:Function(l)),m)}:k};e(e.G+e.B+e.F*h,{setTimeout:a(b.setTimeout),setInterval:a(b.setInterval)})},function(d,b,f){var e=f(440),c=f(228),a=f(171);d.exports=function(){for(var l=a(this),m=arguments.length,k=Array(m),j=0,g=e._,h=!1;m>j;){(k[j]=arguments[j++])===g&&(h=!0)}return function(){var p,q=this,n=arguments.length,o=0,i=0;if(!h&&!n){return c(l,k,q)}if(p=k.slice(),h){for(;m>o;o++){p[o]===g&&(p[o]=arguments[i++])}}for(;n>i;){p.push(arguments[i++])}return c(l,p,q)}}},function(b,a,c){b.exports=c(154)},function(b,a,c){var e=c(158),d=c(358);e(e.G+e.B,{setImmediate:d.set,clearImmediate:d.clear})},function(c,p,d){for(var b=d(343),j=d(168),m=d(154),h=d(160),g=d(279),o=d(175),e=o("iterator"),a=o("toStringTag"),s=g.Array,k=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],n=0;n<5;n++){var r,f=k[n],q=m[f],l=q&&q.prototype;if(l){l[e]||h(l,e,s),l[a]||h(l,a,f),g[f]=s;for(r in b){l[r]||j(l,r,b[r],!0)}}}},function(b,a,c){(function(d,e){!function(E){function r(R,L,N,M){var P=L&&L.prototype instanceof l?L:l,Q=Object.create(P.prototype),O=new C(M||[]);return Q._invoke=k(R,N,O),Q}function q(M,O,L){try{return{type:"normal",arg:M.call(O,L)}}catch(N){return{type:"throw",arg:N}}}function l(){}function y(){}function p(){}function H(L){["next","throw","return"].forEach(function(M){L[M]=function(N){return this._invoke(M,N)}})}function A(N){function M(V,Q,U,T){var R=q(N[V],N,Q);if("throw"!==R.type){var P=R.arg,S=P.value;return S&&"object"==typeof S&&x.call(S,"__await")?Promise.resolve(S.__await).then(function(W){M("next",W,U,T)},function(W){M("throw",W,U,T)}):Promise.resolve(S).then(function(W){P.value=W,U(P)},T)}T(R.arg)}function L(R,P){function Q(){return new Promise(function(T,S){M(R,P,T,S)})}return O=O?O.then(Q,Q):Q()}"object"==typeof e&&e.domain&&(M=e.domain.bind(M));var O;this._invoke=L}function k(O,L,M){var N=h;return function(T,P){if(N===D){throw new Error("Generator is already running")}if(N===m){if("throw"===T){throw P}return z()}for(M.method=T,M.arg=P;;){var R=M.delegate;if(R){var S=s(R,M);if(S){if(S===n){continue}return S}}if("next"===M.method){M.sent=M._sent=M.arg}else{if("throw"===M.method){if(N===h){throw N=m,M.arg}M.dispatchException(M.arg)}else{"return"===M.method&&M.abrupt("return",M.arg)}}N=D;var Q=q(O,L,M);if("normal"===Q.type){if(N=M.done?m:B,Q.arg===n){continue}return{value:Q.arg,done:M.done}}"throw"===Q.type&&(N=m,M.method="throw",M.arg=Q.arg)}}}function s(N,M){var P=N.iterator[M.method];if(P===o){if(M.delegate=null,"throw"===M.method){if(N.iterator["return"]&&(M.method="return",M.arg=o,s(N,M),"throw"===M.method)){return n}M.method="throw",M.arg=new TypeError("The iterator does not provide a 'throw' method")}return n}var L=q(P,N.iterator,M.arg);if("throw"===L.type){return M.method="throw",M.arg=L.arg,M.delegate=null,n}var O=L.arg;return O?O.done?(M[N.resultName]=O.value,M.next=N.nextLoc,"return"!==M.method&&(M.method="next",M.arg=o),M.delegate=null,n):O:(M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,n)}function u(M){var L={tryLoc:M[0]};1 in M&&(L.catchLoc=M[1]),2 in M&&(L.finallyLoc=M[2],L.afterLoc=M[3]),this.tryEntries.push(L)}function g(M){var L=M.completion||{};L.type="normal",delete L.arg,M.completion=L}function C(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(u,this),this.reset(!0)}function i(N){if(N){var O=N[G];if(O){return O.call(N)}if("function"==typeof N.next){return N}if(!isNaN(N.length)){var L=-1,M=function M(){for(;++L<N.length;){if(x.call(N,L)){return M.value=N[L],M.done=!1,M}}return M.value=o,M.done=!0,M};return M.next=M}}return{next:z}}function z(){return{value:o,done:!0}}var o,t=Object.prototype,x=t.hasOwnProperty,J="function"==typeof Symbol?Symbol:{},G=J.iterator||"@@iterator",w=J.toStringTag||"@@toStringTag",K="object"==typeof b,F=E.regeneratorRuntime;if(F){return void (K&&(b.exports=F))}F=E.regeneratorRuntime=K?b.exports:{},F.wrap=r;var h="suspendedStart",B="suspendedYield",D="executing",m="completed",n={},v={};v[G]=function(){return this};var f=Object.getPrototypeOf,j=f&&f(f(i([])));j&&j!==t&&x.call(j,G)&&(v=j);var I=p.prototype=l.prototype=Object.create(v);y.prototype=I.constructor=p,p.constructor=y,p[w]=y.displayName="GeneratorFunction",F.isGeneratorFunction=function(M){var L="function"==typeof M&&M.constructor;return !!L&&(L===y||"GeneratorFunction"===(L.displayName||L.name))},F.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,p):(L.__proto__=p,w in L||(L[w]="GeneratorFunction")),L.prototype=Object.create(I),L},F.awrap=function(L){return{__await:L}},H(A.prototype),F.AsyncIterator=A,F.async=function(P,L,O,N){var M=new A(r(P,L,O,N));return F.isGeneratorFunction(L)?M:M.next().then(function(Q){return Q.done?Q.value:M.next()})},H(I),I[w]="Generator",I.toString=function(){return"[object Generator]"},F.keys=function(L){var O=[];for(var M in L){O.push(M)}return O.reverse(),function N(){for(;O.length;){var P=O.pop();if(P in L){return N.value=P,N.done=!1,N}}return N.done=!0,N}},F.values=i,C.prototype={constructor:C,reset:function(M){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(g),!M){for(var L in this){"t"===L.charAt(0)&&x.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=o)}}},stop:function(){this.done=!0;var L=this.tryEntries[0],M=L.completion;if("throw"===M.type){throw M.arg}return this.rval},dispatchException:function(P){function S(U,T){return L.type="throw",L.arg=P,O.next=U,T&&(O.method="next",O.arg=o),!!T}if(this.done){throw P}for(var O=this,N=this.tryEntries.length-1;N>=0;--N){var R=this.tryEntries[N],L=R.completion;if("root"===R.tryLoc){return S("end")}if(R.tryLoc<=this.prev){var Q=x.call(R,"catchLoc"),M=x.call(R,"finallyLoc");if(Q&&M){if(this.prev<R.catchLoc){return S(R.catchLoc,!0)}if(this.prev<R.finallyLoc){return S(R.finallyLoc)}}else{if(Q){if(this.prev<R.catchLoc){return S(R.catchLoc,!0)}}else{if(!M){throw new Error("try statement without catch or finally")}if(this.prev<R.finallyLoc){return S(R.finallyLoc)}}}}}},abrupt:function(P,L){for(var N=this.tryEntries.length-1;N>=0;--N){var Q=this.tryEntries[N];if(Q.tryLoc<=this.prev&&x.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var O=Q;break}}O&&("break"===P||"continue"===P)&&O.tryLoc<=L&&L<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=P,M.arg=L,O?(this.method="next",this.next=O.finallyLoc,n):this.complete(M)},complete:function(M,L){if("throw"===M.type){throw M.arg}return"break"===M.type||"continue"===M.type?this.next=M.arg:"return"===M.type?(this.rval=this.arg=M.arg,this.method="return",this.next="end"):"normal"===M.type&&L&&(this.next=L),n},finish:function(L){for(var M=this.tryEntries.length-1;M>=0;--M){var N=this.tryEntries[M];if(N.finallyLoc===L){return this.complete(N.completion,N.afterLoc),g(N),n}}},"catch":function(M){for(var N=this.tryEntries.length-1;N>=0;--N){var P=this.tryEntries[N];if(P.tryLoc===M){var L=P.completion;if("throw"===L.type){var O=L.arg;g(P)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(M,N,L){return this.delegate={iterator:i(M),resultName:N,nextLoc:L},"next"===this.method&&(this.arg=o),n}}}("object"==typeof d?d:"object"==typeof window?window:"object"==typeof self?self:this)}).call(a,function(){return this}(),c(444))},function(f,h){function n(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function a(r){if(i===setTimeout){return setTimeout(r,0)}if((i===n||!i)&&setTimeout){return i=setTimeout,setTimeout(r,0)}try{return i(r,0)}catch(s){try{return i.call(null,r,0)}catch(s){return i.call(this,r,0)}}}function b(r){if(d===clearTimeout){return clearTimeout(r)}if((d===e||!d)&&clearTimeout){return d=clearTimeout,clearTimeout(r)}try{return d(r)}catch(s){try{return d.call(null,r)}catch(s){return d.call(this,r)}}}function m(){o&&k&&(o=!1,k.length?j=k.concat(j):l=-1,j.length&&q())}function q(){if(!o){var s=a(m);o=!0;for(var r=j.length;r;){for(k=j,j=[];++l<r;){k&&k[l].run()}l=-1,r=j.length}k=null,o=!1,b(s)}}function g(r,s){this.fun=r,this.array=s}function p(){}var i,d,c=f.exports={};!function(){try{i="function"==typeof setTimeout?setTimeout:n}catch(r){i=n}try{d="function"==typeof clearTimeout?clearTimeout:e}catch(r){d=e}}();var k,j=[],o=!1,l=-1;c.nextTick=function(r){var s=new Array(arguments.length-1);if(arguments.length>1){for(var t=1;t<arguments.length;t++){s[t-1]=arguments[t]}}j.push(new g(r,s)),1!==j.length||o||a(q)},g.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=p,c.addListener=p,c.once=p,c.off=p,c.removeListener=p,c.removeAllListeners=p,c.emit=p,c.binding=function(r){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(r){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(b,a,c){c(446),b.exports=c(159).RegExp.escape},function(c,a,d){var e=d(158),b=d(447)(/[\\^$*+?.()|[\]{}]/g,"\\$&");e(e.S,"RegExp",{escape:function(f){return b(f)}})},function(b,a){b.exports=function(c,e){var d=e===Object(e)?function(f){return e[f]}:e;return function(f){return String(f).replace(c,d)}}}]);